{
  "version": 3,
  "sources": ["../../../../../../node_modules/@uppy/screen-capture/package.json", "../../../../../../node_modules/@uppy/screen-capture/lib/locale.js", "../../../../../../node_modules/@uppy/screen-capture/lib/DiscardButton.js", "../../../../../../node_modules/@uppy/screen-capture/lib/RecordButton.js", "../../../../../../node_modules/@uppy/screen-capture/lib/ScreenshotButton.js", "../../../../../../node_modules/@uppy/screen-capture/lib/StopWatch.js", "../../../../../../node_modules/@uppy/screen-capture/lib/StreamStatus.js", "../../../../../../node_modules/@uppy/screen-capture/lib/SubmitButton.js", "../../../../../../node_modules/@uppy/screen-capture/lib/RecorderScreen.js", "../../../../../../node_modules/@uppy/screen-capture/lib/ScreenRecIcon.js", "../../../../../../node_modules/@uppy/screen-capture/lib/ScreenCapture.js"],
  "sourcesContent": ["{\n  \"name\": \"@uppy/screen-capture\",\n  \"description\": \"Uppy plugin that captures video from display or application.\",\n  \"version\": \"4.4.2\",\n  \"license\": \"MIT\",\n  \"main\": \"lib/index.js\",\n  \"style\": \"dist/style.min.css\",\n  \"type\": \"module\",\n  \"scripts\": {\n    \"build\": \"tsc --build tsconfig.build.json\",\n    \"build:css\": \"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css\",\n    \"typecheck\": \"tsc --build\"\n  },\n  \"keywords\": [\n    \"file uploader\",\n    \"uppy\",\n    \"uppy-plugin\",\n    \"screen capture\",\n    \"video\",\n    \"record\",\n    \"mediarecorder\"\n  ],\n  \"homepage\": \"https://uppy.io\",\n  \"bugs\": {\n    \"url\": \"https://github.com/transloadit/uppy/issues\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/transloadit/uppy.git\"\n  },\n  \"files\": [\n    \"src\",\n    \"lib\",\n    \"dist\",\n    \"CHANGELOG.md\"\n  ],\n  \"dependencies\": {\n    \"@uppy/utils\": \"^6.2.2\",\n    \"preact\": \"^10.5.13\"\n  },\n  \"peerDependencies\": {\n    \"@uppy/core\": \"^4.5.2\"\n  },\n  \"publishConfig\": {\n    \"access\": \"public\"\n  },\n  \"devDependencies\": {\n    \"cssnano\": \"^7.0.7\",\n    \"postcss\": \"^8.5.6\",\n    \"postcss-cli\": \"^11.0.1\",\n    \"sass\": \"^1.89.2\",\n    \"typescript\": \"^5.8.3\"\n  }\n}", "export default {\n    strings: {\n        pluginNameScreenCapture: 'Screencast',\n        startCapturing: 'Begin screen capturing',\n        stopCapturing: 'Stop screen capturing',\n        submitRecordedFile: 'Submit recorded file',\n        streamActive: 'Stream active',\n        streamPassive: 'Stream passive',\n        micDisabled: 'Microphone access denied by user',\n        recording: 'Recording',\n        takeScreenshot: 'Take Screenshot',\n        discardMediaFile: 'Discard Media',\n    },\n};\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\nimport { h } from 'preact';\nexport default function DiscardButton({ onDiscard, i18n, }) {\n    return (_jsx(\"button\", { className: \"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--discard\", type: \"button\", title: i18n('discardMediaFile'), \"aria-label\": i18n('discardMediaFile'), onClick: onDiscard, \"data-uppy-super-focusable\": true, children: _jsxs(\"svg\", { \"aria-hidden\": \"true\", focusable: \"false\", className: \"uppy-c-icon\", width: \"24\", height: \"24\", viewBox: \"0 0 24 24\", fill: \"none\", stroke: \"currentColor\", \"stroke-width\": \"2\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\", children: [_jsx(\"line\", { x1: \"18\", y1: \"6\", x2: \"6\", y2: \"18\" }), _jsx(\"line\", { x1: \"6\", y1: \"6\", x2: \"18\", y2: \"18\" })] }) }));\n}\n", "import { jsx as _jsx } from \"preact/jsx-runtime\";\nimport { h } from 'preact';\n/**\n * Control screen capture recording. Will show record or stop button.\n */\nexport default function RecordButton({ recording, onStartRecording, onStopRecording, i18n, }) {\n    if (recording) {\n        return (_jsx(\"button\", { className: \"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video uppy-ScreenCapture-button--stop-rec\", type: \"button\", title: i18n('stopCapturing'), \"aria-label\": i18n('stopCapturing'), onClick: onStopRecording, \"data-uppy-super-focusable\": true, children: _jsx(\"svg\", { \"aria-hidden\": \"true\", focusable: \"false\", className: \"uppy-c-icon\", width: \"100\", height: \"100\", viewBox: \"0 0 100 100\", children: _jsx(\"rect\", { x: \"15\", y: \"15\", width: \"70\", height: \"70\" }) }) }));\n    }\n    return (_jsx(\"button\", { className: \"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video\", type: \"button\", title: i18n('startCapturing'), \"aria-label\": i18n('startCapturing'), onClick: onStartRecording, \"data-uppy-super-focusable\": true, children: _jsx(\"svg\", { \"aria-hidden\": \"true\", focusable: \"false\", className: \"uppy-c-icon\", width: \"24\", height: \"24\", viewBox: \"0 0 24 24\", fill: \"currentColor\", children: _jsx(\"path\", { d: \"M4.5 4.5a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h8.25a3 3 0 0 0 3-3v-9a3 3 0 0 0-3-3H4.5ZM19.94 18.75l-2.69-2.69V7.94l2.69-2.69c.944-.945 2.56-.276 2.56 1.06v11.38c0 1.336-1.616 2.005-2.56 1.06Z\" }) }) }));\n}\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\nimport { h } from 'preact';\nexport default function ScreenshotButton({ onScreenshot, i18n, }) {\n    return (_jsx(\"button\", { className: \"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--screenshot\", type: \"button\", title: i18n('takeScreenshot'), \"aria-label\": i18n('takeScreenshot'), onClick: onScreenshot, \"data-uppy-super-focusable\": true, children: _jsxs(\"svg\", { \"aria-hidden\": \"true\", focusable: \"false\", className: \"uppy-c-icon\", width: \"24\", height: \"24\", viewBox: \"0 0 24 24\", fill: \"currentColor\", children: [_jsx(\"path\", { d: \"M12 9a3.75 3.75 0 1 0 0 7.5A3.75 3.75 0 0 0 12 9Z\" }), _jsx(\"path\", { \"fill-rule\": \"evenodd\", d: \"M9.344 3.071a49.52 49.52 0 0 1 5.312 0c.967.052 1.83.585 2.332 1.39l.821 1.317c.24.383.645.643 1.11.71.386.054.77.113 1.152.177 1.432.239 2.429 1.493 2.429 2.909V18a3 3 0 0 1-3 3h-15a3 3 0 0 1-3-3V9.574c0-1.416.997-2.67 2.429-2.909.382-.064.766-.123 1.151-.178a1.56 1.56 0 0 0 1.11-.71l.822-1.315a2.942 2.942 0 0 1 2.332-1.39ZM6.75 12.75a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0Zm12-1.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z\", \"clip-rule\": \"evenodd\" })] }) }));\n}\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\nimport { Component, h } from 'preact';\nfunction fmtMSS(s) {\n    // biome-ignore lint/suspicious/noAssignInExpressions: ...\n    return (s - (s %= 60)) / 60 + (s > 9 ? ':' : ':0') + s;\n}\nclass StopWatch extends Component {\n    wrapperStyle = {\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n    };\n    overlayStyle = {\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        background: 'black',\n        opacity: 0.7,\n    };\n    infoContainerStyle = {\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        marginTop: 'auto',\n        marginBottom: 'auto',\n        zIndex: 1,\n        color: 'white',\n    };\n    infotextStyle = {\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        marginBottom: '1rem',\n        fontSize: '1.5rem',\n    };\n    timeStyle = {\n        display: 'block',\n        fontWeight: 'bold',\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        fontSize: '3rem',\n        fontFamily: 'Courier New',\n    };\n    timerRunning = false;\n    timer;\n    constructor(props) {\n        super(props);\n        this.state = { elapsedTime: 0 };\n    }\n    startTimer() {\n        this.timerTick();\n        this.timerRunning = true;\n    }\n    resetTimer() {\n        clearTimeout(this.timer);\n        this.setState({ elapsedTime: 0 });\n        this.timerRunning = false;\n    }\n    timerTick() {\n        this.timer = setTimeout(() => {\n            this.setState((state) => ({\n                elapsedTime: state.elapsedTime + 1,\n            }));\n            this.timerTick();\n        }, 1000);\n    }\n    render() {\n        const { recording, i18n } = { ...this.props };\n        const { elapsedTime } = this.state;\n        // second to minutes and seconds\n        const minAndSec = fmtMSS(elapsedTime);\n        if (recording && !this.timerRunning) {\n            this.startTimer();\n        }\n        if (!recording && this.timerRunning) {\n            this.resetTimer();\n        }\n        if (recording) {\n            return (_jsxs(\"div\", { style: this.wrapperStyle, children: [_jsx(\"div\", { style: this.overlayStyle }), _jsxs(\"div\", { style: this.infoContainerStyle, children: [_jsx(\"div\", { style: this.infotextStyle, children: i18n('recording') }), _jsx(\"div\", { style: this.timeStyle, children: minAndSec })] })] }));\n        }\n        return null;\n    }\n}\nexport default StopWatch;\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\nimport { h } from 'preact';\nexport default function StreamStatus({ streamActive, i18n }) {\n    if (streamActive) {\n        return (_jsx(\"div\", { title: i18n('streamActive'), className: \"uppy-ScreenCapture-icon--stream uppy-ScreenCapture-icon--streamActive\", children: _jsxs(\"svg\", { \"aria-hidden\": \"true\", focusable: \"false\", width: \"24\", height: \"24\", viewBox: \"0 0 24 24\", children: [_jsx(\"path\", { d: \"M0 0h24v24H0z\", opacity: \".1\", fill: \"none\" }), _jsx(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }), _jsx(\"path\", { d: \"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\" })] }) }));\n    }\n    return (_jsx(\"div\", { title: i18n('streamPassive'), className: \"uppy-ScreenCapture-icon--stream\", children: _jsxs(\"svg\", { \"aria-hidden\": \"true\", focusable: \"false\", width: \"24\", height: \"24\", viewBox: \"0 0 24 24\", children: [_jsx(\"path\", { d: \"M0 0h24v24H0z\", opacity: \".1\", fill: \"none\" }), _jsx(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }), _jsx(\"path\", { d: \"M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z\" })] }) }));\n}\n", "import { jsx as _jsx } from \"preact/jsx-runtime\";\nimport { h } from 'preact';\n/**\n * Submit recorded video to uppy. Enabled when file is available\n */\nexport default function SubmitButton({ recording, recordedVideo, onSubmit, capturedScreenshotUrl, i18n, }) {\n    if ((recordedVideo || capturedScreenshotUrl) && !recording) {\n        return (_jsx(\"button\", { className: \"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--submit\", type: \"button\", title: i18n('submitRecordedFile'), \"aria-label\": i18n('submitRecordedFile'), onClick: onSubmit, \"data-uppy-super-focusable\": true, children: _jsx(\"svg\", { width: \"12\", height: \"9\", viewBox: \"0 0 12 9\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-hidden\": \"true\", focusable: \"false\", className: \"uppy-c-icon\", children: _jsx(\"path\", { fill: \"#fff\", fillRule: \"nonzero\", d: \"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z\" }) }) }));\n    }\n    return null;\n}\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\nimport { Component, Fragment, h } from 'preact';\nimport DiscardButton from './DiscardButton.js';\nimport RecordButton from './RecordButton.js';\nimport ScreenshotButton from './ScreenshotButton.js';\nimport StopWatch from './StopWatch.js';\nimport StreamStatus from './StreamStatus.js';\nimport SubmitButton from './SubmitButton.js';\nclass RecorderScreen extends Component {\n    videoElement = null;\n    componentWillUnmount() {\n        const { onStop } = this.props;\n        onStop();\n    }\n    render() {\n        const { recording, stream: videoStream, recordedVideo, enableScreenshots, capturedScreenshotUrl, } = this.props;\n        const videoProps = {\n            playsinline: true,\n        };\n        // show stream\n        if (recording || (!recordedVideo && !recording)) {\n            videoProps.muted = true;\n            videoProps.autoplay = true;\n            videoProps.srcObject = videoStream;\n        }\n        // show preview\n        if (recordedVideo && !recording) {\n            videoProps.muted = false;\n            videoProps.controls = true;\n            videoProps.src = recordedVideo;\n            // reset srcObject in dom. If not resetted, stream sticks in element\n            if (this.videoElement) {\n                this.videoElement.srcObject = null;\n            }\n        }\n        return (_jsxs(\"div\", { className: \"uppy uppy-ScreenCapture-container\", children: [_jsxs(\"div\", { className: \"uppy-ScreenCapture-mediaContainer\", children: [_jsx(StreamStatus, { ...this.props }), capturedScreenshotUrl && !recording && !recordedVideo ? (_jsx(\"div\", { className: \"uppy-ScreenCapture-imageContainer\", children: _jsx(\"img\", { src: capturedScreenshotUrl, className: \"uppy-ScreenCapture-media\", alt: \"screenshotPreview\" }) })) : (_jsx(\"video\", { ref: (videoElement) => {\n                                this.videoElement = videoElement;\n                            }, className: \"uppy-ScreenCapture-media\", ...videoProps })), _jsx(\"div\", { children: _jsx(StopWatch, { ...this.props }) })] }), _jsx(\"div\", { className: \"uppy-ScreenCapture-buttonContainer\", children: recordedVideo || capturedScreenshotUrl ? (_jsxs(Fragment, { children: [_jsx(SubmitButton, { ...this.props }), _jsx(DiscardButton, { ...this.props })] })) : (_jsxs(Fragment, { children: [enableScreenshots && !recording && (_jsx(ScreenshotButton, { ...this.props })), _jsx(RecordButton, { ...this.props })] })) })] }));\n    }\n}\nexport default RecorderScreen;\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\nimport { h } from 'preact';\nexport default function ScreenRecIcon() {\n    return (_jsx(\"svg\", { className: \"uppy-DashboardTab-iconScreenRec\", \"aria-hidden\": \"true\", focusable: \"false\", width: \"32\", height: \"32\", viewBox: \"0 0 32 32\", children: _jsxs(\"g\", { fill: \"currentcolor\", fillRule: \"evenodd\", children: [_jsx(\"path\", { d: \"M24.182 9H7.818C6.81 9 6 9.742 6 10.667v10c0 .916.81 1.666 1.818 1.666h4.546V24h7.272v-1.667h4.546c1 0 1.809-.75 1.809-1.666l.009-10C26 9.742 25.182 9 24.182 9zM24 21H8V11h16v10z\" }), _jsx(\"circle\", { cx: \"16\", cy: \"16\", r: \"2\" })] }) }));\n}\n", "import { jsx as _jsx } from \"preact/jsx-runtime\";\nimport { UIPlugin } from '@uppy/core';\nimport getFileTypeExtension from '@uppy/utils/lib/getFileTypeExtension';\nimport { h } from 'preact';\nimport packageJson from '../package.json' with { type: 'json' };\nimport locale from './locale.js';\nimport RecorderScreen from './RecorderScreen.js';\nimport ScreenRecIcon from './ScreenRecIcon.js';\n// Check if screen capturing is supported.\n// mediaDevices is supprted on mobile Safari, getDisplayMedia is not\nfunction isScreenRecordingSupported() {\n    return window.MediaRecorder && navigator.mediaDevices?.getDisplayMedia;\n}\n// Adapted from: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia\nfunction getMediaDevices() {\n    return window.MediaRecorder && navigator.mediaDevices;\n}\n// Add supported image types\nconst SUPPORTED_IMAGE_TYPES = ['image/png', 'image/jpeg', 'image/webp'];\n// https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamConstraints\nconst defaultOptions = {\n    // https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackConstraints#Properties_of_shared_screen_tracks\n    displayMediaConstraints: {\n        video: {\n            width: 1280,\n            height: 720,\n            frameRate: {\n                ideal: 3,\n                max: 5,\n            },\n            cursor: 'motion',\n            displaySurface: 'monitor',\n        },\n    },\n    // https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamConstraints/audio\n    userMediaConstraints: {\n        audio: true,\n    },\n    preferredVideoMimeType: 'video/webm',\n    preferredImageMimeType: 'image/png',\n    enableScreenshots: true,\n};\nexport default class ScreenCapture extends UIPlugin {\n    static VERSION = packageJson.version;\n    mediaDevices;\n    protocol;\n    icon;\n    streamInterrupted;\n    captureActive;\n    capturedMediaFile;\n    videoStream = null;\n    audioStream = null;\n    userDenied = false;\n    recorder = null;\n    outputStream = null;\n    recordingChunks = null;\n    constructor(uppy, opts) {\n        super(uppy, { ...defaultOptions, ...opts });\n        this.mediaDevices = getMediaDevices();\n        this.protocol = location.protocol === 'https:' ? 'https' : 'http';\n        this.id = this.opts.id || 'ScreenCapture';\n        this.type = 'acquirer';\n        this.icon = ScreenRecIcon;\n        this.defaultLocale = locale;\n        this.i18nInit();\n        this.title = this.i18n('pluginNameScreenCapture');\n        // uppy plugin class related\n        this.install = this.install.bind(this);\n        this.setPluginState = this.setPluginState.bind(this);\n        this.render = this.render.bind(this);\n        // screen capturer related\n        this.start = this.start.bind(this);\n        this.stop = this.stop.bind(this);\n        this.startRecording = this.startRecording.bind(this);\n        this.stopRecording = this.stopRecording.bind(this);\n        this.submit = this.submit.bind(this);\n        this.streamInterrupted = this.streamInactivated.bind(this);\n        this.captureScreenshot = this.captureScreenshot.bind(this);\n        this.discardRecordedMedia = this.discardRecordedMedia.bind(this);\n        // initialize\n        this.captureActive = false;\n        this.capturedMediaFile = null;\n        this.setPluginState({\n            streamActive: false,\n            audioStreamActive: false,\n            recording: false,\n            recordedVideo: null,\n            screenRecError: null,\n            capturedScreenshotUrl: null,\n            status: 'init',\n        });\n    }\n    install() {\n        if (!isScreenRecordingSupported()) {\n            this.uppy.log('Screen recorder access is not supported', 'warning');\n            return null;\n        }\n        this.setPluginState({\n            streamActive: false,\n            audioStreamActive: false,\n            status: 'init',\n        });\n        const { target } = this.opts;\n        if (target) {\n            this.mount(target, this);\n        }\n        return undefined;\n    }\n    uninstall() {\n        if (this.videoStream) {\n            this.stop();\n        }\n        this.unmount();\n    }\n    start() {\n        if (!this.mediaDevices) {\n            return Promise.reject(new Error('Screen recorder access not supported'));\n        }\n        this.captureActive = true;\n        this.selectAudioStreamSource();\n        return this.selectVideoStreamSource().then((res) => {\n            // something happened in start -> return\n            if (res === false) {\n                // Close the Dashboard panel if plugin is installed\n                // into Dashboard (could be other parent UI plugin)\n                // @ts-expect-error we can't know Dashboard types here\n                if (this.parent?.hideAllPanels) {\n                    // @ts-expect-error we can't know Dashboard types here\n                    this.parent.hideAllPanels();\n                    this.captureActive = false;\n                }\n            }\n        });\n    }\n    selectVideoStreamSource() {\n        // if active stream available, return it\n        if (this.videoStream) {\n            return new Promise((resolve) => resolve(this.videoStream));\n        }\n        // ask user to select source to record and get mediastream from that\n        return this.mediaDevices\n            .getDisplayMedia(this.opts.displayMediaConstraints)\n            .then((videoStream) => {\n            this.videoStream = videoStream;\n            // add event listener to stop recording if stream is interrupted\n            this.videoStream.addEventListener('inactive', () => {\n                this.streamInactivated();\n            });\n            this.setPluginState({\n                streamActive: true,\n                status: 'ready',\n                screenRecError: null,\n            });\n            return videoStream;\n        })\n            .catch((err) => {\n            this.setPluginState({\n                screenRecError: err,\n                status: 'error',\n            });\n            this.userDenied = true;\n            setTimeout(() => {\n                this.userDenied = false;\n            }, 1000);\n            return false;\n        });\n    }\n    selectAudioStreamSource() {\n        // if active stream available, return it\n        if (this.audioStream) {\n            return new Promise((resolve) => resolve(this.audioStream));\n        }\n        // ask user to select source to record and get mediastream from that\n        return this.mediaDevices\n            .getUserMedia(this.opts.userMediaConstraints)\n            .then((audioStream) => {\n            this.audioStream = audioStream;\n            this.setPluginState({\n                audioStreamActive: true,\n            });\n            return audioStream;\n        })\n            .catch((err) => {\n            if (err.name === 'NotAllowedError') {\n                this.uppy.info(this.i18n('micDisabled'), 'error', 5000);\n                this.uppy.log(this.i18n('micDisabled'), 'warning');\n            }\n            return false;\n        });\n    }\n    startRecording() {\n        const options = {};\n        this.capturedMediaFile = null;\n        this.recordingChunks = [];\n        const { preferredVideoMimeType } = this.opts;\n        this.selectVideoStreamSource()\n            .then((videoStream) => {\n            if (videoStream === false) {\n                throw new Error('No video stream available');\n            }\n            // Attempt to use the passed preferredVideoMimeType (if any) during recording.\n            // If the browser doesn't support it, we'll fall back to the browser default instead\n            if (preferredVideoMimeType &&\n                MediaRecorder.isTypeSupported(preferredVideoMimeType) &&\n                getFileTypeExtension(preferredVideoMimeType)) {\n                options.mimeType = preferredVideoMimeType;\n            }\n            // prepare tracks\n            const tracks = [videoStream.getVideoTracks()[0]];\n            // merge audio if exits\n            if (this.audioStream) {\n                tracks.push(this.audioStream.getAudioTracks()[0]);\n            }\n            // create new stream from video and audio\n            this.outputStream = new MediaStream(tracks);\n            // initialize mediarecorder\n            this.recorder = new MediaRecorder(this.outputStream, options);\n            // push data to buffer when data available\n            this.recorder.addEventListener('dataavailable', (event) => {\n                this.recordingChunks.push(event.data);\n            });\n            // start recording\n            this.recorder.start();\n            // set plugin state to recording\n            this.setPluginState({\n                recording: true,\n                status: 'recording',\n            });\n        })\n            .catch((err) => {\n            this.uppy.log(err, 'error');\n            this.setPluginState({ screenRecError: err, status: 'error' });\n        });\n    }\n    streamInactivated() {\n        // get screen recorder state\n        const { recordedVideo, recording } = { ...this.getPluginState() };\n        if (!recordedVideo && !recording) {\n            // Close the Dashboard panel if plugin is installed\n            // into Dashboard (could be other parent UI plugin)\n            // @ts-expect-error we can't know Dashboard types here\n            if (this.parent?.hideAllPanels) {\n                // @ts-expect-error we can't know Dashboard types here\n                this.parent.hideAllPanels();\n            }\n            this.setPluginState({ status: 'init' });\n        }\n        else if (recording) {\n            // stop recorder if it is active\n            this.uppy.log('Capture stream inactive \u2014 stop recording');\n            this.stopRecording();\n        }\n        this.videoStream = null;\n        this.audioStream = null;\n        this.setPluginState({\n            streamActive: false,\n            audioStreamActive: false,\n        });\n    }\n    stopRecording() {\n        const stopped = new Promise((resolve) => {\n            this.recorder.addEventListener('stop', () => {\n                resolve();\n            });\n            this.recorder.stop();\n        });\n        return stopped\n            .then(() => {\n            // recording stopped\n            this.setPluginState({\n                recording: false,\n            });\n            // get video file after recorder stopped\n            return this.getVideo();\n        })\n            .then((file) => {\n            // store media file\n            this.capturedMediaFile = file;\n            // create object url for capture result preview\n            this.setPluginState({\n                recordedVideo: URL.createObjectURL(file.data),\n                status: 'captured',\n            });\n        })\n            .then(() => {\n            this.recordingChunks = null;\n            this.recorder = null;\n        }, (error) => {\n            this.recordingChunks = null;\n            this.recorder = null;\n            throw error;\n        });\n    }\n    discardRecordedMedia() {\n        const { capturedScreenshotUrl, recordedVideo } = this.getPluginState();\n        if (capturedScreenshotUrl) {\n            URL.revokeObjectURL(capturedScreenshotUrl);\n        }\n        if (recordedVideo) {\n            URL.revokeObjectURL(recordedVideo);\n        }\n        this.capturedMediaFile = null;\n        this.setPluginState({\n            recordedVideo: null,\n            capturedScreenshotUrl: null,\n            status: this.getPluginState().streamActive ? 'ready' : 'init',\n        });\n    }\n    submit() {\n        try {\n            // add recorded file to uppy\n            if (this.capturedMediaFile) {\n                this.uppy.addFile(this.capturedMediaFile);\n            }\n        }\n        catch (err) {\n            // Logging the error, exept restrictions, which is handled in Core\n            if (!err.isRestriction) {\n                this.uppy.log(err, 'warning');\n            }\n        }\n    }\n    stop() {\n        // flush video stream\n        if (this.videoStream) {\n            this.videoStream.getVideoTracks().forEach((track) => {\n                track.stop();\n            });\n            this.videoStream.getAudioTracks().forEach((track) => {\n                track.stop();\n            });\n            this.videoStream = null;\n        }\n        // flush audio stream\n        if (this.audioStream) {\n            this.audioStream.getAudioTracks().forEach((track) => {\n                track.stop();\n            });\n            this.audioStream.getVideoTracks().forEach((track) => {\n                track.stop();\n            });\n            this.audioStream = null;\n        }\n        // flush output stream\n        if (this.outputStream) {\n            this.outputStream.getAudioTracks().forEach((track) => {\n                track.stop();\n            });\n            this.outputStream.getVideoTracks().forEach((track) => {\n                track.stop();\n            });\n            this.outputStream = null;\n        }\n        // Clean up screenshot URL\n        const { capturedScreenshotUrl, recordedVideo } = this.getPluginState();\n        if (capturedScreenshotUrl) {\n            URL.revokeObjectURL(capturedScreenshotUrl);\n        }\n        if (recordedVideo) {\n            URL.revokeObjectURL(recordedVideo);\n        }\n        // remove preview video\n        this.setPluginState({\n            recording: false,\n            streamActive: false,\n            audioStreamActive: false,\n            recordedVideo: null,\n            capturedScreenshotUrl: null,\n            status: 'init',\n        });\n        this.captureActive = false;\n    }\n    getVideo() {\n        const mimeType = this.recordingChunks[0].type;\n        const fileExtension = getFileTypeExtension(mimeType);\n        if (!fileExtension) {\n            return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type \"${mimeType}\"`));\n        }\n        const name = `screencap-${Date.now()}.${fileExtension}`;\n        const blob = new Blob(this.recordingChunks, { type: mimeType });\n        const file = {\n            source: this.id,\n            name,\n            data: new Blob([blob], { type: mimeType }),\n            type: mimeType,\n        };\n        return Promise.resolve(file);\n    }\n    async captureScreenshot() {\n        if (!this.mediaDevices?.getDisplayMedia) {\n            throw new Error('Screen capture is not supported');\n        }\n        try {\n            let stream = this.videoStream;\n            // Only request new stream if we don't have one\n            if (!stream) {\n                const newStream = await this.selectVideoStreamSource();\n                if (!newStream) {\n                    throw new Error('Failed to get screen capture stream');\n                }\n                stream = newStream;\n            }\n            const video = document.createElement('video');\n            video.srcObject = stream;\n            await new Promise((resolve) => {\n                video.onloadedmetadata = () => {\n                    video.play();\n                    resolve(null);\n                };\n            });\n            const canvas = document.createElement('canvas');\n            canvas.width = video.videoWidth;\n            canvas.height = video.videoHeight;\n            const ctx = canvas.getContext('2d');\n            if (!ctx) {\n                throw new Error('Failed to get canvas context');\n            }\n            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n            // Validate and set fallback for preferred image mime type\n            let mimeType = this.opts.preferredImageMimeType;\n            if (!mimeType || !SUPPORTED_IMAGE_TYPES.includes(mimeType)) {\n                this.uppy.log(`Unsupported image type \"${mimeType}\", falling back to image/png`, 'warning');\n                mimeType = 'image/png';\n            }\n            const quality = 1;\n            return new Promise((resolve, reject) => {\n                canvas.toBlob((blob) => {\n                    if (!blob) {\n                        reject(new Error('Failed to create screenshot blob'));\n                        return;\n                    }\n                    const fileExtension = getFileTypeExtension(mimeType) || 'png';\n                    const file = {\n                        source: this.id,\n                        name: `Screenshot ${new Date().toISOString()}.${fileExtension}`,\n                        type: mimeType,\n                        data: blob,\n                    };\n                    try {\n                        this.capturedMediaFile = file;\n                        const screenshotUrl = URL.createObjectURL(blob);\n                        this.setPluginState({\n                            capturedScreenshotUrl: screenshotUrl,\n                            status: 'captured',\n                        });\n                        resolve();\n                    }\n                    catch (err) {\n                        if (this.getPluginState().capturedScreenshotUrl) {\n                            this.setPluginState({ capturedScreenshotUrl: null });\n                        }\n                        if (!err.isRestriction) {\n                            this.uppy.log(err, 'error');\n                        }\n                        reject(err);\n                    }\n                    finally {\n                        // Cleanup\n                        video.srcObject = null;\n                        canvas.remove();\n                        video.remove();\n                    }\n                }, mimeType, quality);\n            });\n        }\n        catch (err) {\n            this.uppy.log(err, 'error');\n            throw err;\n        }\n    }\n    render() {\n        // get screen recorder state\n        const recorderState = this.getPluginState();\n        if (!recorderState.streamActive &&\n            !this.captureActive &&\n            !this.userDenied) {\n            this.start();\n        }\n        return (_jsx(RecorderScreen, { ...recorderState, onStartRecording: this.startRecording, onStopRecording: this.stopRecording, enableScreenshots: this.opts.enableScreenshots, onScreenshot: this.captureScreenshot, onStop: this.stop, onSubmit: this.submit, i18n: this.i18n, stream: this.videoStream, onDiscard: this.discardRecordedMedia }));\n    }\n}\n"],
  "mappings": "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",
  "names": ["package_default", "locale_default", "DiscardButton", "onDiscard", "i18n", "u", "RecordButton", "recording", "onStartRecording", "onStopRecording", "i18n", "u", "ScreenshotButton", "onScreenshot", "i18n", "u", "fmtMSS", "StopWatch", "x", "props", "state", "recording", "i18n", "elapsedTime", "minAndSec", "u", "StopWatch_default", "StreamStatus", "streamActive", "i18n", "u", "SubmitButton", "recording", "recordedVideo", "onSubmit", "capturedScreenshotUrl", "i18n", "u", "RecorderScreen", "x", "onStop", "recording", "videoStream", "recordedVideo", "enableScreenshots", "capturedScreenshotUrl", "videoProps", "u", "StreamStatus", "videoElement", "StopWatch_default", "k", "SubmitButton", "DiscardButton", "ScreenshotButton", "RecordButton", "RecorderScreen_default", "ScreenRecIcon", "u", "isScreenRecordingSupported", "getMediaDevices", "SUPPORTED_IMAGE_TYPES", "defaultOptions", "ScreenCapture", "UIPlugin_default", "package_default", "uppy", "opts", "ScreenRecIcon", "locale_default", "target", "res", "resolve", "videoStream", "err", "audioStream", "options", "preferredVideoMimeType", "getFileTypeExtension", "tracks", "event", "recordedVideo", "recording", "file", "error", "capturedScreenshotUrl", "track", "mimeType", "fileExtension", "name", "blob", "stream", "newStream", "video", "canvas", "ctx", "quality", "reject", "screenshotUrl", "recorderState", "u", "RecorderScreen_default"]
}
