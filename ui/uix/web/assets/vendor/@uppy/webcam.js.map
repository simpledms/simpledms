{
  "version": 3,
  "sources": ["../../../../../node_modules/is-mobile/index.js", "../../../../../node_modules/@uppy/webcam/lib/Webcam.js", "../../../../../node_modules/@uppy/utils/lib/canvasToBlob.js", "../../../../../node_modules/@uppy/webcam/lib/supportsMediaRecorder.js", "../../../../../node_modules/@uppy/webcam/lib/CameraIcon.js", "../../../../../node_modules/@uppy/webcam/lib/SnapshotButton.js", "../../../../../node_modules/@uppy/webcam/lib/RecordButton.js", "../../../../../node_modules/@uppy/webcam/lib/formatSeconds.js", "../../../../../node_modules/@uppy/webcam/lib/RecordingLength.js", "../../../../../node_modules/@uppy/webcam/lib/VideoSourceSelect.js", "../../../../../node_modules/@uppy/webcam/lib/SubmitButton.js", "../../../../../node_modules/@uppy/webcam/lib/DiscardButton.js", "../../../../../node_modules/@uppy/webcam/lib/CameraScreen.js", "../../../../../node_modules/@uppy/webcam/lib/PermissionsScreen.js", "../../../../../node_modules/@uppy/webcam/lib/locale.js"],
  "sourcesContent": ["'use strict'\n\nmodule.exports = isMobile\nmodule.exports.isMobile = isMobile\nmodule.exports.default = isMobile\n\nconst mobileRE = /(android|bb\\d+|meego).+mobile|armv7l|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i\nconst notMobileRE = /CrOS/\n\nconst tabletRE = /android|ipad|playbook|silk/i\n\nfunction isMobile (opts) {\n  if (!opts) opts = {}\n  let ua = opts.ua\n  if (!ua && typeof navigator !== 'undefined') ua = navigator.userAgent\n  if (ua && ua.headers && typeof ua.headers['user-agent'] === 'string') {\n    ua = ua.headers['user-agent']\n  }\n  if (typeof ua !== 'string') return false\n\n  let result =\n    (mobileRE.test(ua) && !notMobileRE.test(ua)) ||\n    (!!opts.tablet && tabletRE.test(ua))\n\n  if (\n    !result &&\n    opts.tablet &&\n    opts.featureDetect &&\n    navigator &&\n    navigator.maxTouchPoints > 1 &&\n    ua.indexOf('Macintosh') !== -1 &&\n    ua.indexOf('Safari') !== -1\n  ) {\n    result = true\n  }\n\n  return result\n}\n", "function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\nimport { h } from 'preact';\nimport { UIPlugin } from '@uppy/core';\nimport getFileTypeExtension from '@uppy/utils/lib/getFileTypeExtension';\nimport mimeTypes from '@uppy/utils/lib/mimeTypes';\nimport isMobile from 'is-mobile';\nimport canvasToBlob from '@uppy/utils/lib/canvasToBlob';\nimport supportsMediaRecorder from './supportsMediaRecorder.js';\nimport CameraIcon from \"./CameraIcon.js\";\nimport CameraScreen from \"./CameraScreen.js\";\nimport PermissionsScreen from \"./PermissionsScreen.js\";\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.1.2\"\n};\nimport locale from './locale.js';\n\n/**\n * Normalize a MIME type or file extension into a MIME type.\n *\n * @param fileType - MIME type or a file extension prefixed with `.`.\n * @returns The MIME type or `undefined` if the fileType is an extension and is not known.\n */\nfunction toMimeType(fileType) {\n  if (fileType[0] === '.') {\n    return mimeTypes[fileType.slice(1)];\n  }\n  return fileType;\n}\n\n/**\n * Is this MIME type a video?\n */\nfunction isVideoMimeType(mimeType) {\n  return /^video\\/[^*]+$/.test(mimeType);\n}\n\n/**\n * Is this MIME type an image?\n */\nfunction isImageMimeType(mimeType) {\n  return /^image\\/[^*]+$/.test(mimeType);\n}\nfunction getMediaDevices() {\n  // bug in the compatibility data\n  // eslint-disable-next-line compat/compat\n  return navigator.mediaDevices;\n}\nfunction isModeAvailable(modes, mode) {\n  return modes.includes(mode);\n}\n// set default options\nconst defaultOptions = {\n  onBeforeSnapshot: () => Promise.resolve(),\n  countdown: false,\n  modes: ['video-audio', 'video-only', 'audio-only', 'picture'],\n  mirror: true,\n  showVideoSourceDropdown: false,\n  preferredImageMimeType: null,\n  preferredVideoMimeType: null,\n  showRecordingLength: false,\n  mobileNativeCamera: isMobile({\n    tablet: true\n  })\n};\n\n/**\n * Webcam\n */\nvar _enableMirror = /*#__PURE__*/_classPrivateFieldLooseKey(\"enableMirror\");\nexport default class Webcam extends UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, {\n      ...defaultOptions,\n      ...opts\n    });\n    // enableMirror is used to toggle mirroring, for instance when discarding the video,\n    // while `opts.mirror` is used to remember the initial user setting\n    Object.defineProperty(this, _enableMirror, {\n      writable: true,\n      value: void 0\n    });\n    this.stream = null;\n    this.recorder = null;\n    this.recordingChunks = null;\n    this.captureInProgress = false;\n    this.mediaDevices = getMediaDevices();\n    this.supportsUserMedia = !!this.mediaDevices;\n    // eslint-disable-next-line no-restricted-globals\n    this.protocol = location.protocol.match(/https/i) ? 'https' : 'http';\n    this.id = this.opts.id || 'Webcam';\n    this.type = 'acquirer';\n    this.capturedMediaFile = null;\n    this.icon = () => h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      width: \"32\",\n      height: \"32\",\n      viewBox: \"0 0 32 32\"\n    }, h(\"path\", {\n      d: \"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z\",\n      fill: \"#02B383\",\n      fillRule: \"nonzero\"\n    }));\n    this.defaultLocale = locale;\n    this.i18nInit();\n    this.title = this.i18n('pluginNameCamera');\n    _classPrivateFieldLooseBase(this, _enableMirror)[_enableMirror] = this.opts.mirror;\n    this.install = this.install.bind(this);\n    this.setPluginState = this.setPluginState.bind(this);\n    this.render = this.render.bind(this);\n\n    // Camera controls\n    this.start = this.start.bind(this);\n    this.stop = this.stop.bind(this);\n    this.takeSnapshot = this.takeSnapshot.bind(this);\n    this.startRecording = this.startRecording.bind(this);\n    this.stopRecording = this.stopRecording.bind(this);\n    this.discardRecordedVideo = this.discardRecordedVideo.bind(this);\n    this.submit = this.submit.bind(this);\n    this.oneTwoThreeSmile = this.oneTwoThreeSmile.bind(this);\n    this.focus = this.focus.bind(this);\n    this.changeVideoSource = this.changeVideoSource.bind(this);\n    this.webcamActive = false;\n    if (this.opts.countdown) {\n      this.opts.onBeforeSnapshot = this.oneTwoThreeSmile;\n    }\n    this.setPluginState({\n      hasCamera: false,\n      cameraReady: false,\n      cameraError: null,\n      recordingLengthSeconds: 0,\n      videoSources: [],\n      currentDeviceId: null\n    });\n  }\n  setOptions(newOpts) {\n    super.setOptions({\n      ...newOpts,\n      videoConstraints: {\n        // May be undefined but ... handles that\n        ...this.opts.videoConstraints,\n        ...(newOpts == null ? void 0 : newOpts.videoConstraints)\n      }\n    });\n  }\n  hasCameraCheck() {\n    if (!this.mediaDevices) {\n      return Promise.resolve(false);\n    }\n    return this.mediaDevices.enumerateDevices().then(devices => {\n      return devices.some(device => device.kind === 'videoinput');\n    });\n  }\n  isAudioOnly() {\n    return this.opts.modes.length === 1 && this.opts.modes[0] === 'audio-only';\n  }\n  getConstraints(deviceId) {\n    if (deviceId === void 0) {\n      deviceId = null;\n    }\n    const acceptsAudio = this.opts.modes.indexOf('video-audio') !== -1 || this.opts.modes.indexOf('audio-only') !== -1;\n    const acceptsVideo = !this.isAudioOnly() && (this.opts.modes.indexOf('video-audio') !== -1 || this.opts.modes.indexOf('video-only') !== -1 || this.opts.modes.indexOf('picture') !== -1);\n    const videoConstraints = {\n      ...(this.opts.videoConstraints || {}),\n      ...(deviceId != null && {\n        deviceId\n      })\n    };\n    return {\n      audio: acceptsAudio,\n      video: acceptsVideo ? videoConstraints : false\n    };\n  }\n\n  // eslint-disable-next-line consistent-return\n  start(options) {\n    var _options;\n    if (options === void 0) {\n      options = null;\n    }\n    if (!this.supportsUserMedia) {\n      return Promise.reject(new Error('Webcam access not supported'));\n    }\n    this.webcamActive = true;\n    if (this.opts.mirror) {\n      _classPrivateFieldLooseBase(this, _enableMirror)[_enableMirror] = true;\n    }\n    const constraints = this.getConstraints((_options = options) == null ? void 0 : _options.deviceId);\n\n    // TODO: add a return and/or convert this to async/await\n    this.hasCameraCheck().then(hasCamera => {\n      this.setPluginState({\n        hasCamera\n      });\n\n      // ask user for access to their camera\n      return this.mediaDevices.getUserMedia(constraints).then(stream => {\n        this.stream = stream;\n        let currentDeviceId = null;\n        const tracks = this.isAudioOnly() ? stream.getAudioTracks() : stream.getVideoTracks();\n        if (!options || !options.deviceId) {\n          currentDeviceId = tracks[0].getSettings().deviceId;\n        } else {\n          tracks.forEach(track => {\n            if (track.getSettings().deviceId === options.deviceId) {\n              currentDeviceId = track.getSettings().deviceId;\n            }\n          });\n        }\n\n        // Update the sources now, so we can access the names.\n        this.updateVideoSources();\n        this.setPluginState({\n          currentDeviceId,\n          cameraReady: true\n        });\n      }).catch(err => {\n        this.setPluginState({\n          cameraReady: false,\n          cameraError: err\n        });\n        this.uppy.info(err.message, 'error');\n      });\n    });\n  }\n  getMediaRecorderOptions() {\n    const options = {};\n\n    // Try to use the `opts.preferredVideoMimeType` or one of the `allowedFileTypes` for the recording.\n    // If the browser doesn't support it, we'll fall back to the browser default instead.\n    // Safari doesn't have the `isTypeSupported` API.\n    if (MediaRecorder.isTypeSupported) {\n      const {\n        restrictions\n      } = this.uppy.opts;\n      let preferredVideoMimeTypes = [];\n      if (this.opts.preferredVideoMimeType) {\n        preferredVideoMimeTypes = [this.opts.preferredVideoMimeType];\n      } else if (restrictions.allowedFileTypes) {\n        preferredVideoMimeTypes = restrictions.allowedFileTypes.map(toMimeType).filter(isVideoMimeType);\n      }\n      const filterSupportedTypes = candidateType => MediaRecorder.isTypeSupported(candidateType) && getFileTypeExtension(candidateType);\n      const acceptableMimeTypes = preferredVideoMimeTypes.filter(filterSupportedTypes);\n      if (acceptableMimeTypes.length > 0) {\n        // eslint-disable-next-line prefer-destructuring\n        options.mimeType = acceptableMimeTypes[0];\n      }\n    }\n    return options;\n  }\n  startRecording() {\n    // only used if supportsMediaRecorder() returned true\n    // eslint-disable-next-line compat/compat\n    this.recorder = new MediaRecorder(this.stream, this.getMediaRecorderOptions());\n    this.recordingChunks = [];\n    let stoppingBecauseOfMaxSize = false;\n    this.recorder.addEventListener('dataavailable', event => {\n      this.recordingChunks.push(event.data);\n      const {\n        restrictions\n      } = this.uppy.opts;\n      if (this.recordingChunks.length > 1 && restrictions.maxFileSize != null && !stoppingBecauseOfMaxSize) {\n        const totalSize = this.recordingChunks.reduce((acc, chunk) => acc + chunk.size, 0);\n        // Exclude the initial chunk from the average size calculation because it is likely to be a very small outlier\n        const averageChunkSize = (totalSize - this.recordingChunks[0].size) / (this.recordingChunks.length - 1);\n        const expectedEndChunkSize = averageChunkSize * 3;\n        const maxSize = Math.max(0, restrictions.maxFileSize - expectedEndChunkSize);\n        if (totalSize > maxSize) {\n          stoppingBecauseOfMaxSize = true;\n          this.uppy.info(this.i18n('recordingStoppedMaxSize'), 'warning', 4000);\n          this.stopRecording();\n        }\n      }\n    });\n\n    // use a \"time slice\" of 500ms: ondataavailable will be called each 500ms\n    // smaller time slices mean we can more accurately check the max file size restriction\n    this.recorder.start(500);\n    if (this.opts.showRecordingLength) {\n      // Start the recordingLengthTimer if we are showing the recording length.\n      this.recordingLengthTimer = setInterval(() => {\n        const currentRecordingLength = this.getPluginState().recordingLengthSeconds;\n        this.setPluginState({\n          recordingLengthSeconds: currentRecordingLength + 1\n        });\n      }, 1000);\n    }\n    this.setPluginState({\n      isRecording: true\n    });\n  }\n  stopRecording() {\n    const stopped = new Promise(resolve => {\n      this.recorder.addEventListener('stop', () => {\n        resolve();\n      });\n      this.recorder.stop();\n      if (this.opts.showRecordingLength) {\n        // Stop the recordingLengthTimer if we are showing the recording length.\n        clearInterval(this.recordingLengthTimer);\n        this.setPluginState({\n          recordingLengthSeconds: 0\n        });\n      }\n    });\n    return stopped.then(() => {\n      this.setPluginState({\n        isRecording: false\n      });\n      return this.getVideo();\n    }).then(file => {\n      try {\n        this.capturedMediaFile = file;\n        // create object url for capture result preview\n        this.setPluginState({\n          // eslint-disable-next-line compat/compat\n          recordedVideo: URL.createObjectURL(file.data)\n        });\n        _classPrivateFieldLooseBase(this, _enableMirror)[_enableMirror] = false;\n      } catch (err) {\n        // Logging the error, exept restrictions, which is handled in Core\n        if (!err.isRestriction) {\n          this.uppy.log(err);\n        }\n      }\n    }).then(() => {\n      this.recordingChunks = null;\n      this.recorder = null;\n    }, error => {\n      this.recordingChunks = null;\n      this.recorder = null;\n      throw error;\n    });\n  }\n  discardRecordedVideo() {\n    this.setPluginState({\n      recordedVideo: null\n    });\n    if (this.opts.mirror) {\n      _classPrivateFieldLooseBase(this, _enableMirror)[_enableMirror] = true;\n    }\n    this.capturedMediaFile = null;\n  }\n  submit() {\n    try {\n      if (this.capturedMediaFile) {\n        this.uppy.addFile(this.capturedMediaFile);\n      }\n    } catch (err) {\n      // Logging the error, exept restrictions, which is handled in Core\n      if (!err.isRestriction) {\n        this.uppy.log(err, 'error');\n      }\n    }\n  }\n  async stop() {\n    if (this.stream) {\n      const audioTracks = this.stream.getAudioTracks();\n      const videoTracks = this.stream.getVideoTracks();\n      audioTracks.concat(videoTracks).forEach(track => track.stop());\n    }\n    if (this.recorder) {\n      await new Promise(resolve => {\n        this.recorder.addEventListener('stop', resolve, {\n          once: true\n        });\n        this.recorder.stop();\n        if (this.opts.showRecordingLength) {\n          clearInterval(this.recordingLengthTimer);\n        }\n      });\n    }\n    this.recordingChunks = null;\n    this.recorder = null;\n    this.webcamActive = false;\n    this.stream = null;\n    this.setPluginState({\n      recordedVideo: null,\n      isRecording: false,\n      recordingLengthSeconds: 0\n    });\n  }\n  getVideoElement() {\n    return this.el.querySelector('.uppy-Webcam-video');\n  }\n  oneTwoThreeSmile() {\n    return new Promise((resolve, reject) => {\n      let count = this.opts.countdown;\n\n      // eslint-disable-next-line consistent-return\n      const countDown = setInterval(() => {\n        if (!this.webcamActive) {\n          clearInterval(countDown);\n          this.captureInProgress = false;\n          return reject(new Error('Webcam is not active'));\n        }\n        if (count) {\n          this.uppy.info(`${count}...`, 'warning', 800);\n          count--;\n        } else {\n          clearInterval(countDown);\n          this.uppy.info(this.i18n('smile'), 'success', 1500);\n          setTimeout(() => resolve(), 1500);\n        }\n      }, 1000);\n    });\n  }\n  takeSnapshot() {\n    if (this.captureInProgress) return;\n    this.captureInProgress = true;\n    this.opts.onBeforeSnapshot().catch(err => {\n      const message = typeof err === 'object' ? err.message : err;\n      this.uppy.info(message, 'error', 5000);\n      return Promise.reject(new Error(`onBeforeSnapshot: ${message}`));\n    }).then(() => {\n      return this.getImage();\n    }).then(tagFile => {\n      this.captureInProgress = false;\n      try {\n        this.uppy.addFile(tagFile);\n      } catch (err) {\n        // Logging the error, except restrictions, which is handled in Core\n        if (!err.isRestriction) {\n          this.uppy.log(err);\n        }\n      }\n    }, error => {\n      this.captureInProgress = false;\n      throw error;\n    });\n  }\n  getImage() {\n    const video = this.getVideoElement();\n    if (!video) {\n      return Promise.reject(new Error('No video element found, likely due to the Webcam tab being closed.'));\n    }\n    const width = video.videoWidth;\n    const height = video.videoHeight;\n    const canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(video, 0, 0);\n    const {\n      restrictions\n    } = this.uppy.opts;\n    let preferredImageMimeTypes = [];\n    if (this.opts.preferredImageMimeType) {\n      preferredImageMimeTypes = [this.opts.preferredImageMimeType];\n    } else if (restrictions.allowedFileTypes) {\n      preferredImageMimeTypes = restrictions.allowedFileTypes.map(toMimeType).filter(isImageMimeType);\n    }\n    const mimeType = preferredImageMimeTypes[0] || 'image/jpeg';\n    const ext = getFileTypeExtension(mimeType) || 'jpg';\n    const name = `cam-${Date.now()}.${ext}`;\n    return canvasToBlob(canvas, mimeType).then(blob => {\n      return {\n        source: this.id,\n        name,\n        data: new Blob([blob], {\n          type: mimeType\n        }),\n        type: mimeType\n      };\n    });\n  }\n  getVideo() {\n    // Sometimes in iOS Safari, Blobs (especially the first Blob in the recordingChunks Array)\n    // have empty 'type' attributes (e.g. '') so we need to find a Blob that has a defined 'type'\n    // attribute in order to determine the correct MIME type.\n    const mimeType = this.recordingChunks.find(blob => {\n      var _blob$type;\n      return ((_blob$type = blob.type) == null ? void 0 : _blob$type.length) > 0;\n    }).type;\n    const fileExtension = getFileTypeExtension(mimeType);\n    if (!fileExtension) {\n      return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type \"${mimeType}\"`));\n    }\n    const name = `webcam-${Date.now()}.${fileExtension}`;\n    const blob = new Blob(this.recordingChunks, {\n      type: mimeType\n    });\n    const file = {\n      source: this.id,\n      name,\n      data: new Blob([blob], {\n        type: mimeType\n      }),\n      type: mimeType\n    };\n    return Promise.resolve(file);\n  }\n  focus() {\n    if (!this.opts.countdown) return;\n    setTimeout(() => {\n      this.uppy.info(this.i18n('smile'), 'success', 1500);\n    }, 1000);\n  }\n  changeVideoSource(deviceId) {\n    this.stop();\n    this.start({\n      deviceId\n    });\n  }\n  updateVideoSources() {\n    this.mediaDevices.enumerateDevices().then(devices => {\n      this.setPluginState({\n        videoSources: devices.filter(device => device.kind === 'videoinput')\n      });\n    });\n  }\n  render() {\n    if (!this.webcamActive) {\n      this.start();\n    }\n    const webcamState = this.getPluginState();\n    if (!webcamState.cameraReady || !webcamState.hasCamera) {\n      return h(PermissionsScreen, {\n        icon: CameraIcon,\n        i18n: this.i18n,\n        hasCamera: webcamState.hasCamera\n      });\n    }\n    return h(CameraScreen\n    // eslint-disable-next-line react/jsx-props-no-spreading\n    , _extends({}, webcamState, {\n      onChangeVideoSource: this.changeVideoSource,\n      onSnapshot: this.takeSnapshot,\n      onStartRecording: this.startRecording,\n      onStopRecording: this.stopRecording,\n      onDiscardRecordedVideo: this.discardRecordedVideo,\n      onSubmit: this.submit,\n      onFocus: this.focus,\n      onStop: this.stop,\n      i18n: this.i18n,\n      modes: this.opts.modes,\n      showRecordingLength: this.opts.showRecordingLength,\n      showVideoSourceDropdown: this.opts.showVideoSourceDropdown,\n      supportsRecording: supportsMediaRecorder(),\n      recording: webcamState.isRecording,\n      mirror: _classPrivateFieldLooseBase(this, _enableMirror)[_enableMirror],\n      src: this.stream\n    }));\n  }\n  install() {\n    const {\n      mobileNativeCamera,\n      modes,\n      videoConstraints\n    } = this.opts;\n    const {\n      target\n    } = this.opts;\n    if (mobileNativeCamera && target) {\n      var _this$getTargetPlugin;\n      (_this$getTargetPlugin = this.getTargetPlugin(target)) == null || _this$getTargetPlugin.setOptions({\n        showNativeVideoCameraButton: isModeAvailable(modes, 'video-only') || isModeAvailable(modes, 'video-audio'),\n        showNativePhotoCameraButton: isModeAvailable(modes, 'picture'),\n        nativeCameraFacingMode: videoConstraints == null ? void 0 : videoConstraints.facingMode\n      });\n      return;\n    }\n    this.setPluginState({\n      cameraReady: false,\n      recordingLengthSeconds: 0\n    });\n    if (target) {\n      this.mount(target, this);\n    }\n    if (this.mediaDevices) {\n      this.updateVideoSources();\n      this.mediaDevices.ondevicechange = () => {\n        this.updateVideoSources();\n        if (this.stream) {\n          let restartStream = true;\n          const {\n            videoSources,\n            currentDeviceId\n          } = this.getPluginState();\n          videoSources.forEach(videoSource => {\n            if (currentDeviceId === videoSource.deviceId) {\n              restartStream = false;\n            }\n          });\n          if (restartStream) {\n            this.stop();\n            this.start();\n          }\n        }\n      };\n    }\n  }\n  uninstall() {\n    this.stop();\n    this.unmount();\n  }\n  onUnmount() {\n    this.stop();\n  }\n}\nWebcam.VERSION = packageJson.version;", "/**\n * Save a <canvas> element's content to a Blob object.\n *\n * @param {HTMLCanvasElement} canvas\n * @returns {Promise}\n */\nexport default function canvasToBlob(canvas, type, quality) {\n  return new Promise(resolve => {\n    canvas.toBlob(resolve, type, quality);\n  });\n}", "export default function supportsMediaRecorder() {\n  /* eslint-disable compat/compat */\n  return typeof MediaRecorder === 'function' && !!MediaRecorder.prototype && typeof MediaRecorder.prototype.start === 'function';\n  /* eslint-enable compat/compat */\n}", "import { h } from 'preact';\nexport default function CameraIcon() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    fill: \"#0097DC\",\n    width: \"66\",\n    height: \"55\",\n    viewBox: \"0 0 66 55\"\n  }, h(\"path\", {\n    d: \"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z\",\n    fillRule: \"evenodd\"\n  }));\n}", "import { h } from 'preact';\nimport CameraIcon from \"./CameraIcon.js\";\nexport default function SnapshotButton(_ref) {\n  let {\n    onSnapshot,\n    i18n\n  } = _ref;\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture\",\n    type: \"button\",\n    title: i18n('takePicture'),\n    \"aria-label\": i18n('takePicture'),\n    onClick: onSnapshot,\n    \"data-uppy-super-focusable\": true\n  }, CameraIcon());\n}", "import { h } from 'preact';\nexport default function RecordButton(_ref) {\n  let {\n    recording,\n    onStartRecording,\n    onStopRecording,\n    i18n\n  } = _ref;\n  if (recording) {\n    return h(\"button\", {\n      className: \"uppy-u-reset uppy-c-btn uppy-Webcam-button\",\n      type: \"button\",\n      title: i18n('stopRecording'),\n      \"aria-label\": i18n('stopRecording'),\n      onClick: onStopRecording,\n      \"data-uppy-super-focusable\": true\n    }, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      className: \"uppy-c-icon\",\n      width: \"100\",\n      height: \"100\",\n      viewBox: \"0 0 100 100\"\n    }, h(\"rect\", {\n      x: \"15\",\n      y: \"15\",\n      width: \"70\",\n      height: \"70\"\n    })));\n  }\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-c-btn uppy-Webcam-button\",\n    type: \"button\",\n    title: i18n('startRecording'),\n    \"aria-label\": i18n('startRecording'),\n    onClick: onStartRecording,\n    \"data-uppy-super-focusable\": true\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"100\",\n    height: \"100\",\n    viewBox: \"0 0 100 100\"\n  }, h(\"circle\", {\n    cx: \"50\",\n    cy: \"50\",\n    r: \"40\"\n  })));\n}", "/**\n * Takes an Integer value of seconds (e.g. 83) and converts it into a human-readable formatted string (e.g. '1:23').\n *\n */\nexport default function formatSeconds(seconds) {\n  return `${Math.floor(seconds / 60)}:${String(seconds % 60).padStart(2, '0')}`;\n}", "import { h } from 'preact';\nimport formatSeconds from './formatSeconds.js';\nexport default function RecordingLength(_ref) {\n  let {\n    recordingLengthSeconds,\n    i18n\n  } = _ref;\n  const formattedRecordingLengthSeconds = formatSeconds(recordingLengthSeconds);\n  return h(\"span\", {\n    \"aria-label\": i18n('recordingLength', {\n      recording_length: formattedRecordingLengthSeconds\n    })\n  }, formattedRecordingLengthSeconds);\n}", "import { h } from 'preact';\nexport default function VideoSourceSelect(_ref) {\n  let {\n    currentDeviceId,\n    videoSources,\n    onChangeVideoSource\n  } = _ref;\n  return h(\"div\", {\n    className: \"uppy-Webcam-videoSource\"\n  }, h(\"select\", {\n    className: \"uppy-u-reset uppy-Webcam-videoSource-select\",\n    onChange: event => {\n      onChangeVideoSource(event.target.value);\n    }\n  }, videoSources.map(videoSource => h(\"option\", {\n    key: videoSource.deviceId,\n    value: videoSource.deviceId,\n    selected: videoSource.deviceId === currentDeviceId\n  }, videoSource.label))));\n}", "import { h } from 'preact';\nfunction SubmitButton(_ref) {\n  let {\n    onSubmit,\n    i18n\n  } = _ref;\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit\",\n    type: \"button\",\n    title: i18n('submitRecordedFile'),\n    \"aria-label\": i18n('submitRecordedFile'),\n    onClick: onSubmit,\n    \"data-uppy-super-focusable\": true\n  }, h(\"svg\", {\n    width: \"12\",\n    height: \"9\",\n    viewBox: \"0 0 12 9\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\"\n  }, h(\"path\", {\n    fill: \"#fff\",\n    fillRule: \"nonzero\",\n    d: \"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z\"\n  })));\n}\nexport default SubmitButton;", "import { h } from 'preact';\nfunction DiscardButton(_ref) {\n  let {\n    onDiscard,\n    i18n\n  } = _ref;\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard\",\n    type: \"button\",\n    title: i18n('discardRecordedFile'),\n    \"aria-label\": i18n('discardRecordedFile'),\n    onClick: onDiscard,\n    \"data-uppy-super-focusable\": true\n  }, h(\"svg\", {\n    width: \"13\",\n    height: \"13\",\n    viewBox: \"0 0 13 13\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\"\n  }, h(\"g\", {\n    fill: \"#FFF\",\n    fillRule: \"evenodd\"\n  }, h(\"path\", {\n    d: \"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z\"\n  }), h(\"path\", {\n    d: \"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z\"\n  }))));\n}\nexport default DiscardButton;", "function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\n/* eslint-disable jsx-a11y/media-has-caption */\n\nimport { h, Component } from 'preact';\nimport SnapshotButton from \"./SnapshotButton.js\";\nimport RecordButton from \"./RecordButton.js\";\nimport RecordingLength from \"./RecordingLength.js\";\nimport VideoSourceSelect from \"./VideoSourceSelect.js\";\nimport SubmitButton from \"./SubmitButton.js\";\nimport DiscardButton from \"./DiscardButton.js\";\nfunction isModeAvailable(modes, mode) {\n  return modes.includes(mode);\n}\nclass CameraScreen extends Component {\n  componentDidMount() {\n    const {\n      onFocus\n    } = this.props;\n    onFocus();\n  }\n  componentWillUnmount() {\n    const {\n      onStop\n    } = this.props;\n    onStop();\n  }\n  render() {\n    const {\n      src,\n      recordedVideo,\n      recording,\n      modes,\n      supportsRecording,\n      videoSources,\n      showVideoSourceDropdown,\n      showRecordingLength,\n      onSubmit,\n      i18n,\n      mirror,\n      onSnapshot,\n      onStartRecording,\n      onStopRecording,\n      onDiscardRecordedVideo,\n      recordingLengthSeconds\n    } = this.props;\n    const hasRecordedVideo = !!recordedVideo;\n    const shouldShowRecordButton = !hasRecordedVideo && supportsRecording && (isModeAvailable(modes, 'video-only') || isModeAvailable(modes, 'audio-only') || isModeAvailable(modes, 'video-audio'));\n    const shouldShowSnapshotButton = !hasRecordedVideo && isModeAvailable(modes, 'picture');\n    const shouldShowRecordingLength = supportsRecording && showRecordingLength && !hasRecordedVideo;\n    const shouldShowVideoSourceDropdown = showVideoSourceDropdown && videoSources && videoSources.length > 1;\n    const videoProps = {\n      playsInline: true\n    };\n    if (recordedVideo) {\n      videoProps.muted = false;\n      videoProps.controls = true;\n      videoProps.src = recordedVideo;\n\n      // reset srcObject in dom. If not resetted, stream sticks in element\n      if (this.videoElement) {\n        this.videoElement.srcObject = null;\n      }\n    } else {\n      videoProps.muted = true;\n      videoProps.autoPlay = true;\n      // @ts-expect-error srcObject does not exist on <video> props\n      videoProps.srcObject = src;\n    }\n    return h(\"div\", {\n      className: \"uppy uppy-Webcam-container\"\n    }, h(\"div\", {\n      className: \"uppy-Webcam-videoContainer\"\n    }, h(\"video\", _extends({\n      /* eslint-disable-next-line no-return-assign */\n      ref: videoElement => this.videoElement = videoElement,\n      className: `uppy-Webcam-video  ${mirror ? 'uppy-Webcam-video--mirrored' : ''}`\n      /* eslint-disable-next-line react/jsx-props-no-spreading */\n    }, videoProps))), h(\"div\", {\n      className: \"uppy-Webcam-footer\"\n    }, h(\"div\", {\n      className: \"uppy-Webcam-videoSourceContainer\"\n    }, shouldShowVideoSourceDropdown ? VideoSourceSelect(this.props) : null), h(\"div\", {\n      className: \"uppy-Webcam-buttonContainer\"\n    }, shouldShowSnapshotButton && h(SnapshotButton, {\n      onSnapshot: onSnapshot,\n      i18n: i18n\n    }), shouldShowRecordButton && h(RecordButton, {\n      recording: recording,\n      onStartRecording: onStartRecording,\n      onStopRecording: onStopRecording,\n      i18n: i18n\n    }), hasRecordedVideo && h(SubmitButton, {\n      onSubmit: onSubmit,\n      i18n: i18n\n    }), hasRecordedVideo && h(DiscardButton, {\n      onDiscard: onDiscardRecordedVideo,\n      i18n: i18n\n    })), h(\"div\", {\n      className: \"uppy-Webcam-recordingLength\"\n    }, shouldShowRecordingLength && h(RecordingLength, {\n      recordingLengthSeconds: recordingLengthSeconds,\n      i18n: i18n\n    }))));\n  }\n}\nexport default CameraScreen;", "import { h } from 'preact';\nexport default function PermissionsScreen(_ref) {\n  let {\n    icon,\n    i18n,\n    hasCamera\n  } = _ref;\n  return h(\"div\", {\n    className: \"uppy-Webcam-permissons\"\n  }, h(\"div\", {\n    className: \"uppy-Webcam-permissonsIcon\"\n  }, icon()), h(\"div\", {\n    className: \"uppy-Webcam-title\"\n  }, hasCamera ? i18n('allowAccessTitle') : i18n('noCameraTitle')), h(\"p\", null, hasCamera ? i18n('allowAccessDescription') : i18n('noCameraDescription')));\n}", "export default {\n  strings: {\n    pluginNameCamera: 'Camera',\n    noCameraTitle: 'Camera Not Available',\n    noCameraDescription: 'In order to take pictures or record video, please connect a camera device',\n    recordingStoppedMaxSize: 'Recording stopped because the file size is about to exceed the limit',\n    submitRecordedFile: 'Submit recorded file',\n    discardRecordedFile: 'Discard recorded file',\n    // Shown before a picture is taken when the `countdown` option is set.\n    smile: 'Smile!',\n    // Used as the label for the button that takes a picture.\n    // This is not visibly rendered but is picked up by screen readers.\n    takePicture: 'Take a picture',\n    // Used as the label for the button that starts a video recording.\n    // This is not visibly rendered but is picked up by screen readers.\n    startRecording: 'Begin video recording',\n    // Used as the label for the button that stops a video recording.\n    // This is not visibly rendered but is picked up by screen readers.\n    stopRecording: 'Stop video recording',\n    // Used as the label for the recording length counter. See the showRecordingLength option.\n    // This is not visibly rendered but is picked up by screen readers.\n    recordingLength: 'Recording length %{recording_length}',\n    // Title on the \u201Callow access\u201D screen\n    allowAccessTitle: 'Please allow access to your camera',\n    // Description on the \u201Callow access\u201D screen\n    allowAccessDescription: 'In order to take pictures or record video with your camera, please allow camera access for this site.'\n  }\n};"],
  "mappings": "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",
  "names": ["require_is_mobile", "__commonJSMin", "exports", "module", "isMobile", "mobileRE", "notMobileRE", "tabletRE", "opts", "ua", "result", "import_is_mobile", "canvasToBlob", "canvas", "type", "quality", "resolve", "supportsMediaRecorder", "CameraIcon", "_", "SnapshotButton", "_ref", "onSnapshot", "i18n", "_", "CameraIcon", "RecordButton", "_ref", "recording", "onStartRecording", "onStopRecording", "i18n", "_", "formatSeconds", "seconds", "RecordingLength", "_ref", "recordingLengthSeconds", "i18n", "formattedRecordingLengthSeconds", "formatSeconds", "_", "VideoSourceSelect", "_ref", "currentDeviceId", "videoSources", "onChangeVideoSource", "_", "event", "videoSource", "SubmitButton", "_ref", "onSubmit", "i18n", "_", "SubmitButton_default", "DiscardButton", "_ref", "onDiscard", "i18n", "_", "DiscardButton_default", "_extends", "n", "isModeAvailable", "modes", "mode", "CameraScreen", "x", "onFocus", "onStop", "src", "recordedVideo", "recording", "supportsRecording", "videoSources", "showVideoSourceDropdown", "showRecordingLength", "onSubmit", "i18n", "mirror", "onSnapshot", "onStartRecording", "onStopRecording", "onDiscardRecordedVideo", "recordingLengthSeconds", "hasRecordedVideo", "shouldShowRecordButton", "shouldShowSnapshotButton", "shouldShowRecordingLength", "shouldShowVideoSourceDropdown", "videoProps", "_", "videoElement", "VideoSourceSelect", "SnapshotButton", "RecordButton", "SubmitButton_default", "DiscardButton_default", "RecordingLength", "CameraScreen_default", "PermissionsScreen", "_ref", "icon", "i18n", "hasCamera", "_", "locale_default", "_extends", "n", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "packageJson", "toMimeType", "fileType", "mimeTypes_default", "isVideoMimeType", "mimeType", "isImageMimeType", "getMediaDevices", "isModeAvailable", "modes", "mode", "defaultOptions", "isMobile", "_enableMirror", "Webcam", "UIPlugin_default", "uppy", "opts", "_", "locale_default", "newOpts", "devices", "device", "deviceId", "acceptsAudio", "acceptsVideo", "videoConstraints", "options", "_options", "constraints", "hasCamera", "stream", "currentDeviceId", "tracks", "track", "err", "restrictions", "preferredVideoMimeTypes", "filterSupportedTypes", "candidateType", "getFileTypeExtension", "acceptableMimeTypes", "stoppingBecauseOfMaxSize", "event", "totalSize", "acc", "chunk", "expectedEndChunkSize", "maxSize", "currentRecordingLength", "resolve", "file", "error", "audioTracks", "videoTracks", "reject", "count", "countDown", "message", "tagFile", "video", "width", "height", "canvas", "preferredImageMimeTypes", "ext", "name", "canvasToBlob", "blob", "_blob$type", "fileExtension", "webcamState", "PermissionsScreen", "CameraIcon", "CameraScreen_default", "supportsMediaRecorder", "mobileNativeCamera", "target", "_this$getTargetPlugin", "restartStream", "videoSources", "videoSource"]
}
