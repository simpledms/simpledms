{
  "version": 3,
  "sources": ["../../../../../../node_modules/@uppy/audio/package.json", "../../../../../../node_modules/@uppy/audio/lib/locale.js", "../../../../../../node_modules/@uppy/audio/lib/PermissionsScreen.js", "../../../../../../node_modules/@uppy/audio/lib/AudioSourceSelect.js", "../../../../../../node_modules/@uppy/audio/lib/audio-oscilloscope/index.js", "../../../../../../node_modules/@uppy/audio/lib/DiscardButton.js", "../../../../../../node_modules/@uppy/audio/lib/RecordButton.js", "../../../../../../node_modules/@uppy/audio/lib/formatSeconds.js", "../../../../../../node_modules/@uppy/audio/lib/RecordingLength.js", "../../../../../../node_modules/@uppy/audio/lib/SubmitButton.js", "../../../../../../node_modules/@uppy/audio/lib/RecordingScreen.js", "../../../../../../node_modules/@uppy/audio/lib/supportsMediaRecorder.js", "../../../../../../node_modules/@uppy/audio/lib/Audio.js"],
  "sourcesContent": ["{\n  \"name\": \"@uppy/audio\",\n  \"description\": \"Uppy plugin that records audio using the device\u2019s microphone.\",\n  \"version\": \"2.2.2\",\n  \"license\": \"MIT\",\n  \"main\": \"lib/index.js\",\n  \"style\": \"dist/style.min.css\",\n  \"keywords\": [\n    \"file uploader\",\n    \"uppy\",\n    \"uppy-plugin\",\n    \"audio\",\n    \"microphone\",\n    \"sound\",\n    \"record\",\n    \"mediarecorder\"\n  ],\n  \"type\": \"module\",\n  \"homepage\": \"https://uppy.io\",\n  \"bugs\": {\n    \"url\": \"https://github.com/transloadit/uppy/issues\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/transloadit/uppy.git\"\n  },\n  \"files\": [\n    \"src\",\n    \"lib\",\n    \"dist\",\n    \"CHANGELOG.md\"\n  ],\n  \"dependencies\": {\n    \"@uppy/utils\": \"^6.2.2\",\n    \"preact\": \"^10.5.13\"\n  },\n  \"devDependencies\": {\n    \"cssnano\": \"^7.0.7\",\n    \"jsdom\": \"^26.1.0\",\n    \"postcss\": \"^8.5.6\",\n    \"postcss-cli\": \"^11.0.1\",\n    \"sass\": \"^1.89.2\",\n    \"typescript\": \"^5.8.3\",\n    \"vitest\": \"^3.2.4\"\n  },\n  \"peerDependencies\": {\n    \"@uppy/core\": \"^4.5.2\"\n  },\n  \"publishConfig\": {\n    \"access\": \"public\"\n  },\n  \"scripts\": {\n    \"build\": \"tsc --build tsconfig.build.json\",\n    \"build:css\": \"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css\",\n    \"typecheck\": \"tsc --build\",\n    \"test\": \"vitest run --environment=jsdom --silent='passed-only'\"\n  }\n}", "export default {\n    strings: {\n        pluginNameAudio: 'Audio',\n        // Used as the label for the button that starts an audio recording.\n        // This is not visibly rendered but is picked up by screen readers.\n        startAudioRecording: 'Begin audio recording',\n        // Used as the label for the button that stops an audio recording.\n        // This is not visibly rendered but is picked up by screen readers.\n        stopAudioRecording: 'Stop audio recording',\n        // Title on the \u201Callow access\u201D screen\n        allowAudioAccessTitle: 'Please allow access to your microphone',\n        // Description on the \u201Callow access\u201D screen\n        allowAudioAccessDescription: 'In order to record audio, please allow microphone access for this site.',\n        // Title on the \u201Cdevice not available\u201D screen\n        noAudioTitle: 'Microphone Not Available',\n        // Description on the \u201Cdevice not available\u201D screen\n        noAudioDescription: 'In order to record audio, please connect a microphone or another audio input device',\n        // Message about file size will be shown in an Informer bubble\n        recordingStoppedMaxSize: 'Recording stopped because the file size is about to exceed the limit',\n        // Used as the label for the counter that shows recording length (`1:25`).\n        // This is not visibly rendered but is picked up by screen readers.\n        recordingLength: 'Recording length %{recording_length}',\n        // Used as the label for the submit checkmark button.\n        // This is not visibly rendered but is picked up by screen readers.\n        submitRecordedFile: 'Submit recorded file',\n        // Used as the label for the discard cross button.\n        // This is not visibly rendered but is picked up by screen readers.\n        discardRecordedFile: 'Discard recorded file',\n    },\n};\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\nimport { h } from 'preact';\nexport default (props) => {\n    const { icon, hasAudio, i18n } = props;\n    return (_jsxs(\"div\", { className: \"uppy-Audio-permissons\", children: [_jsx(\"div\", { className: \"uppy-Audio-permissonsIcon\", children: icon() }), _jsx(\"div\", { className: \"uppy-Audio-title\", children: hasAudio ? i18n('allowAudioAccessTitle') : i18n('noAudioTitle') }), _jsx(\"p\", { children: hasAudio\n                    ? i18n('allowAudioAccessDescription')\n                    : i18n('noAudioDescription') })] }));\n};\n", "import { jsx as _jsx } from \"preact/jsx-runtime\";\nimport { h } from 'preact';\nexport default ({ currentDeviceId, audioSources, onChangeSource, }) => {\n    return (_jsx(\"div\", { className: \"uppy-Audio-videoSource\", children: _jsx(\"select\", { className: \"uppy-u-reset uppy-Audio-audioSource-select\", onChange: (event) => {\n                onChangeSource(event.target.value);\n            }, children: audioSources.map((audioSource) => (_jsx(\"option\", { value: audioSource.deviceId, selected: audioSource.deviceId === currentDeviceId, children: audioSource.label }, audioSource.deviceId))) }) }));\n};\n", "// biome-ignore lint/complexity/noBannedTypes: ...\nfunction isFunction(v) {\n    return typeof v === 'function';\n}\nfunction result(v) {\n    return isFunction(v) ? v() : v;\n}\n/* Audio Oscilloscope\n  https://github.com/miguelmota/audio-oscilloscope\n*/\nexport default class AudioOscilloscope {\n    canvas;\n    canvasContext;\n    width;\n    height;\n    analyser;\n    bufferLength;\n    dataArray;\n    onDrawFrame;\n    streamSource;\n    audioContext;\n    source;\n    constructor(canvas, options = {}) {\n        const canvasOptions = options.canvas || {};\n        const canvasContextOptions = options.canvasContext ||\n            {};\n        this.analyser = null;\n        this.bufferLength = 0;\n        this.canvas = canvas;\n        this.width = result(canvasOptions.width) || this.canvas.width;\n        this.height = result(canvasOptions.height) || this.canvas.height;\n        this.canvas.width = this.width;\n        this.canvas.height = this.height;\n        this.canvasContext = this.canvas.getContext('2d');\n        this.canvasContext.fillStyle =\n            result(canvasContextOptions.fillStyle) || 'rgb(255, 255, 255)';\n        this.canvasContext.strokeStyle =\n            result(canvasContextOptions.strokeStyle) || 'rgb(0, 0, 0)';\n        this.canvasContext.lineWidth = result(canvasContextOptions.lineWidth) || 1;\n        this.onDrawFrame = isFunction(options.onDrawFrame)\n            ? options.onDrawFrame\n            : () => { };\n    }\n    addSource(streamSource) {\n        this.streamSource = streamSource;\n        this.audioContext = this.streamSource.context;\n        this.analyser = this.audioContext.createAnalyser();\n        this.analyser.fftSize = 2048;\n        this.bufferLength = this.analyser.frequencyBinCount;\n        this.source = this.audioContext.createBufferSource();\n        this.dataArray = new Uint8Array(this.bufferLength);\n        this.analyser.getByteTimeDomainData(this.dataArray);\n        this.streamSource.connect(this.analyser);\n    }\n    draw() {\n        const { analyser, dataArray, bufferLength } = this;\n        const ctx = this.canvasContext;\n        const w = this.width;\n        const h = this.height;\n        if (analyser) {\n            analyser.getByteTimeDomainData(dataArray);\n        }\n        ctx.fillRect(0, 0, w, h);\n        ctx.beginPath();\n        const sliceWidth = (w * 1.0) / bufferLength;\n        let x = 0;\n        if (!bufferLength) {\n            ctx.moveTo(0, this.height / 2);\n        }\n        for (let i = 0; i < bufferLength; i++) {\n            const v = dataArray[i] / 128.0;\n            const y = v * (h / 2);\n            if (i === 0) {\n                ctx.moveTo(x, y);\n            }\n            else {\n                ctx.lineTo(x, y);\n            }\n            x += sliceWidth;\n        }\n        ctx.lineTo(w, h / 2);\n        ctx.stroke();\n        this.onDrawFrame(this);\n        requestAnimationFrame(this.#draw);\n    }\n    #draw = () => this.draw();\n}\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\nimport { h } from 'preact';\nfunction DiscardButton({ onDiscard, i18n }) {\n    return (_jsx(\"button\", { className: \"uppy-u-reset uppy-c-btn uppy-Audio-button\", type: \"button\", title: i18n('discardRecordedFile'), \"aria-label\": i18n('discardRecordedFile'), onClick: onDiscard, \"data-uppy-super-focusable\": true, children: _jsx(\"svg\", { width: \"13\", height: \"13\", viewBox: \"0 0 13 13\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-hidden\": \"true\", className: \"uppy-c-icon\", children: _jsxs(\"g\", { fill: \"#FFF\", fillRule: \"evenodd\", children: [_jsx(\"path\", { d: \"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z\" }), _jsx(\"path\", { d: \"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z\" })] }) }) }));\n}\nexport default DiscardButton;\n", "import { jsx as _jsx } from \"preact/jsx-runtime\";\nimport { h } from 'preact';\nexport default function RecordButton({ recording, onStartRecording, onStopRecording, i18n, }) {\n    if (recording) {\n        return (_jsx(\"button\", { className: \"uppy-u-reset uppy-c-btn uppy-Audio-button\", type: \"button\", title: i18n('stopAudioRecording'), \"aria-label\": i18n('stopAudioRecording'), onClick: onStopRecording, \"data-uppy-super-focusable\": true, children: _jsx(\"svg\", { \"aria-hidden\": \"true\", focusable: \"false\", className: \"uppy-c-icon\", width: \"100\", height: \"100\", viewBox: \"0 0 100 100\", children: _jsx(\"rect\", { x: \"15\", y: \"15\", width: \"70\", height: \"70\" }) }) }));\n    }\n    return (_jsx(\"button\", { className: \"uppy-u-reset uppy-c-btn uppy-Audio-button\", type: \"button\", title: i18n('startAudioRecording'), \"aria-label\": i18n('startAudioRecording'), onClick: onStartRecording, \"data-uppy-super-focusable\": true, children: _jsx(\"svg\", { \"aria-hidden\": \"true\", focusable: \"false\", className: \"uppy-c-icon\", width: \"14px\", height: \"20px\", viewBox: \"0 0 14 20\", children: _jsx(\"path\", { d: \"M7 14c2.21 0 4-1.71 4-3.818V3.818C11 1.71 9.21 0 7 0S3 1.71 3 3.818v6.364C3 12.29 4.79 14 7 14zm6.364-7h-.637a.643.643 0 0 0-.636.65V9.6c0 3.039-2.565 5.477-5.6 5.175-2.645-.264-4.582-2.692-4.582-5.407V7.65c0-.36-.285-.65-.636-.65H.636A.643.643 0 0 0 0 7.65v1.631c0 3.642 2.544 6.888 6.045 7.382v1.387H3.818a.643.643 0 0 0-.636.65v.65c0 .36.285.65.636.65h6.364c.351 0 .636-.29.636-.65v-.65c0-.36-.285-.65-.636-.65H7.955v-1.372C11.363 16.2 14 13.212 14 9.6V7.65c0-.36-.285-.65-.636-.65z\", fill: \"#FFF\", \"fill-rule\": \"nonzero\" }) }) }));\n}\n", "/**\n * Takes an Integer value of seconds (e.g. 83) and converts it into a\n * human-readable formatted string (e.g. '1:23').\n */\nexport default function formatSeconds(seconds) {\n    return `${Math.floor(seconds / 60)}:${String(seconds % 60).padStart(2, '0')}`;\n}\n", "import { jsx as _jsx } from \"preact/jsx-runtime\";\nimport { h } from 'preact';\nimport formatSeconds from './formatSeconds.js';\nexport default function RecordingLength({ recordingLengthSeconds, }) {\n    const formattedRecordingLengthSeconds = formatSeconds(recordingLengthSeconds);\n    return _jsx(\"span\", { children: formattedRecordingLengthSeconds });\n}\n", "import { jsx as _jsx } from \"preact/jsx-runtime\";\nimport { h } from 'preact';\nfunction SubmitButton({ onSubmit, i18n }) {\n    return (_jsx(\"button\", { className: \"uppy-u-reset uppy-c-btn uppy-Audio-button uppy-Audio-button--submit\", type: \"button\", title: i18n('submitRecordedFile'), \"aria-label\": i18n('submitRecordedFile'), onClick: onSubmit, \"data-uppy-super-focusable\": true, children: _jsx(\"svg\", { width: \"12\", height: \"9\", viewBox: \"0 0 12 9\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-hidden\": \"true\", focusable: \"false\", className: \"uppy-c-icon\", children: _jsx(\"path\", { fill: \"#fff\", fillRule: \"nonzero\", d: \"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z\" }) }) }));\n}\nexport default SubmitButton;\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\nimport { h } from 'preact';\nimport { useEffect, useRef } from 'preact/hooks';\nimport AudioSourceSelect, {} from './AudioSourceSelect.js';\nimport AudioOscilloscope from './audio-oscilloscope/index.js';\nimport DiscardButton from './DiscardButton.js';\nimport RecordButton from './RecordButton.js';\nimport RecordingLength from './RecordingLength.js';\nimport SubmitButton from './SubmitButton.js';\nexport default function RecordingScreen(props) {\n    const { stream, recordedAudio, onStop, recording, supportsRecording, audioSources, showAudioSourceDropdown, onSubmit, i18n, onStartRecording, onStopRecording, onDiscardRecordedAudio, recordingLengthSeconds, } = props;\n    const canvasEl = useRef(null);\n    const oscilloscope = useRef();\n    // componentDidMount / componentDidUnmount\n    useEffect(() => {\n        return () => {\n            oscilloscope.current = null;\n            onStop();\n        };\n    }, [onStop]);\n    // componentDidUpdate\n    useEffect(() => {\n        if (!recordedAudio) {\n            oscilloscope.current = new AudioOscilloscope(canvasEl.current, {\n                canvas: {\n                    width: 600,\n                    height: 600,\n                },\n                canvasContext: {\n                    lineWidth: 2,\n                    fillStyle: 'rgb(0,0,0)',\n                    strokeStyle: 'green',\n                },\n            });\n            oscilloscope.current.draw();\n            if (stream) {\n                const audioContext = new AudioContext();\n                const source = audioContext.createMediaStreamSource(stream);\n                oscilloscope.current.addSource(source);\n            }\n        }\n    }, [recordedAudio, stream]);\n    const hasRecordedAudio = recordedAudio != null;\n    const shouldShowRecordButton = !hasRecordedAudio && supportsRecording;\n    const shouldShowAudioSourceDropdown = showAudioSourceDropdown &&\n        !hasRecordedAudio &&\n        audioSources &&\n        audioSources.length > 1;\n    return (_jsxs(\"div\", { className: \"uppy-Audio-container\", children: [_jsx(\"div\", { className: \"uppy-Audio-audioContainer\", children: hasRecordedAudio ? (\n                // biome-ignore lint/a11y/useMediaCaption: ...\n                _jsx(\"audio\", { className: \"uppy-Audio-player\", controls: true, src: recordedAudio })) : (_jsx(\"canvas\", { ref: canvasEl, className: \"uppy-Audio-canvas\" })) }), _jsxs(\"div\", { className: \"uppy-Audio-footer\", children: [_jsx(\"div\", { className: \"uppy-Audio-audioSourceContainer\", children: shouldShowAudioSourceDropdown ? AudioSourceSelect(props) : null }), _jsxs(\"div\", { className: \"uppy-Audio-buttonContainer\", children: [shouldShowRecordButton && (_jsx(RecordButton, { recording: recording, onStartRecording: onStartRecording, onStopRecording: onStopRecording, i18n: i18n })), hasRecordedAudio && _jsx(SubmitButton, { onSubmit: onSubmit, i18n: i18n }), hasRecordedAudio && (_jsx(DiscardButton, { onDiscard: onDiscardRecordedAudio, i18n: i18n }))] }), _jsx(\"div\", { className: \"uppy-Audio-recordingLength\", children: !hasRecordedAudio && (_jsx(RecordingLength, { recordingLengthSeconds: recordingLengthSeconds })) })] })] }));\n}\n", "export default function supportsMediaRecorder() {\n    return (typeof MediaRecorder === 'function' &&\n        typeof MediaRecorder.prototype?.start === 'function');\n}\n", "import { jsx as _jsx } from \"preact/jsx-runtime\";\nimport { UIPlugin } from '@uppy/core';\nimport getFileTypeExtension from '@uppy/utils/lib/getFileTypeExtension';\nimport { h } from 'preact';\nimport packageJson from '../package.json' with { type: 'json' };\nimport locale from './locale.js';\nimport PermissionsScreen from './PermissionsScreen.js';\nimport RecordingScreen from './RecordingScreen.js';\nimport supportsMediaRecorder from './supportsMediaRecorder.js';\n/**\n * Audio recording plugin\n */\nexport default class Audio extends UIPlugin {\n    static VERSION = packageJson.version;\n    #recordingLengthTimer;\n    icon;\n    #stream = null;\n    #audioActive = false;\n    #recordingChunks = null;\n    #recorder = null;\n    #capturedMediaFile = null;\n    #mediaDevices;\n    #supportsUserMedia;\n    constructor(uppy, opts) {\n        super(uppy, opts);\n        this.#mediaDevices = navigator.mediaDevices;\n        this.#supportsUserMedia = this.#mediaDevices != null;\n        this.id = this.opts.id || 'Audio';\n        this.type = 'acquirer';\n        this.icon = () => (_jsx(\"svg\", { className: \"uppy-DashboardTab-iconAudio\", \"aria-hidden\": \"true\", focusable: \"false\", width: \"32px\", height: \"32px\", viewBox: \"0 0 32 32\", children: _jsx(\"path\", { d: \"M21.143 12.297c.473 0 .857.383.857.857v2.572c0 3.016-2.24 5.513-5.143 5.931v2.64h2.572a.857.857 0 110 1.714H12.57a.857.857 0 110-1.714h2.572v-2.64C12.24 21.24 10 18.742 10 15.726v-2.572a.857.857 0 111.714 0v2.572A4.29 4.29 0 0016 20.01a4.29 4.29 0 004.286-4.285v-2.572c0-.474.384-.857.857-.857zM16 6.5a3 3 0 013 3v6a3 3 0 01-6 0v-6a3 3 0 013-3z\", fill: \"currentcolor\", \"fill-rule\": \"nonzero\" }) }));\n        this.defaultLocale = locale;\n        this.opts = { ...opts };\n        this.i18nInit();\n        this.title = this.i18n('pluginNameAudio');\n        this.setPluginState({\n            hasAudio: false,\n            audioReady: false,\n            cameraError: null,\n            recordingLengthSeconds: 0,\n            audioSources: [],\n            currentDeviceId: null,\n        });\n    }\n    #hasAudioCheck() {\n        if (!this.#mediaDevices) {\n            return Promise.resolve(false);\n        }\n        return this.#mediaDevices.enumerateDevices().then((devices) => {\n            return devices.some((device) => device.kind === 'audioinput');\n        });\n    }\n    #start = (options) => {\n        if (!this.#supportsUserMedia) {\n            return Promise.reject(new Error('Microphone access not supported'));\n        }\n        this.#audioActive = true;\n        this.#hasAudioCheck().then((hasAudio) => {\n            this.setPluginState({\n                hasAudio,\n            });\n            // ask user for access to their camera\n            return this.#mediaDevices\n                .getUserMedia({ audio: true })\n                .then((stream) => {\n                this.#stream = stream;\n                let currentDeviceId = null;\n                const tracks = stream.getAudioTracks();\n                if (!options?.deviceId) {\n                    currentDeviceId = tracks[0].getSettings().deviceId;\n                }\n                else {\n                    currentDeviceId = tracks.findLast((track) => {\n                        return track.getSettings().deviceId === options.deviceId;\n                    });\n                }\n                // Update the sources now, so we can access the names.\n                this.#updateSources();\n                this.setPluginState({\n                    currentDeviceId,\n                    audioReady: true,\n                });\n            })\n                .catch((err) => {\n                this.setPluginState({\n                    audioReady: false,\n                    cameraError: err,\n                });\n                this.uppy.info(err.message, 'error');\n            });\n        });\n    };\n    #startRecording = () => {\n        // only used if supportsMediaRecorder() returned true\n        this.#recorder = new MediaRecorder(this.#stream);\n        this.#recordingChunks = [];\n        let stoppingBecauseOfMaxSize = false;\n        this.#recorder.addEventListener('dataavailable', (event) => {\n            this.#recordingChunks.push(event.data);\n            const { restrictions } = this.uppy.opts;\n            if (this.#recordingChunks.length > 1 &&\n                restrictions.maxFileSize != null &&\n                !stoppingBecauseOfMaxSize) {\n                const totalSize = this.#recordingChunks.reduce((acc, chunk) => acc + chunk.size, 0);\n                // Exclude the initial chunk from the average size calculation because it is likely to be a very small outlier\n                const averageChunkSize = (totalSize - this.#recordingChunks[0].size) /\n                    (this.#recordingChunks.length - 1);\n                const expectedEndChunkSize = averageChunkSize * 3;\n                const maxSize = Math.max(0, restrictions.maxFileSize - expectedEndChunkSize);\n                if (totalSize > maxSize) {\n                    stoppingBecauseOfMaxSize = true;\n                    this.uppy.info(this.i18n('recordingStoppedMaxSize'), 'warning', 4000);\n                    this.#stopRecording();\n                }\n            }\n        });\n        // use a \"time slice\" of 500ms: ondataavailable will be called each 500ms\n        // smaller time slices mean we can more accurately check the max file size restriction\n        this.#recorder.start(500);\n        // Start the recordingLengthTimer if we are showing the recording length.\n        this.#recordingLengthTimer = setInterval(() => {\n            const currentRecordingLength = this.getPluginState()\n                .recordingLengthSeconds;\n            this.setPluginState({\n                recordingLengthSeconds: currentRecordingLength + 1,\n            });\n        }, 1000);\n        this.setPluginState({\n            isRecording: true,\n        });\n    };\n    #stopRecording = () => {\n        const stopped = new Promise((resolve) => {\n            this.#recorder.addEventListener('stop', () => {\n                resolve();\n            });\n            this.#recorder.stop();\n            clearInterval(this.#recordingLengthTimer);\n            this.setPluginState({ recordingLengthSeconds: 0 });\n        });\n        return stopped\n            .then(() => {\n            this.setPluginState({\n                isRecording: false,\n            });\n            return this.#getAudio();\n        })\n            .then((file) => {\n            try {\n                this.#capturedMediaFile = file;\n                // create object url for capture result preview\n                this.setPluginState({\n                    recordedAudio: URL.createObjectURL(file.data),\n                });\n            }\n            catch (err) {\n                // Logging the error, exept restrictions, which is handled in Core\n                if (!err.isRestriction) {\n                    this.uppy.log(err);\n                }\n            }\n        })\n            .then(() => {\n            this.#recordingChunks = null;\n            this.#recorder = null;\n        }, (error) => {\n            this.#recordingChunks = null;\n            this.#recorder = null;\n            throw error;\n        });\n    };\n    #discardRecordedAudio = () => {\n        this.setPluginState({ recordedAudio: null });\n        this.#capturedMediaFile = null;\n    };\n    #submit = () => {\n        try {\n            if (this.#capturedMediaFile) {\n                this.uppy.addFile(this.#capturedMediaFile);\n            }\n        }\n        catch (err) {\n            // Logging the error, exept restrictions, which is handled in Core\n            if (!err.isRestriction) {\n                this.uppy.log(err, 'warning');\n            }\n        }\n    };\n    #stop = async () => {\n        if (this.#stream) {\n            const audioTracks = this.#stream.getAudioTracks();\n            audioTracks.forEach((track) => track.stop());\n        }\n        if (this.#recorder) {\n            await new Promise((resolve) => {\n                this.#recorder.addEventListener('stop', resolve, { once: true });\n                this.#recorder.stop();\n                clearInterval(this.#recordingLengthTimer);\n            });\n        }\n        this.#recordingChunks = null;\n        this.#recorder = null;\n        this.#audioActive = false;\n        this.#stream = null;\n        this.setPluginState({\n            recordedAudio: null,\n            isRecording: false,\n            recordingLengthSeconds: 0,\n        });\n    };\n    #getAudio() {\n        // Sometimes in iOS Safari, Blobs (especially the first Blob in the recordingChunks Array)\n        // have empty 'type' attributes (e.g. '') so we need to find a Blob that has a defined 'type'\n        // attribute in order to determine the correct MIME type.\n        const mimeType = this.#recordingChunks.find((blob) => blob.type?.length > 0).type;\n        const fileExtension = getFileTypeExtension(mimeType);\n        if (!fileExtension) {\n            return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type \"${mimeType}\"`));\n        }\n        const name = `audio-${Date.now()}.${fileExtension}`;\n        const blob = new Blob(this.#recordingChunks, { type: mimeType });\n        const file = {\n            source: this.id,\n            name,\n            data: new Blob([blob], { type: mimeType }),\n            type: mimeType,\n        };\n        return Promise.resolve(file);\n    }\n    #changeSource = (deviceId) => {\n        this.#stop();\n        this.#start({ deviceId });\n    };\n    #updateSources = () => {\n        this.#mediaDevices.enumerateDevices().then((devices) => {\n            this.setPluginState({\n                audioSources: devices.filter((device) => device.kind === 'audioinput'),\n            });\n        });\n    };\n    render() {\n        if (!this.#audioActive) {\n            this.#start();\n        }\n        const audioState = this.getPluginState();\n        if (!audioState.audioReady || !audioState.hasAudio) {\n            return (_jsx(PermissionsScreen, { icon: this.icon, i18n: this.i18n, hasAudio: audioState.hasAudio }));\n        }\n        return (_jsx(RecordingScreen, { ...audioState, onChangeSource: this.#changeSource, onStartRecording: this.#startRecording, onStopRecording: this.#stopRecording, onDiscardRecordedAudio: this.#discardRecordedAudio, onSubmit: this.#submit, onStop: this.#stop, i18n: this.i18n, showAudioSourceDropdown: this.opts.showAudioSourceDropdown, supportsRecording: supportsMediaRecorder(), recording: audioState.isRecording, stream: this.#stream }));\n    }\n    install() {\n        this.setPluginState({\n            audioReady: false,\n            recordingLengthSeconds: 0,\n        });\n        const { target } = this.opts;\n        if (target) {\n            this.mount(target, this);\n        }\n        if (this.#mediaDevices) {\n            this.#updateSources();\n            this.#mediaDevices.ondevicechange = () => {\n                this.#updateSources();\n                if (this.#stream) {\n                    let restartStream = true;\n                    const { audioSources, currentDeviceId } = this.getPluginState();\n                    audioSources.forEach((audioSource) => {\n                        if (currentDeviceId === audioSource.deviceId) {\n                            restartStream = false;\n                        }\n                    });\n                    if (restartStream) {\n                        this.#stop();\n                        this.#start();\n                    }\n                }\n            };\n        }\n    }\n    uninstall() {\n        if (this.#stream) {\n            this.#stop();\n        }\n        this.unmount();\n    }\n}\n"],
  "mappings": "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",
  "names": ["package_default", "locale_default", "PermissionsScreen_default", "props", "icon", "hasAudio", "i18n", "u", "AudioSourceSelect_default", "currentDeviceId", "audioSources", "onChangeSource", "u", "event", "audioSource", "isFunction", "v", "result", "AudioOscilloscope", "canvas", "options", "canvasOptions", "canvasContextOptions", "streamSource", "analyser", "dataArray", "bufferLength", "ctx", "w", "h", "sliceWidth", "x", "i", "y", "#draw", "DiscardButton", "onDiscard", "i18n", "u", "DiscardButton_default", "RecordButton", "recording", "onStartRecording", "onStopRecording", "i18n", "u", "formatSeconds", "seconds", "RecordingLength", "recordingLengthSeconds", "formattedRecordingLengthSeconds", "formatSeconds", "u", "SubmitButton", "onSubmit", "i18n", "u", "SubmitButton_default", "RecordingScreen", "props", "stream", "recordedAudio", "onStop", "recording", "supportsRecording", "audioSources", "showAudioSourceDropdown", "onSubmit", "i18n", "onStartRecording", "onStopRecording", "onDiscardRecordedAudio", "recordingLengthSeconds", "canvasEl", "A", "oscilloscope", "AudioOscilloscope", "source", "hasRecordedAudio", "shouldShowRecordButton", "shouldShowAudioSourceDropdown", "u", "AudioSourceSelect_default", "RecordButton", "SubmitButton_default", "DiscardButton_default", "RecordingLength", "supportsMediaRecorder", "Audio", "UIPlugin_default", "package_default", "#recordingLengthTimer", "#stream", "#audioActive", "#recordingChunks", "#recorder", "#capturedMediaFile", "#mediaDevices", "#supportsUserMedia", "uppy", "opts", "u", "locale_default", "#hasAudioCheck", "devices", "device", "#start", "options", "hasAudio", "stream", "currentDeviceId", "tracks", "track", "#updateSources", "err", "#startRecording", "stoppingBecauseOfMaxSize", "event", "restrictions", "totalSize", "acc", "chunk", "expectedEndChunkSize", "maxSize", "#stopRecording", "currentRecordingLength", "resolve", "#getAudio", "file", "error", "#discardRecordedAudio", "#submit", "#stop", "mimeType", "blob", "fileExtension", "getFileTypeExtension", "name", "#changeSource", "deviceId", "audioState", "PermissionsScreen_default", "RecordingScreen", "supportsMediaRecorder", "target", "restartStream", "audioSources", "audioSource"]
}
