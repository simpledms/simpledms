{
  "version": 3,
  "sources": ["../../../../../node_modules/classnames/index.js", "../../../../../node_modules/eventemitter3/index.js", "../../../../../node_modules/@uppy/utils/lib/emaFilter.js", "../../../../../node_modules/@uppy/status-bar/lib/StatusBarStates.js", "../../../../../node_modules/@uppy/status-bar/lib/StatusBarUI.js", "../../../../../node_modules/@uppy/status-bar/lib/calculateProcessingProgress.js", "../../../../../node_modules/@uppy/status-bar/lib/Components.js", "../../../../../node_modules/@uppy/utils/lib/secondsToTime.js", "../../../../../node_modules/@uppy/utils/lib/prettyETA.js", "../../../../../node_modules/@uppy/status-bar/lib/locale.js", "../../../../../node_modules/@uppy/status-bar/lib/StatusBar.js", "../../../../../node_modules/@uppy/informer/lib/FadeIn.js", "../../../../../node_modules/@uppy/informer/lib/TransitionGroup.js", "../../../../../node_modules/@uppy/informer/lib/Informer.js", "../../../../../node_modules/@uppy/utils/lib/dataURItoBlob.js", "../../../../../node_modules/@uppy/utils/lib/isObjectURL.js", "../../../../../node_modules/@uppy/utils/lib/isPreviewSupported.js", "../../../../../node_modules/exifr/dist/mini.esm.mjs", "../../../../../node_modules/@uppy/thumbnail-generator/lib/locale.js", "../../../../../node_modules/@uppy/thumbnail-generator/lib/index.js", "../../../../../node_modules/@uppy/utils/lib/findAllDOMElements.js", "../../../../../node_modules/@uppy/utils/lib/toArray.js", "../../../../../node_modules/@uppy/utils/lib/getDroppedFiles/utils/webkitGetAsEntryApi/getFilesAndDirectoriesFromDirectory.js", "../../../../../node_modules/@uppy/utils/lib/getDroppedFiles/utils/webkitGetAsEntryApi/index.js", "../../../../../node_modules/@uppy/utils/lib/getDroppedFiles/utils/fallbackApi.js", "../../../../../node_modules/@uppy/utils/lib/getDroppedFiles/index.js", "../../../../../node_modules/@uppy/provider-views/lib/ProviderView/ProviderView.js", "../../../../../node_modules/@uppy/utils/lib/remoteFileObjToLocal.js", "../../../../../node_modules/@uppy/provider-views/lib/ProviderView/AuthView.js", "../../../../../node_modules/@uppy/provider-views/lib/ProviderView/Header.js", "../../../../../node_modules/@uppy/provider-views/lib/ProviderView/User.js", "../../../../../node_modules/@uppy/provider-views/lib/Breadcrumbs.js", "../../../../../node_modules/@uppy/utils/lib/VirtualList.js", "../../../../../node_modules/@uppy/provider-views/lib/Item/index.js", "../../../../../node_modules/@uppy/provider-views/lib/Item/components/ItemIcon.js", "../../../../../node_modules/@uppy/provider-views/lib/Item/components/GridItem.js", "../../../../../node_modules/@uppy/provider-views/lib/Item/components/ListItem.js", "../../../../../node_modules/@uppy/provider-views/lib/Browser.js", "../../../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/afterOpenFolder.js", "../../../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/afterScrollFolder.js", "../../../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/shallowClone.js", "../../../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/afterToggleCheckbox.js", "../../../../../node_modules/eventemitter3/index.mjs", "../../../../../node_modules/p-timeout/index.js", "../../../../../node_modules/p-queue/dist/lower-bound.js", "../../../../../node_modules/p-queue/dist/priority-queue.js", "../../../../../node_modules/p-queue/dist/index.js", "../../../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/afterFill.js", "../../../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/index.js", "../../../../../node_modules/@uppy/provider-views/lib/utils/shouldHandleScroll.js", "../../../../../node_modules/@uppy/provider-views/lib/utils/handleError.js", "../../../../../node_modules/@uppy/provider-views/lib/utils/getClickedRange.js", "../../../../../node_modules/@uppy/provider-views/node_modules/nanoid/non-secure/index.js", "../../../../../node_modules/@uppy/provider-views/lib/SearchInput.js", "../../../../../node_modules/@uppy/provider-views/lib/FooterActions.js", "../../../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/getNumberOfSelectedFiles.js", "../../../../../node_modules/@uppy/provider-views/lib/utils/getTagFile.js", "../../../../../node_modules/@uppy/provider-views/lib/utils/addFiles.js", "../../../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/getCheckedFilesWithPaths.js", "../../../../../node_modules/@uppy/provider-views/lib/utils/PartialTreeUtils/getBreadcrumbs.js", "../../../../../node_modules/@uppy/provider-views/lib/SearchProviderView/SearchProviderView.js", "../../../../../node_modules/@uppy/dashboard/node_modules/nanoid/non-secure/index.js", "../../../../../node_modules/memoize-one/dist/memoize-one.esm.js", "../../../../../node_modules/@uppy/utils/lib/FOCUSABLE_ELEMENTS.js", "../../../../../node_modules/@uppy/dashboard/lib/utils/getActiveOverlayEl.js", "../../../../../node_modules/@uppy/dashboard/lib/utils/trapFocus.js", "../../../../../node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js", "../../../../../node_modules/@uppy/dashboard/lib/components/Dashboard.js", "../../../../../node_modules/@uppy/utils/lib/isDragDropSupported.js", "../../../../../node_modules/@uppy/dashboard/lib/components/FileItem/index.js", "../../../../../node_modules/shallow-equal/src/arrays.ts", "../../../../../node_modules/shallow-equal/src/objects.ts", "../../../../../node_modules/shallow-equal/src/index.ts", "../../../../../node_modules/@uppy/dashboard/lib/utils/getFileTypeIcon.js", "../../../../../node_modules/@uppy/dashboard/lib/components/FilePreview.js", "../../../../../node_modules/@uppy/dashboard/lib/components/FileItem/MetaErrorMessage.js", "../../../../../node_modules/@uppy/dashboard/lib/components/FileItem/FilePreviewAndLink/index.js", "../../../../../node_modules/@uppy/dashboard/lib/components/FileItem/FileProgress/index.js", "../../../../../node_modules/@uppy/dashboard/lib/components/FileItem/FileInfo/index.js", "../../../../../node_modules/@uppy/utils/lib/truncateString.js", "../../../../../node_modules/@uppy/dashboard/lib/utils/copyToClipboard.js", "../../../../../node_modules/@uppy/dashboard/lib/components/FileItem/Buttons/index.js", "../../../../../node_modules/@uppy/dashboard/lib/components/FileList.js", "../../../../../node_modules/@uppy/dashboard/lib/components/AddFiles.js", "../../../../../node_modules/@uppy/dashboard/lib/components/AddFilesPanel.js", "../../../../../node_modules/@uppy/dashboard/lib/components/PickerPanelContent.js", "../../../../../node_modules/@uppy/dashboard/lib/utils/ignoreEvent.js", "../../../../../node_modules/@uppy/dashboard/lib/components/EditorPanel.js", "../../../../../node_modules/@uppy/dashboard/lib/components/PickerPanelTopBar.js", "../../../../../node_modules/@uppy/dashboard/lib/components/FileCard/index.js", "../../../../../node_modules/@uppy/dashboard/lib/components/FileCard/RenderMetaFields.js", "../../../../../node_modules/@uppy/dashboard/lib/components/Slide.js", "../../../../../node_modules/@uppy/dashboard/lib/locale.js", "../../../../../node_modules/@uppy/dashboard/lib/Dashboard.js"],
  "sourcesContent": ["/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n", "'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n", "/**\n * Low-pass filter using Exponential Moving Averages (aka exponential smoothing)\n * Filters a sequence of values by updating the mixing the previous output value\n * with the new input using the exponential window function\n *\n * @param newValue the n-th value of the sequence\n * @param previousSmoothedValue the exponential average of the first n-1 values\n * @param halfLife value of `dt` to move the smoothed value halfway between `previousFilteredValue` and `newValue`\n * @param dt time elapsed between adding the (n-1)th and the n-th values\n * @returns the exponential average of the first n values\n */\nexport default function emaFilter(newValue, previousSmoothedValue, halfLife, dt) {\n  if (halfLife === 0 || newValue === previousSmoothedValue) return newValue;\n  if (dt === 0) return previousSmoothedValue;\n  return newValue + (previousSmoothedValue - newValue) * 2 ** (-dt / halfLife);\n}", "export default {\n  STATE_ERROR: 'error',\n  STATE_WAITING: 'waiting',\n  STATE_PREPROCESSING: 'preprocessing',\n  STATE_UPLOADING: 'uploading',\n  STATE_POSTPROCESSING: 'postprocessing',\n  STATE_COMPLETE: 'complete'\n};", "import { h } from 'preact';\nimport classNames from 'classnames';\nimport statusBarStates from './StatusBarStates.js';\nimport calculateProcessingProgress from './calculateProcessingProgress.js';\nimport { UploadBtn, RetryBtn, CancelBtn, PauseResumeButton, DoneBtn, ProgressBarProcessing, ProgressBarError, ProgressBarUploading, ProgressBarComplete } from \"./Components.js\";\nconst {\n  STATE_ERROR,\n  STATE_WAITING,\n  STATE_PREPROCESSING,\n  STATE_UPLOADING,\n  STATE_POSTPROCESSING,\n  STATE_COMPLETE\n} = statusBarStates;\nexport default function StatusBarUI(_ref) {\n  let {\n    newFiles,\n    allowNewUpload,\n    isUploadInProgress,\n    isAllPaused,\n    resumableUploads,\n    error,\n    hideUploadButton = undefined,\n    hidePauseResumeButton = false,\n    hideCancelButton = false,\n    hideRetryButton = false,\n    recoveredState,\n    uploadState,\n    totalProgress,\n    files,\n    supportsUploadProgress,\n    hideAfterFinish = false,\n    isSomeGhost,\n    doneButtonHandler = undefined,\n    isUploadStarted,\n    i18n,\n    startUpload,\n    uppy,\n    isAllComplete,\n    showProgressDetails = undefined,\n    numUploads,\n    complete,\n    totalSize,\n    totalETA,\n    totalUploadedSize\n  } = _ref;\n  function getProgressValue() {\n    switch (uploadState) {\n      case STATE_POSTPROCESSING:\n      case STATE_PREPROCESSING:\n        {\n          const progress = calculateProcessingProgress(files);\n          if (progress.mode === 'determinate') {\n            return progress.value * 100;\n          }\n          return totalProgress;\n        }\n      case STATE_ERROR:\n        {\n          return null;\n        }\n      case STATE_UPLOADING:\n        {\n          if (!supportsUploadProgress) {\n            return null;\n          }\n          return totalProgress;\n        }\n      default:\n        return totalProgress;\n    }\n  }\n  function getIsIndeterminate() {\n    switch (uploadState) {\n      case STATE_POSTPROCESSING:\n      case STATE_PREPROCESSING:\n        {\n          const {\n            mode\n          } = calculateProcessingProgress(files);\n          return mode === 'indeterminate';\n        }\n      case STATE_UPLOADING:\n        {\n          if (!supportsUploadProgress) {\n            return true;\n          }\n          return false;\n        }\n      default:\n        return false;\n    }\n  }\n  const progressValue = getProgressValue();\n  const width = progressValue != null ? progressValue : 100;\n  const showUploadBtn = !error && newFiles && (!isUploadInProgress && !isAllPaused || recoveredState) && allowNewUpload && !hideUploadButton;\n  const showCancelBtn = !hideCancelButton && uploadState !== STATE_WAITING && uploadState !== STATE_COMPLETE;\n  const showPauseResumeBtn = resumableUploads && !hidePauseResumeButton && uploadState === STATE_UPLOADING;\n  const showRetryBtn = error && !isAllComplete && !hideRetryButton;\n  const showDoneBtn = doneButtonHandler && uploadState === STATE_COMPLETE;\n  const progressClassNames = classNames('uppy-StatusBar-progress', {\n    'is-indeterminate': getIsIndeterminate()\n  });\n  const statusBarClassNames = classNames('uppy-StatusBar', `is-${uploadState}`, {\n    'has-ghosts': isSomeGhost\n  });\n  const progressBarStateEl = (() => {\n    switch (uploadState) {\n      case STATE_PREPROCESSING:\n      case STATE_POSTPROCESSING:\n        return h(ProgressBarProcessing, {\n          progress: calculateProcessingProgress(files)\n        });\n      case STATE_COMPLETE:\n        return h(ProgressBarComplete, {\n          i18n: i18n\n        });\n      case STATE_ERROR:\n        return h(ProgressBarError, {\n          error: error,\n          i18n: i18n,\n          numUploads: numUploads,\n          complete: complete\n        });\n      case STATE_UPLOADING:\n        return h(ProgressBarUploading, {\n          i18n: i18n,\n          supportsUploadProgress: supportsUploadProgress,\n          totalProgress: totalProgress,\n          showProgressDetails: showProgressDetails,\n          isUploadStarted: isUploadStarted,\n          isAllComplete: isAllComplete,\n          isAllPaused: isAllPaused,\n          newFiles: newFiles,\n          numUploads: numUploads,\n          complete: complete,\n          totalUploadedSize: totalUploadedSize,\n          totalSize: totalSize,\n          totalETA: totalETA,\n          startUpload: startUpload\n        });\n      default:\n        return null;\n    }\n  })();\n  const atLeastOneAction = showUploadBtn || showRetryBtn || showPauseResumeBtn || showCancelBtn || showDoneBtn;\n  const thereIsNothingInside = !atLeastOneAction && !progressBarStateEl;\n  const isHidden = thereIsNothingInside || uploadState === STATE_COMPLETE && hideAfterFinish;\n  if (isHidden) {\n    return null;\n  }\n  return h(\"div\", {\n    className: statusBarClassNames\n  }, h(\"div\", {\n    className: progressClassNames,\n    style: {\n      width: `${width}%`\n    },\n    role: \"progressbar\",\n    \"aria-label\": `${width}%`,\n    \"aria-valuetext\": `${width}%`,\n    \"aria-valuemin\": 0,\n    \"aria-valuemax\": 100,\n    \"aria-valuenow\": progressValue\n  }), progressBarStateEl, h(\"div\", {\n    className: \"uppy-StatusBar-actions\"\n  }, showUploadBtn ? h(UploadBtn, {\n    newFiles: newFiles,\n    isUploadStarted: isUploadStarted,\n    recoveredState: recoveredState,\n    i18n: i18n,\n    isSomeGhost: isSomeGhost,\n    startUpload: startUpload,\n    uploadState: uploadState\n  }) : null, showRetryBtn ? h(RetryBtn, {\n    i18n: i18n,\n    uppy: uppy\n  }) : null, showPauseResumeBtn ? h(PauseResumeButton, {\n    isAllPaused: isAllPaused,\n    i18n: i18n,\n    isAllComplete: isAllComplete,\n    resumableUploads: resumableUploads,\n    uppy: uppy\n  }) : null, showCancelBtn ? h(CancelBtn, {\n    i18n: i18n,\n    uppy: uppy\n  }) : null, showDoneBtn ? h(DoneBtn, {\n    i18n: i18n,\n    doneButtonHandler: doneButtonHandler\n  }) : null));\n}", "export default function calculateProcessingProgress(files) {\n  const values = [];\n  let mode = 'indeterminate';\n  let message;\n  for (const {\n    progress\n  } of Object.values(files)) {\n    const {\n      preprocess,\n      postprocess\n    } = progress;\n    // In the future we should probably do this differently. For now we'll take the\n    // mode and message from the first file\u2026\n    if (message == null && (preprocess || postprocess)) {\n      ;\n      ({\n        mode,\n        message\n      } = preprocess || postprocess);\n    }\n    if ((preprocess == null ? void 0 : preprocess.mode) === 'determinate') values.push(preprocess.value);\n    if ((postprocess == null ? void 0 : postprocess.mode) === 'determinate') values.push(postprocess.value);\n  }\n  const value = values.reduce((total, progressValue) => {\n    return total + progressValue / values.length;\n  }, 0);\n  return {\n    mode,\n    message,\n    value\n  };\n}", "import { h } from 'preact';\nimport classNames from 'classnames';\nimport prettierBytes from '@transloadit/prettier-bytes';\nimport prettyETA from '@uppy/utils/lib/prettyETA';\nimport statusBarStates from './StatusBarStates.js';\nconst DOT = `\\u00B7`;\nconst renderDot = () => ` ${DOT} `;\nfunction UploadBtn(props) {\n  const {\n    newFiles,\n    isUploadStarted,\n    recoveredState,\n    i18n,\n    uploadState,\n    isSomeGhost,\n    startUpload\n  } = props;\n  const uploadBtnClassNames = classNames('uppy-u-reset', 'uppy-c-btn', 'uppy-StatusBar-actionBtn', 'uppy-StatusBar-actionBtn--upload', {\n    'uppy-c-btn-primary': uploadState === statusBarStates.STATE_WAITING\n  }, {\n    'uppy-StatusBar-actionBtn--disabled': isSomeGhost\n  });\n  const uploadBtnText = newFiles && isUploadStarted && !recoveredState ? i18n('uploadXNewFiles', {\n    smart_count: newFiles\n  }) : i18n('uploadXFiles', {\n    smart_count: newFiles\n  });\n  return h(\"button\", {\n    type: \"button\",\n    className: uploadBtnClassNames,\n    \"aria-label\": i18n('uploadXFiles', {\n      smart_count: newFiles\n    }),\n    onClick: startUpload,\n    disabled: isSomeGhost,\n    \"data-uppy-super-focusable\": true\n  }, uploadBtnText);\n}\nfunction RetryBtn(props) {\n  const {\n    i18n,\n    uppy\n  } = props;\n  return h(\"button\", {\n    type: \"button\",\n    className: \"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry\",\n    \"aria-label\": i18n('retryUpload'),\n    onClick: () => uppy.retryAll().catch(() => {\n      /* Error reported and handled via an event */\n    }),\n    \"data-uppy-super-focusable\": true,\n    \"data-cy\": \"retry\"\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"8\",\n    height: \"10\",\n    viewBox: \"0 0 8 10\"\n  }, h(\"path\", {\n    d: \"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z\"\n  })), i18n('retry'));\n}\nfunction CancelBtn(props) {\n  const {\n    i18n,\n    uppy\n  } = props;\n  return h(\"button\", {\n    type: \"button\",\n    className: \"uppy-u-reset uppy-StatusBar-actionCircleBtn\",\n    title: i18n('cancel'),\n    \"aria-label\": i18n('cancel'),\n    onClick: () => uppy.cancelAll(),\n    \"data-cy\": \"cancel\",\n    \"data-uppy-super-focusable\": true\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\"\n  }, h(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, h(\"circle\", {\n    fill: \"#888\",\n    cx: \"8\",\n    cy: \"8\",\n    r: \"8\"\n  }), h(\"path\", {\n    fill: \"#FFF\",\n    d: \"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z\"\n  }))));\n}\nfunction PauseResumeButton(props) {\n  const {\n    isAllPaused,\n    i18n,\n    isAllComplete,\n    resumableUploads,\n    uppy\n  } = props;\n  const title = isAllPaused ? i18n('resume') : i18n('pause');\n  function togglePauseResume() {\n    if (isAllComplete) return;\n    if (!resumableUploads) {\n      uppy.cancelAll();\n      return;\n    }\n    if (isAllPaused) {\n      uppy.resumeAll();\n      return;\n    }\n    uppy.pauseAll();\n  }\n  return h(\"button\", {\n    title: title,\n    \"aria-label\": title,\n    className: \"uppy-u-reset uppy-StatusBar-actionCircleBtn\",\n    type: \"button\",\n    onClick: togglePauseResume,\n    \"data-cy\": \"togglePauseResume\",\n    \"data-uppy-super-focusable\": true\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\"\n  }, h(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, h(\"circle\", {\n    fill: \"#888\",\n    cx: \"8\",\n    cy: \"8\",\n    r: \"8\"\n  }), h(\"path\", {\n    fill: \"#FFF\",\n    d: isAllPaused ? 'M6 4.25L11.5 8 6 11.75z' : 'M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z'\n  }))));\n}\nfunction DoneBtn(props) {\n  const {\n    i18n,\n    doneButtonHandler\n  } = props;\n  return h(\"button\", {\n    type: \"button\",\n    className: \"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done\",\n    onClick: doneButtonHandler,\n    \"data-uppy-super-focusable\": true\n  }, i18n('done'));\n}\nfunction LoadingSpinner() {\n  return h(\"svg\", {\n    className: \"uppy-StatusBar-spinner\",\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"14\",\n    height: \"14\"\n  }, h(\"path\", {\n    d: \"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0\",\n    fillRule: \"evenodd\"\n  }));\n}\nfunction ProgressBarProcessing(props) {\n  const {\n    progress\n  } = props;\n  const {\n    value,\n    mode,\n    message\n  } = progress;\n  const dot = `\\u00B7`;\n  return h(\"div\", {\n    className: \"uppy-StatusBar-content\"\n  }, h(LoadingSpinner, null), mode === 'determinate' ? `${Math.round(value * 100)}% ${dot} ` : '', message);\n}\nfunction ProgressDetails(props) {\n  const {\n    numUploads,\n    complete,\n    totalUploadedSize,\n    totalSize,\n    totalETA,\n    i18n\n  } = props;\n  const ifShowFilesUploadedOfTotal = numUploads > 1;\n  const totalUploadedSizeStr = prettierBytes(totalUploadedSize);\n  return h(\"div\", {\n    className: \"uppy-StatusBar-statusSecondary\"\n  }, ifShowFilesUploadedOfTotal && i18n('filesUploadedOfTotal', {\n    complete,\n    smart_count: numUploads\n  }), h(\"span\", {\n    className: \"uppy-StatusBar-additionalInfo\"\n  }, ifShowFilesUploadedOfTotal && renderDot(), totalSize != null ? i18n('dataUploadedOfTotal', {\n    complete: totalUploadedSizeStr,\n    total: prettierBytes(totalSize)\n  }) : i18n('dataUploadedOfUnknown', {\n    complete: totalUploadedSizeStr\n  }), renderDot(), totalETA != null && i18n('xTimeLeft', {\n    time: prettyETA(totalETA)\n  })));\n}\nfunction FileUploadCount(props) {\n  const {\n    i18n,\n    complete,\n    numUploads\n  } = props;\n  return h(\"div\", {\n    className: \"uppy-StatusBar-statusSecondary\"\n  }, i18n('filesUploadedOfTotal', {\n    complete,\n    smart_count: numUploads\n  }));\n}\nfunction UploadNewlyAddedFiles(props) {\n  const {\n    i18n,\n    newFiles,\n    startUpload\n  } = props;\n  const uploadBtnClassNames = classNames('uppy-u-reset', 'uppy-c-btn', 'uppy-StatusBar-actionBtn', 'uppy-StatusBar-actionBtn--uploadNewlyAdded');\n  return h(\"div\", {\n    className: \"uppy-StatusBar-statusSecondary\"\n  }, h(\"div\", {\n    className: \"uppy-StatusBar-statusSecondaryHint\"\n  }, i18n('xMoreFilesAdded', {\n    smart_count: newFiles\n  })), h(\"button\", {\n    type: \"button\",\n    className: uploadBtnClassNames,\n    \"aria-label\": i18n('uploadXFiles', {\n      smart_count: newFiles\n    }),\n    onClick: startUpload\n  }, i18n('upload')));\n}\nfunction ProgressBarUploading(props) {\n  const {\n    i18n,\n    supportsUploadProgress,\n    totalProgress,\n    showProgressDetails,\n    isUploadStarted,\n    isAllComplete,\n    isAllPaused,\n    newFiles,\n    numUploads,\n    complete,\n    totalUploadedSize,\n    totalSize,\n    totalETA,\n    startUpload\n  } = props;\n  const showUploadNewlyAddedFiles = newFiles && isUploadStarted;\n  if (!isUploadStarted || isAllComplete) {\n    return null;\n  }\n  const title = isAllPaused ? i18n('paused') : i18n('uploading');\n  function renderProgressDetails() {\n    if (!isAllPaused && !showUploadNewlyAddedFiles && showProgressDetails) {\n      if (supportsUploadProgress) {\n        return h(ProgressDetails, {\n          numUploads: numUploads,\n          complete: complete,\n          totalUploadedSize: totalUploadedSize,\n          totalSize: totalSize,\n          totalETA: totalETA,\n          i18n: i18n\n        });\n      }\n      return h(FileUploadCount, {\n        i18n: i18n,\n        complete: complete,\n        numUploads: numUploads\n      });\n    }\n    return null;\n  }\n  return h(\"div\", {\n    className: \"uppy-StatusBar-content\",\n    \"aria-label\": title,\n    title: title\n  }, !isAllPaused ? h(LoadingSpinner, null) : null, h(\"div\", {\n    className: \"uppy-StatusBar-status\"\n  }, h(\"div\", {\n    className: \"uppy-StatusBar-statusPrimary\"\n  }, supportsUploadProgress && totalProgress !== 0 ? `${title}: ${totalProgress}%` : title), renderProgressDetails(), showUploadNewlyAddedFiles ? h(UploadNewlyAddedFiles, {\n    i18n: i18n,\n    newFiles: newFiles,\n    startUpload: startUpload\n  }) : null));\n}\nfunction ProgressBarComplete(props) {\n  const {\n    i18n\n  } = props;\n  return h(\"div\", {\n    className: \"uppy-StatusBar-content\",\n    role: \"status\",\n    title: i18n('complete')\n  }, h(\"div\", {\n    className: \"uppy-StatusBar-status\"\n  }, h(\"div\", {\n    className: \"uppy-StatusBar-statusPrimary\"\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-StatusBar-statusIndicator uppy-c-icon\",\n    width: \"15\",\n    height: \"11\",\n    viewBox: \"0 0 15 11\"\n  }, h(\"path\", {\n    d: \"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z\"\n  })), i18n('complete'))));\n}\nfunction ProgressBarError(props) {\n  const {\n    error,\n    i18n,\n    complete,\n    numUploads\n  } = props;\n  function displayErrorAlert() {\n    const errorMessage = `${i18n('uploadFailed')} \\n\\n ${error}`;\n    // eslint-disable-next-line no-alert\n    alert(errorMessage); // TODO: move to custom alert implementation\n  }\n  return h(\"div\", {\n    className: \"uppy-StatusBar-content\",\n    title: i18n('uploadFailed')\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-StatusBar-statusIndicator uppy-c-icon\",\n    width: \"11\",\n    height: \"11\",\n    viewBox: \"0 0 11 11\"\n  }, h(\"path\", {\n    d: \"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z\"\n  })), h(\"div\", {\n    className: \"uppy-StatusBar-status\"\n  }, h(\"div\", {\n    className: \"uppy-StatusBar-statusPrimary\"\n  }, i18n('uploadFailed'), h(\"button\", {\n    className: \"uppy-u-reset uppy-StatusBar-details\",\n    \"aria-label\": i18n('showErrorDetails'),\n    \"data-microtip-position\": \"top-right\",\n    \"data-microtip-size\": \"medium\",\n    onClick: displayErrorAlert,\n    type: \"button\"\n  }, \"?\")), h(FileUploadCount, {\n    i18n: i18n,\n    complete: complete,\n    numUploads: numUploads\n  })));\n}\nexport { UploadBtn, RetryBtn, CancelBtn, PauseResumeButton, DoneBtn, LoadingSpinner, ProgressDetails, ProgressBarProcessing, ProgressBarError, ProgressBarUploading, ProgressBarComplete };", "export default function secondsToTime(rawSeconds) {\n  const hours = Math.floor(rawSeconds / 3600) % 24;\n  const minutes = Math.floor(rawSeconds / 60) % 60;\n  const seconds = Math.floor(rawSeconds % 60);\n  return {\n    hours,\n    minutes,\n    seconds\n  };\n}", "import secondsToTime from './secondsToTime.js';\nexport default function prettyETA(seconds) {\n  const time = secondsToTime(seconds);\n\n  // Only display hours and minutes if they are greater than 0 but always\n  // display minutes if hours is being displayed\n  // Display a leading zero if the there is a preceding unit: 1m 05s, but 5s\n  const hoursStr = time.hours === 0 ? '' : `${time.hours}h`;\n  const minutesStr = time.minutes === 0 ? '' : `${time.hours === 0 ? time.minutes : ` ${time.minutes.toString(10).padStart(2, '0')}`}m`;\n  const secondsStr = time.hours !== 0 ? '' : `${time.minutes === 0 ? time.seconds : ` ${time.seconds.toString(10).padStart(2, '0')}`}s`;\n  return `${hoursStr}${minutesStr}${secondsStr}`;\n}", "export default {\n  strings: {\n    // Shown in the status bar while files are being uploaded.\n    uploading: 'Uploading',\n    // Shown in the status bar once all files have been uploaded.\n    complete: 'Complete',\n    // Shown in the status bar if an upload failed.\n    uploadFailed: 'Upload failed',\n    // Shown in the status bar while the upload is paused.\n    paused: 'Paused',\n    // Used as the label for the button that retries an upload.\n    retry: 'Retry',\n    // Used as the label for the button that cancels an upload.\n    cancel: 'Cancel',\n    // Used as the label for the button that pauses an upload.\n    pause: 'Pause',\n    // Used as the label for the button that resumes an upload.\n    resume: 'Resume',\n    // Used as the label for the button that resets the upload state after an upload\n    done: 'Done',\n    // When `showProgressDetails` is set, shows the number of files that have been fully uploaded so far.\n    filesUploadedOfTotal: {\n      0: '%{complete} of %{smart_count} file uploaded',\n      1: '%{complete} of %{smart_count} files uploaded'\n    },\n    // When `showProgressDetails` is set, shows the amount of bytes that have been uploaded so far.\n    dataUploadedOfTotal: '%{complete} of %{total}',\n    dataUploadedOfUnknown: '%{complete} of unknown',\n    // When `showProgressDetails` is set, shows an estimation of how long the upload will take to complete.\n    xTimeLeft: '%{time} left',\n    // Used as the label for the button that starts an upload.\n    uploadXFiles: {\n      0: 'Upload %{smart_count} file',\n      1: 'Upload %{smart_count} files'\n    },\n    // Used as the label for the button that starts an upload, if another upload has been started in the past\n    // and new files were added later.\n    uploadXNewFiles: {\n      0: 'Upload +%{smart_count} file',\n      1: 'Upload +%{smart_count} files'\n    },\n    upload: 'Upload',\n    retryUpload: 'Retry upload',\n    xMoreFilesAdded: {\n      0: '%{smart_count} more file added',\n      1: '%{smart_count} more files added'\n    },\n    showErrorDetails: 'Show error details'\n  }\n};", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\nimport { UIPlugin } from '@uppy/core';\nimport emaFilter from '@uppy/utils/lib/emaFilter';\nimport getTextDirection from '@uppy/utils/lib/getTextDirection';\nimport statusBarStates from './StatusBarStates.js';\nimport StatusBarUI from \"./StatusBarUI.js\";\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.1.3\"\n};\nimport locale from './locale.js';\nconst speedFilterHalfLife = 2000;\nconst ETAFilterHalfLife = 2000;\nfunction getUploadingState(error, isAllComplete, recoveredState, files) {\n  if (error) {\n    return statusBarStates.STATE_ERROR;\n  }\n  if (isAllComplete) {\n    return statusBarStates.STATE_COMPLETE;\n  }\n  if (recoveredState) {\n    return statusBarStates.STATE_WAITING;\n  }\n  let state = statusBarStates.STATE_WAITING;\n  const fileIDs = Object.keys(files);\n  for (let i = 0; i < fileIDs.length; i++) {\n    const {\n      progress\n    } = files[fileIDs[i]];\n    // If ANY files are being uploaded right now, show the uploading state.\n    if (progress.uploadStarted && !progress.uploadComplete) {\n      return statusBarStates.STATE_UPLOADING;\n    }\n    // If files are being preprocessed AND postprocessed at this time, we show the\n    // preprocess state. If any files are being uploaded we show uploading.\n    if (progress.preprocess) {\n      state = statusBarStates.STATE_PREPROCESSING;\n    }\n    // If NO files are being preprocessed or uploaded right now, but some files are\n    // being postprocessed, show the postprocess state.\n    if (progress.postprocess && state !== statusBarStates.STATE_PREPROCESSING) {\n      state = statusBarStates.STATE_POSTPROCESSING;\n    }\n  }\n  return state;\n}\nconst defaultOptions = {\n  hideUploadButton: false,\n  hideRetryButton: false,\n  hidePauseResumeButton: false,\n  hideCancelButton: false,\n  showProgressDetails: false,\n  hideAfterFinish: true,\n  doneButtonHandler: null\n};\n\n/**\n * StatusBar: renders a status bar with upload/pause/resume/cancel/retry buttons,\n * progress percentage and time remaining.\n */\nvar _lastUpdateTime = /*#__PURE__*/_classPrivateFieldLooseKey(\"lastUpdateTime\");\nvar _previousUploadedBytes = /*#__PURE__*/_classPrivateFieldLooseKey(\"previousUploadedBytes\");\nvar _previousSpeed = /*#__PURE__*/_classPrivateFieldLooseKey(\"previousSpeed\");\nvar _previousETA = /*#__PURE__*/_classPrivateFieldLooseKey(\"previousETA\");\nvar _computeSmoothETA = /*#__PURE__*/_classPrivateFieldLooseKey(\"computeSmoothETA\");\nvar _onUploadStart = /*#__PURE__*/_classPrivateFieldLooseKey(\"onUploadStart\");\nexport default class StatusBar extends UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, {\n      ...defaultOptions,\n      ...opts\n    });\n    Object.defineProperty(this, _computeSmoothETA, {\n      value: _computeSmoothETA2\n    });\n    Object.defineProperty(this, _lastUpdateTime, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _previousUploadedBytes, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _previousSpeed, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _previousETA, {\n      writable: true,\n      value: void 0\n    });\n    this.startUpload = () => {\n      return this.uppy.upload().catch(() => {\n        // Error logged in Core\n      });\n    };\n    Object.defineProperty(this, _onUploadStart, {\n      writable: true,\n      value: () => {\n        const {\n          recoveredState\n        } = this.uppy.getState();\n        _classPrivateFieldLooseBase(this, _previousSpeed)[_previousSpeed] = null;\n        _classPrivateFieldLooseBase(this, _previousETA)[_previousETA] = null;\n        if (recoveredState) {\n          _classPrivateFieldLooseBase(this, _previousUploadedBytes)[_previousUploadedBytes] = Object.values(recoveredState.files).reduce((pv, _ref) => {\n            let {\n              progress\n            } = _ref;\n            return pv + progress.bytesUploaded;\n          }, 0);\n\n          // We don't set `#lastUpdateTime` at this point because the upload won't\n          // actually resume until the user asks for it.\n\n          this.uppy.emit('restore-confirmed');\n          return;\n        }\n        _classPrivateFieldLooseBase(this, _lastUpdateTime)[_lastUpdateTime] = performance.now();\n        _classPrivateFieldLooseBase(this, _previousUploadedBytes)[_previousUploadedBytes] = 0;\n      }\n    });\n    this.id = this.opts.id || 'StatusBar';\n    this.title = 'StatusBar';\n    this.type = 'progressindicator';\n    this.defaultLocale = locale;\n    this.i18nInit();\n    this.render = this.render.bind(this);\n    this.install = this.install.bind(this);\n  }\n  render(state) {\n    const {\n      capabilities,\n      files,\n      allowNewUpload,\n      totalProgress,\n      error,\n      recoveredState\n    } = state;\n    const {\n      newFiles,\n      startedFiles,\n      completeFiles,\n      isUploadStarted,\n      isAllComplete,\n      isAllPaused,\n      isUploadInProgress,\n      isSomeGhost\n    } = this.uppy.getObjectOfFilesPerState();\n\n    // If some state was recovered, we want to show Upload button/counter\n    // for all the files, because in this case it\u2019s not an Upload button,\n    // but \u201CConfirm Restore Button\u201D\n    const newFilesOrRecovered = recoveredState ? Object.values(files) : newFiles;\n    const resumableUploads = !!capabilities.resumableUploads;\n    const supportsUploadProgress = capabilities.uploadProgress !== false;\n    let totalSize = null;\n    let totalUploadedSize = 0;\n\n    // Only if all files have a known size, does it make sense to display a total size\n    if (startedFiles.every(f => f.progress.bytesTotal != null && f.progress.bytesTotal !== 0)) {\n      totalSize = 0;\n      startedFiles.forEach(file => {\n        totalSize += file.progress.bytesTotal || 0;\n        totalUploadedSize += file.progress.bytesUploaded || 0;\n      });\n    } else {\n      // however uploaded size we will always have\n      startedFiles.forEach(file => {\n        totalUploadedSize += file.progress.bytesUploaded || 0;\n      });\n    }\n    const totalETA = _classPrivateFieldLooseBase(this, _computeSmoothETA)[_computeSmoothETA]({\n      uploaded: totalUploadedSize,\n      total: totalSize\n    });\n    return StatusBarUI({\n      error,\n      uploadState: getUploadingState(error, isAllComplete, recoveredState, state.files || {}),\n      allowNewUpload,\n      totalProgress,\n      totalSize,\n      totalUploadedSize,\n      isAllComplete: false,\n      isAllPaused,\n      isUploadStarted,\n      isUploadInProgress,\n      isSomeGhost,\n      recoveredState,\n      complete: completeFiles.length,\n      newFiles: newFilesOrRecovered.length,\n      numUploads: startedFiles.length,\n      totalETA,\n      files,\n      i18n: this.i18n,\n      uppy: this.uppy,\n      startUpload: this.startUpload,\n      doneButtonHandler: this.opts.doneButtonHandler,\n      resumableUploads,\n      supportsUploadProgress,\n      showProgressDetails: this.opts.showProgressDetails,\n      hideUploadButton: this.opts.hideUploadButton,\n      hideRetryButton: this.opts.hideRetryButton,\n      hidePauseResumeButton: this.opts.hidePauseResumeButton,\n      hideCancelButton: this.opts.hideCancelButton,\n      hideAfterFinish: this.opts.hideAfterFinish\n    });\n  }\n  onMount() {\n    // Set the text direction if the page has not defined one.\n    const element = this.el;\n    const direction = getTextDirection(element);\n    if (!direction) {\n      element.dir = 'ltr';\n    }\n  }\n  install() {\n    const {\n      target\n    } = this.opts;\n    if (target) {\n      this.mount(target, this);\n    }\n    this.uppy.on('upload', _classPrivateFieldLooseBase(this, _onUploadStart)[_onUploadStart]);\n\n    // To cover the use case where the status bar is installed while the upload\n    // has started, we set `lastUpdateTime` right away.\n    _classPrivateFieldLooseBase(this, _lastUpdateTime)[_lastUpdateTime] = performance.now();\n    _classPrivateFieldLooseBase(this, _previousUploadedBytes)[_previousUploadedBytes] = this.uppy.getFiles().reduce((pv, file) => pv + file.progress.bytesUploaded, 0);\n  }\n  uninstall() {\n    this.unmount();\n    this.uppy.off('upload', _classPrivateFieldLooseBase(this, _onUploadStart)[_onUploadStart]);\n  }\n}\nfunction _computeSmoothETA2(totalBytes) {\n  var _classPrivateFieldLoo, _classPrivateFieldLoo2;\n  if (totalBytes.total == null || totalBytes.total === 0) {\n    return null;\n  }\n  const remaining = totalBytes.total - totalBytes.uploaded;\n  if (remaining <= 0) {\n    return null;\n  }\n\n  // When state is restored, lastUpdateTime is still nullish at this point.\n  (_classPrivateFieldLoo2 = (_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _lastUpdateTime))[_lastUpdateTime]) != null ? _classPrivateFieldLoo2 : _classPrivateFieldLoo[_lastUpdateTime] = performance.now();\n  const dt = performance.now() - _classPrivateFieldLooseBase(this, _lastUpdateTime)[_lastUpdateTime];\n  if (dt === 0) {\n    var _classPrivateFieldLoo3;\n    return Math.round(((_classPrivateFieldLoo3 = _classPrivateFieldLooseBase(this, _previousETA)[_previousETA]) != null ? _classPrivateFieldLoo3 : 0) / 100) / 10;\n  }\n  const uploadedBytesSinceLastTick = totalBytes.uploaded - _classPrivateFieldLooseBase(this, _previousUploadedBytes)[_previousUploadedBytes];\n  _classPrivateFieldLooseBase(this, _previousUploadedBytes)[_previousUploadedBytes] = totalBytes.uploaded;\n\n  // uploadedBytesSinceLastTick can be negative in some cases (packet loss?)\n  // in which case, we wait for next tick to update ETA.\n  if (uploadedBytesSinceLastTick <= 0) {\n    var _classPrivateFieldLoo4;\n    return Math.round(((_classPrivateFieldLoo4 = _classPrivateFieldLooseBase(this, _previousETA)[_previousETA]) != null ? _classPrivateFieldLoo4 : 0) / 100) / 10;\n  }\n  const currentSpeed = uploadedBytesSinceLastTick / dt;\n  const filteredSpeed = _classPrivateFieldLooseBase(this, _previousSpeed)[_previousSpeed] == null ? currentSpeed : emaFilter(currentSpeed, _classPrivateFieldLooseBase(this, _previousSpeed)[_previousSpeed], speedFilterHalfLife, dt);\n  _classPrivateFieldLooseBase(this, _previousSpeed)[_previousSpeed] = filteredSpeed;\n  const instantETA = remaining / filteredSpeed;\n  const updatedPreviousETA = Math.max(_classPrivateFieldLooseBase(this, _previousETA)[_previousETA] - dt, 0);\n  const filteredETA = _classPrivateFieldLooseBase(this, _previousETA)[_previousETA] == null ? instantETA : emaFilter(instantETA, updatedPreviousETA, ETAFilterHalfLife, dt);\n  _classPrivateFieldLooseBase(this, _previousETA)[_previousETA] = filteredETA;\n  _classPrivateFieldLooseBase(this, _lastUpdateTime)[_lastUpdateTime] = performance.now();\n  return Math.round(filteredETA / 100) / 10;\n}\nStatusBar.VERSION = packageJson.version;", "import { h, Component, createRef } from 'preact';\nconst TRANSITION_MS = 300;\nexport default class FadeIn extends Component {\n  constructor() {\n    super(...arguments);\n    this.ref = createRef();\n  }\n  componentWillEnter(callback) {\n    this.ref.current.style.opacity = '1';\n    this.ref.current.style.transform = 'none';\n    setTimeout(callback, TRANSITION_MS);\n  }\n  componentWillLeave(callback) {\n    this.ref.current.style.opacity = '0';\n    this.ref.current.style.transform = 'translateY(350%)';\n    setTimeout(callback, TRANSITION_MS);\n  }\n  render() {\n    const {\n      children\n    } = this.props;\n    return h(\"div\", {\n      className: \"uppy-Informer-animated\",\n      ref: this.ref\n    }, children);\n  }\n}", "// INFO: not typing copy pasted libarary code\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n/* eslint-disable */\n/**\n * @source https://github.com/developit/preact-transition-group\n */\n\nimport { Component, cloneElement, h, toChildArray } from 'preact';\nfunction assign(obj, props) {\n  return Object.assign(obj, props);\n}\nfunction getKey(vnode, fallback) {\n  var _vnode$key;\n  return (_vnode$key = vnode == null ? void 0 : vnode.key) != null ? _vnode$key : fallback;\n}\nfunction linkRef(component, name) {\n  const cache = component._ptgLinkedRefs || (component._ptgLinkedRefs = {});\n  return cache[name] || (cache[name] = c => {\n    component.refs[name] = c;\n  });\n}\nfunction getChildMapping(children) {\n  const out = {};\n  for (let i = 0; i < children.length; i++) {\n    if (children[i] != null) {\n      const key = getKey(children[i], i.toString(36));\n      out[key] = children[i];\n    }\n  }\n  return out;\n}\nfunction mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n  const getValueForKey = key => next.hasOwnProperty(key) ? next[key] : prev[key];\n\n  // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n  const nextKeysPending = {};\n  let pendingKeys = [];\n  for (const prevKey in prev) {\n    if (next.hasOwnProperty(prevKey)) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n  const childMapping = {};\n  for (const nextKey in next) {\n    if (nextKeysPending.hasOwnProperty(nextKey)) {\n      for (let i = 0; i < nextKeysPending[nextKey].length; i++) {\n        const pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n    childMapping[nextKey] = getValueForKey(nextKey);\n  }\n\n  // Finally, add the keys which didn't appear before any key in `next`\n  for (let i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n  return childMapping;\n}\nconst identity = i => i;\nclass TransitionGroup extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.refs = {};\n    this.state = {\n      children: getChildMapping(toChildArray(toChildArray(this.props.children)) || [])\n    };\n    this.performAppear = this.performAppear.bind(this);\n    this.performEnter = this.performEnter.bind(this);\n    this.performLeave = this.performLeave.bind(this);\n  }\n  componentWillMount() {\n    this.currentlyTransitioningKeys = {};\n    this.keysToAbortLeave = [];\n    this.keysToEnter = [];\n    this.keysToLeave = [];\n  }\n  componentDidMount() {\n    const initialChildMapping = this.state.children;\n    for (const key in initialChildMapping) {\n      if (initialChildMapping[key]) {\n        // this.performAppear(getKey(initialChildMapping[key], key));\n        this.performAppear(key);\n      }\n    }\n  }\n  componentWillReceiveProps(nextProps) {\n    const nextChildMapping = getChildMapping(toChildArray(nextProps.children) || []);\n    const prevChildMapping = this.state.children;\n    this.setState(prevState => ({\n      children: mergeChildMappings(prevState.children, nextChildMapping)\n    }));\n    let key;\n    for (key in nextChildMapping) {\n      if (nextChildMapping.hasOwnProperty(key)) {\n        const hasPrev = prevChildMapping && prevChildMapping.hasOwnProperty(key);\n        // We should re-enter the component and abort its leave function\n        if (nextChildMapping[key] && hasPrev && this.currentlyTransitioningKeys[key]) {\n          this.keysToEnter.push(key);\n          this.keysToAbortLeave.push(key);\n        } else if (nextChildMapping[key] && !hasPrev && !this.currentlyTransitioningKeys[key]) {\n          this.keysToEnter.push(key);\n        }\n      }\n    }\n    for (key in prevChildMapping) {\n      if (prevChildMapping.hasOwnProperty(key)) {\n        const hasNext = nextChildMapping && nextChildMapping.hasOwnProperty(key);\n        if (prevChildMapping[key] && !hasNext && !this.currentlyTransitioningKeys[key]) {\n          this.keysToLeave.push(key);\n        }\n      }\n    }\n  }\n  componentDidUpdate() {\n    const {\n      keysToEnter\n    } = this;\n    this.keysToEnter = [];\n    keysToEnter.forEach(this.performEnter);\n    const {\n      keysToLeave\n    } = this;\n    this.keysToLeave = [];\n    keysToLeave.forEach(this.performLeave);\n  }\n  _finishAbort(key) {\n    const idx = this.keysToAbortLeave.indexOf(key);\n    if (idx !== -1) {\n      this.keysToAbortLeave.splice(idx, 1);\n    }\n  }\n  performAppear(key) {\n    this.currentlyTransitioningKeys[key] = true;\n    const component = this.refs[key];\n    if (component != null && component.componentWillAppear) {\n      component.componentWillAppear(this._handleDoneAppearing.bind(this, key));\n    } else {\n      this._handleDoneAppearing(key);\n    }\n  }\n  _handleDoneAppearing(key) {\n    const component = this.refs[key];\n    if (component != null && component.componentDidAppear) {\n      component.componentDidAppear();\n    }\n    delete this.currentlyTransitioningKeys[key];\n    this._finishAbort(key);\n    const currentChildMapping = getChildMapping(toChildArray(this.props.children) || []);\n    if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {\n      // This was removed before it had fully appeared. Remove it.\n      this.performLeave(key);\n    }\n  }\n  performEnter(key) {\n    this.currentlyTransitioningKeys[key] = true;\n    const component = this.refs[key];\n    if (component != null && component.componentWillEnter) {\n      component.componentWillEnter(this._handleDoneEntering.bind(this, key));\n    } else {\n      this._handleDoneEntering(key);\n    }\n  }\n  _handleDoneEntering(key) {\n    const component = this.refs[key];\n    if (component != null && component.componentDidEnter) {\n      component.componentDidEnter();\n    }\n    delete this.currentlyTransitioningKeys[key];\n    this._finishAbort(key);\n    const currentChildMapping = getChildMapping(toChildArray(this.props.children) || []);\n    if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {\n      // This was removed before it had fully entered. Remove it.\n      this.performLeave(key);\n    }\n  }\n  performLeave(key) {\n    // If we should immediately abort this leave function,\n    // don't run the leave transition at all.\n    const idx = this.keysToAbortLeave.indexOf(key);\n    if (idx !== -1) {\n      return;\n    }\n    this.currentlyTransitioningKeys[key] = true;\n    const component = this.refs[key];\n    if (component != null && component.componentWillLeave) {\n      component.componentWillLeave(this._handleDoneLeaving.bind(this, key));\n    } else {\n      // Note that this is somewhat dangerous b/c it calls setState()\n      // again, effectively mutating the component before all the work\n      // is done.\n      this._handleDoneLeaving(key);\n    }\n  }\n  _handleDoneLeaving(key) {\n    // If we should immediately abort the leave,\n    // then skip this altogether\n    const idx = this.keysToAbortLeave.indexOf(key);\n    if (idx !== -1) {\n      return;\n    }\n    const component = this.refs[key];\n    if (component != null && component.componentDidLeave) {\n      component.componentDidLeave();\n    }\n    delete this.currentlyTransitioningKeys[key];\n    const currentChildMapping = getChildMapping(toChildArray(this.props.children) || []);\n    if (currentChildMapping && currentChildMapping.hasOwnProperty(key)) {\n      // This entered again before it fully left. Add it again.\n      this.performEnter(key);\n    } else {\n      const children = assign({}, this.state.children);\n      delete children[key];\n      this.setState({\n        children\n      });\n    }\n  }\n  render(_ref, _ref2) {\n    let {\n      childFactory,\n      transitionLeave,\n      transitionName,\n      transitionAppear,\n      transitionEnter,\n      transitionLeaveTimeout,\n      transitionEnterTimeout,\n      transitionAppearTimeout,\n      component,\n      ...props\n    } = _ref;\n    let {\n      children\n    } = _ref2;\n    // TODO: we could get rid of the need for the wrapper node\n    // by cloning a single child\n    const childrenToRender = Object.entries(children).map(_ref3 => {\n      let [key, child] = _ref3;\n      if (!child) return undefined;\n      const ref = linkRef(this, key);\n      return cloneElement(childFactory(child), {\n        ref,\n        key\n      });\n    }).filter(Boolean);\n    return h(component, props, childrenToRender);\n  }\n}\nTransitionGroup.defaultProps = {\n  component: 'span',\n  childFactory: identity\n};\nexport default TransitionGroup;", "/* eslint-disable jsx-a11y/no-noninteractive-element-interactions  */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport { h } from 'preact';\nimport { UIPlugin } from '@uppy/core';\nimport FadeIn from \"./FadeIn.js\";\nimport TransitionGroup from './TransitionGroup.js';\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.2.1\"\n};\n/**\n * Informer\n * Shows rad message bubbles\n * used like this: `uppy.info('hello world', 'info', 5000)`\n * or for errors: `uppy.info('Error uploading img.jpg', 'error', 5000)`\n *\n */\nexport default class Informer extends UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n    this.render = state => {\n      return h(\"div\", {\n        className: \"uppy uppy-Informer\"\n      }, h(TransitionGroup, null, state.info.map(info => h(FadeIn, {\n        key: info.message\n      }, h(\"p\", {\n        role: \"alert\"\n      }, info.message, ' ', info.details && h(\"span\", {\n        \"aria-label\": info.details,\n        \"data-microtip-position\": \"top-left\",\n        \"data-microtip-size\": \"medium\",\n        role: \"tooltip\",\n        onClick: () =>\n        // eslint-disable-next-line no-alert\n        alert(`${info.message} \\n\\n ${info.details}`)\n      }, \"?\"))))));\n    };\n    this.type = 'progressindicator';\n    this.id = this.opts.id || 'Informer';\n    this.title = 'Informer';\n  }\n  install() {\n    const {\n      target\n    } = this.opts;\n    if (target) {\n      this.mount(target, this);\n    }\n  }\n}\nInformer.VERSION = packageJson.version;", "const DATA_URL_PATTERN = /^data:([^/]+\\/[^,;]+(?:[^,]*?))(;base64)?,([\\s\\S]*)$/;\nfunction dataURItoBlob(dataURI, opts, toFile) {\n  var _ref, _opts$mimeType;\n  // get the base64 data\n  const dataURIData = DATA_URL_PATTERN.exec(dataURI);\n\n  // user may provide mime type, if not get it from data URI\n  const mimeType = (_ref = (_opts$mimeType = opts.mimeType) != null ? _opts$mimeType : dataURIData == null ? void 0 : dataURIData[1]) != null ? _ref : 'plain/text';\n  let data; // We add `!` to tell TS we're OK with `data` being not defined when the dataURI is invalid.\n  if ((dataURIData == null ? void 0 : dataURIData[2]) != null) {\n    const binary = atob(decodeURIComponent(dataURIData[3]));\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n      bytes[i] = binary.charCodeAt(i);\n    }\n    data = [bytes];\n  } else if ((dataURIData == null ? void 0 : dataURIData[3]) != null) {\n    data = [decodeURIComponent(dataURIData[3])];\n  }\n\n  // Convert to a File?\n  if (toFile) {\n    return new File(data, opts.name || '', {\n      type: mimeType\n    });\n  }\n  return new Blob(data, {\n    type: mimeType\n  });\n}\nexport default dataURItoBlob;", "/**\n * Check if a URL string is an object URL from `URL.createObjectURL`.\n */\nexport default function isObjectURL(url) {\n  return url.startsWith('blob:');\n}", "export default function isPreviewSupported(fileType) {\n  if (!fileType) return false;\n  // list of images that browsers can preview\n  return /^[^/]+\\/(jpe?g|gif|png|svg|svg\\+xml|bmp|webp|avif)$/.test(fileType);\n}", "function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var t=\"undefined\"!=typeof self?self:global;const s=\"undefined\"!=typeof navigator,i=s&&\"undefined\"==typeof HTMLImageElement,n=!(\"undefined\"==typeof global||\"undefined\"==typeof process||!process.versions||!process.versions.node),r=t.Buffer,a=!!r,h=e=>void 0!==e;function f(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(h).length)}function l(e){let t=new Error(e);throw delete t.stack,t}function o(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const u=e=>String.fromCharCode.apply(null,e),d=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf-8\"):void 0;class c{static from(e,t){return e instanceof this&&e.le===t?e:new c(e,void 0,void 0,t)}constructor(e,t=0,s,i){if(\"boolean\"==typeof i&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===s&&(s=e.byteLength-t);let i=new DataView(e,t,s);this._swapDataView(i)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof c){void 0===s&&(s=e.byteLength-t),(t+=e.byteOffset)+s>e.byteOffset+e.byteLength&&l(\"Creating view outside of available memory in ArrayBuffer\");let i=new DataView(e.buffer,t,s);this._swapDataView(i)}else if(\"number\"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else l(\"Invalid input argument for BufferView: \"+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,s=c){return e instanceof DataView||e instanceof c?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||l(\"BufferView.set(): Invalid data argument.\"),this.toUint8().set(e,t),new s(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new c(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){let s=this.getUint8Array(e,t);return i=s,d?d.decode(i):a?Buffer.from(i).toString(\"utf8\"):decodeURIComponent(escape(u(i)));var i}getLatin1String(e=0,t=this.byteLength){let s=this.getUint8Array(e,t);return u(s)}getUnicodeString(e=0,t=this.byteLength){const s=[];for(let i=0;i<t&&e+i<this.byteLength;i+=2)s.push(this.getUint16(e+i));return u(s)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,s){switch(t){case 1:return this.getUint8(e,s);case 2:return this.getUint16(e,s);case 4:return this.getUint32(e,s);case 8:return this.getUint64&&this.getUint64(e,s)}}getUint(e,t,s){switch(t){case 8:return this.getUint8(e,s);case 16:return this.getUint16(e,s);case 32:return this.getUint32(e,s);case 64:return this.getUint64&&this.getUint64(e,s)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function p(e,t){l(`${e} '${t}' was not loaded, try using full build of exifr.`)}class g extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||p(this.kind,e),t&&(e in t||function(e,t){l(`Unknown ${e} '${t}'.`)}(this.kind,e),t[e].enabled||p(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var m=new g(\"file parser\"),y=new g(\"segment parser\"),b=new g(\"file reader\");let w=t.fetch;function k(e,t){return(i=e).startsWith(\"data:\")||i.length>1e4?v(e,t,\"base64\"):n&&e.includes(\"://\")?O(e,t,\"url\",S):n?v(e,t,\"fs\"):s?O(e,t,\"url\",S):void l(\"Invalid input argument\");var i}async function O(e,t,s,i){return b.has(s)?v(e,t,s):i?async function(e,t){let s=await t(e);return new c(s)}(e,i):void l(`Parser ${s} is not loaded`)}async function v(e,t,s){let i=new(b.get(s))(e,t);return await i.read(),i}const S=e=>w(e).then((e=>e.arrayBuffer())),A=e=>new Promise(((t,s)=>{let i=new FileReader;i.onloadend=()=>t(i.result||new ArrayBuffer),i.onerror=s,i.readAsArrayBuffer(e)}));class U extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function x(e,t,s){let i=new U;for(let[e,t]of s)i.set(e,t);if(Array.isArray(t))for(let s of t)e.set(s,i);else e.set(t,i);return i}function C(e,t,s){let i,n=e.get(t);for(i of s)n.set(i[0],i[1])}const B=new Map,V=new Map,I=new Map,L=[\"chunked\",\"firstChunkSize\",\"firstChunkSizeNode\",\"firstChunkSizeBrowser\",\"chunkSize\",\"chunkLimit\"],T=[\"jfif\",\"xmp\",\"icc\",\"iptc\",\"ihdr\"],z=[\"tiff\",...T],P=[\"ifd0\",\"ifd1\",\"exif\",\"gps\",\"interop\"],F=[...z,...P],j=[\"makerNote\",\"userComment\"],E=[\"translateKeys\",\"translateValues\",\"reviveValues\",\"multiSegment\"],M=[...E,\"sanitize\",\"mergeOutput\",\"silentErrors\"];class _{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class D extends _{get needed(){return this.enabled||this.deps.size>0}constructor(t,s,i,n){if(super(),e(this,\"enabled\",!1),e(this,\"skip\",new Set),e(this,\"pick\",new Set),e(this,\"deps\",new Set),e(this,\"translateKeys\",!1),e(this,\"translateValues\",!1),e(this,\"reviveValues\",!1),this.key=t,this.enabled=s,this.parse=this.enabled,this.applyInheritables(n),this.canBeFiltered=P.includes(t),this.canBeFiltered&&(this.dict=B.get(t)),void 0!==i)if(Array.isArray(i))this.parse=this.enabled=!0,this.canBeFiltered&&i.length>0&&this.translateTagSet(i,this.pick);else if(\"object\"==typeof i){if(this.enabled=!0,this.parse=!1!==i.parse,this.canBeFiltered){let{pick:e,skip:t}=i;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(i)}else!0===i||!1===i?this.parse=this.enabled=i:l(`Invalid options argument: ${i}`)}applyInheritables(e){let t,s;for(t of E)s=e[t],void 0!==s&&(this[t]=s)}translateTagSet(e,t){if(this.dict){let s,i,{tagKeys:n,tagValues:r}=this.dict;for(s of e)\"string\"==typeof s?(i=r.indexOf(s),-1===i&&(i=n.indexOf(Number(s))),-1!==i&&t.add(Number(n[i]))):t.add(s)}else for(let s of e)t.add(s)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,X(this.pick,this.deps)):this.enabled&&this.pick.size>0&&X(this.pick,this.deps)}}var N={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},$=new Map;class R extends _{static useCached(e){let t=$.get(e);return void 0!==t||(t=new this(e),$.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):\"object\"==typeof e?this.setupFromObject(e):l(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=s?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of L)this[e]=N[e];for(e of M)this[e]=N[e];for(e of j)this[e]=N[e];for(e of F)this[e]=new D(e,N[e],void 0,this)}setupFromTrue(){let e;for(e of L)this[e]=N[e];for(e of M)this[e]=N[e];for(e of j)this[e]=!0;for(e of F)this[e]=new D(e,!0,void 0,this)}setupFromArray(e){let t;for(t of L)this[t]=N[t];for(t of M)this[t]=N[t];for(t of j)this[t]=N[t];for(t of F)this[t]=new D(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,P)}setupFromObject(e){let t;for(t of(P.ifd0=P.ifd0||P.image,P.ifd1=P.ifd1||P.thumbnail,Object.assign(this,e),L))this[t]=W(e[t],N[t]);for(t of M)this[t]=W(e[t],N[t]);for(t of j)this[t]=W(e[t],N[t]);for(t of z)this[t]=new D(t,N[t],e[t],this);for(t of P)this[t]=new D(t,N[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,P,F),!0===e.tiff?this.batchEnableWithBool(P,!0):!1===e.tiff?this.batchEnableWithUserValue(P,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,P):\"object\"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,P)}batchEnableWithBool(e,t){for(let s of e)this[s].enabled=t}batchEnableWithUserValue(e,t){for(let s of e){let e=t[s];this[s].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,s,i=s){if(e&&e.length){for(let e of i)this[e].enabled=!1;let t=K(e,s);for(let[e,s]of t)X(this[e].pick,s),this[e].enabled=!0}else if(t&&t.length){let e=K(t,s);for(let[t,s]of e)X(this[t].skip,s)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:s,iptc:i,icc:n}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),s.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),n.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:s,interop:i}=this;i.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),s.needed&&e.deps.add(34853),this.tiff.enabled=P.some((e=>!0===this[e].enabled))||this.makerNote||this.userComment;for(let e of P)this[e].finalizeFilters()}get onlyTiff(){return!T.map((e=>this[e].enabled)).some((e=>!0===e))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of z)this[e].enabled&&!y.has(e)&&p(\"segment parser\",e)}}function K(e,t){let s,i,n,r,a=[];for(n of t){for(r of(s=B.get(n),i=[],s))(e.includes(r[0])||e.includes(r[1]))&&i.push(r[0]);i.length&&a.push([n,i])}return a}function W(e,t){return void 0!==e?e:void 0!==t?t:void 0}function X(e,t){for(let s of t)e.add(s)}e(R,\"default\",N);class H{constructor(t){e(this,\"parsers\",{}),e(this,\"output\",{}),e(this,\"errors\",[]),e(this,\"pushToErrors\",(e=>this.errors.push(e))),this.options=R.useCached(t)}async read(e){this.file=await function(e,t){return\"string\"==typeof e?k(e,t):s&&!i&&e instanceof HTMLImageElement?k(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new c(e):s&&e instanceof Blob?O(e,t,\"blob\",A):void l(\"Invalid input argument\")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[s,i]of m)if(i.canHandle(e,t))return this.fileParser=new i(this.options,this.file,this.parsers),e[s]=!0;this.file.close&&this.file.close(),l(\"Unknown file format\")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),f(s=e)?void 0:s;var s}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async t=>{let s=await t.parse();t.assignToOutput(e,s)}));this.options.silentErrors&&(t=t.map((e=>e.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,s=y.get(\"tiff\",e);var i;if(t.tiff?i={start:0,type:\"tiff\"}:t.jpeg&&(i=await this.fileParser.getOrFindSegment(\"tiff\")),void 0===i)return;let n=await this.fileParser.ensureSegmentChunk(i),r=this.parsers.tiff=new s(n,e,t),a=await r.extractThumbnail();return t.close&&t.close(),a}}async function Y(e,t){let s=new H(t);return await s.read(e),s.parse()}var G=Object.freeze({__proto__:null,parse:Y,Exifr:H,fileParsers:m,segmentParsers:y,fileReaders:b,tagKeys:B,tagValues:V,tagRevivers:I,createDictionary:x,extendDictionary:C,fetchUrlAsArrayBuffer:S,readBlobAsArrayBuffer:A,chunkedProps:L,otherSegments:T,segments:z,tiffBlocks:P,segmentsAndBlocks:F,tiffExtractables:j,inheritables:E,allFormatters:M,Options:R});class J{static findPosition(e,t){let s=e.getUint16(t+2)+2,i=\"function\"==typeof this.headerLength?this.headerLength(e,t,s):this.headerLength,n=t+i,r=s-i;return{offset:t,length:s,headerLength:i,start:n,size:r,end:n+r}}static parse(e,t={}){return new this(e,new R({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof c?e:new c(e)}constructor(t,s={},i){e(this,\"errors\",[]),e(this,\"raw\",new Map),e(this,\"handleError\",(e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)})),this.chunk=this.normalizeInput(t),this.file=i,this.type=this.constructor.type,this.globalOptions=this.options=s,this.localOptions=s[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let s=I.get(t),i=V.get(t),n=B.get(t),r=this.options[t],a=r.reviveValues&&!!s,h=r.translateValues&&!!i,f=r.translateKeys&&!!n,l={};for(let[t,r]of e)a&&s.has(t)?r=s.get(t)(r):h&&i.has(t)&&(r=this.translateValue(r,i.get(t))),f&&n.has(t)&&(t=n.get(t)||t),l[t]=r;return l}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,s){if(this.globalOptions.mergeOutput)return Object.assign(e,s);e[t]?Object.assign(e[t],s):e[t]=s}}e(J,\"headerLength\",4),e(J,\"type\",void 0),e(J,\"multiSegment\",!1),e(J,\"canHandle\",(()=>!1));function q(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function Q(e){return e>=224&&e<=239}function Z(e,t,s){for(let[i,n]of y)if(n.canHandle(e,t,s))return i}class ee extends class{constructor(t,s,i){e(this,\"errors\",[]),e(this,\"ensureSegmentChunk\",(async e=>{let t=e.start,s=e.size||65536;if(this.file.chunked)if(this.file.available(t,s))e.chunk=this.file.subarray(t,s);else try{e.chunk=await this.file.readChunk(t,s)}catch(t){l(`Couldn't read segment: ${JSON.stringify(e)}. ${t.message}`)}else this.file.byteLength>t+s?e.chunk=this.file.subarray(t,s):void 0===e.size?e.chunk=this.file.subarray(t):l(\"Segment unreachable: \"+JSON.stringify(e));return e.chunk})),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=s,this.parsers=i}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let s=new(y.get(e))(t,this.options,this.file);return this.parsers[e]=s}createParsers(e){for(let t of e){let{type:e,chunk:s}=t,i=this.options[e];if(i&&i.enabled){let t=this.parsers[e];t&&t.append||t||this.createParser(e,s)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}{constructor(...t){super(...t),e(this,\"appSegments\",[]),e(this,\"jpegSegments\",[]),e(this,\"unknownSegments\",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(y.keyList())):(e=void 0===e?y.keyList().filter((e=>this.options[e].enabled)):e.filter((e=>this.options[e].enabled&&y.has(e))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:s,findAll:i,wanted:n,remaining:r}=this;if(!i&&this.file.chunked&&(i=Array.from(n).some((e=>{let t=y.get(e),s=this.options[e];return t.multiSegment&&s.multiSegment})),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,s.byteLength),!this.options.onlyTiff&&s.chunked){let t=!1;for(;r.size>0&&!t&&(s.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:i}=s,n=this.appSegments.some((e=>!this.file.available(e.offset||e.start,e.length||e.size)));if(t=e>i&&!n?!await s.readNextChunk(e):!await s.readNextChunk(i),void 0===(e=this.findAppSegmentsInRange(e,s.byteLength)))return}}}findAppSegmentsInRange(e,t){t-=2;let s,i,n,r,a,h,{file:f,findAll:l,wanted:o,remaining:u,options:d}=this;for(;e<t;e++)if(255===f.getUint8(e))if(s=f.getUint8(e+1),Q(s)){if(i=f.getUint16(e+2),n=Z(f,e,i),n&&o.has(n)&&(r=y.get(n),a=r.findPosition(f,e),h=d[n],a.type=n,this.appSegments.push(a),!l&&(r.multiSegment&&h.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||u.delete(n)):u.delete(n),0===u.size)))break;d.recordUnknownSegments&&(a=J.findPosition(f,e),a.marker=s,this.unknownSegments.push(a)),e+=i+1}else if(q(s)){if(i=f.getUint16(e+2),218===s&&!1!==d.stopAfterSos)return;d.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:s}),e+=i+1}return e}mergeMultiSegments(){if(!this.appSegments.some((e=>e.multiSegment)))return;let e=function(e,t){let s,i,n,r=new Map;for(let a=0;a<e.length;a++)s=e[a],i=s[t],r.has(i)?n=r.get(i):r.set(i,n=[]),n.push(s);return Array.from(r)}(this.appSegments,\"type\");this.mergedAppSegments=e.map((([e,t])=>{let s=y.get(e,this.options);if(s.handleMultiSegments){return{type:e,chunk:s.handleMultiSegments(t)}}return t[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}e(ee,\"type\",\"jpeg\"),m.set(\"jpeg\",ee);const te=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class se extends J{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,s=new Map){let{pick:i,skip:n}=this.options[t];i=new Set(i);let r=i.size>0,a=0===n.size,h=this.chunk.getUint16(e);e+=2;for(let f=0;f<h;f++){let h=this.chunk.getUint16(e);if(r){if(i.has(h)&&(s.set(h,this.parseTag(e,h,t)),i.delete(h),0===i.size))break}else!a&&n.has(h)||s.set(h,this.parseTag(e,h,t));e+=12}return s}parseTag(e,t,s){let{chunk:i}=this,n=i.getUint16(e+2),r=i.getUint32(e+4),a=te[n];if(a*r<=4?e+=8:e=i.getUint32(e+8),(n<1||n>13)&&l(`Invalid TIFF value type. block: ${s.toUpperCase()}, tag: ${t.toString(16)}, type: ${n}, offset ${e}`),e>i.byteLength&&l(`Invalid TIFF value offset. block: ${s.toUpperCase()}, tag: ${t.toString(16)}, type: ${n}, offset ${e} is outside of chunk size ${i.byteLength}`),1===n)return i.getUint8Array(e,r);if(2===n)return\"\"===(h=function(e){for(;e.endsWith(\"\\0\");)e=e.slice(0,-1);return e}(h=i.getString(e,r)).trim())?void 0:h;var h;if(7===n)return i.getUint8Array(e,r);if(1===r)return this.parseTagValue(n,e);{let t=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(n))(r),s=a;for(let i=0;i<r;i++)t[i]=this.parseTagValue(n,e),e+=s;return t}}parseTagValue(e,t){let{chunk:s}=this;switch(e){case 1:return s.getUint8(t);case 3:return s.getUint16(t);case 4:return s.getUint32(t);case 5:return s.getUint32(t)/s.getUint32(t+4);case 6:return s.getInt8(t);case 8:return s.getInt16(t);case 9:return s.getInt32(t);case 10:return s.getInt32(t)/s.getInt32(t+4);case 11:return s.getFloat(t);case 12:return s.getDouble(t);case 13:return s.getUint32(t);default:l(`Invalid tiff type ${e}`)}}}class ie extends se{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse(\"parseExifBlock\"),e.gps.enabled&&await this.safeParse(\"parseGpsBlock\"),e.interop.enabled&&await this.safeParse(\"parseInteropBlock\"),e.ifd1.enabled&&await this.safeParse(\"parseThumbnailBlock\"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let s=new Map;return this[t]=s,this.parseTags(e,t,s),s}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&l(\"Malformed EXIF data\"),!e.chunked&&this.ifd0Offset>e.byteLength&&l(`IFD0 offset points to outside of file.\\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,o(this.options));let t=this.parseBlock(this.ifd0Offset,\"ifd0\");return 0!==t.size?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,o(this.options));let e=this.parseBlock(this.exifOffset,\"exif\");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let s=e.get(t);s&&1===s.length&&e.set(t,s[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let e=this.parseBlock(this.gpsOffset,\"gps\");return e&&e.has(2)&&e.has(4)&&(e.set(\"latitude\",ne(...e.get(2),e.get(1))),e.set(\"longitude\",ne(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,\"interop\")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,\"ifd1\"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,s,i={};for(t of P)if(e=this[t],!f(e))if(s=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if(\"ifd1\"===t)continue;Object.assign(i,s)}else i[t]=s;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[s,i]of Object.entries(t))this.assignObjectToOutput(e,s,i)}}function ne(e,t,s,i){var n=e+t/60+s/3600;return\"S\"!==i&&\"W\"!==i||(n*=-1),n}e(ie,\"type\",\"tiff\"),e(ie,\"headerLength\",10),y.set(\"tiff\",ie);var re=Object.freeze({__proto__:null,default:G,Exifr:H,fileParsers:m,segmentParsers:y,fileReaders:b,tagKeys:B,tagValues:V,tagRevivers:I,createDictionary:x,extendDictionary:C,fetchUrlAsArrayBuffer:S,readBlobAsArrayBuffer:A,chunkedProps:L,otherSegments:T,segments:z,tiffBlocks:P,segmentsAndBlocks:F,tiffExtractables:j,inheritables:E,allFormatters:M,Options:R,parse:Y});const ae={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},he=Object.assign({},ae,{firstChunkSize:4e4,gps:[1,2,3,4]});async function fe(e){let t=new H(he);await t.read(e);let s=await t.parse();if(s&&s.gps){let{latitude:e,longitude:t}=s.gps;return{latitude:e,longitude:t}}}const le=Object.assign({},ae,{tiff:!1,ifd1:!0,mergeOutput:!1});async function oe(e){let t=new H(le);await t.read(e);let s=await t.extractThumbnail();return s&&a?r.from(s):s}async function ue(e){let t=await this.thumbnail(e);if(void 0!==t){let e=new Blob([t]);return URL.createObjectURL(e)}}const de=Object.assign({},ae,{firstChunkSize:4e4,ifd0:[274]});async function ce(e){let t=new H(de);await t.read(e);let s=await t.parse();if(s&&s.ifd0)return s.ifd0[274]}const pe=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let ge=!0,me=!0;if(\"object\"==typeof navigator){let e=navigator.userAgent;if(e.includes(\"iPad\")||e.includes(\"iPhone\")){let t=e.match(/OS (\\d+)_(\\d+)/);if(t){let[,e,s]=t,i=Number(e)+.1*Number(s);ge=i<13.4,me=!1}}else if(e.includes(\"OS X 10\")){let[,t]=e.match(/OS X 10[_.](\\d+)/);ge=me=Number(t)<15}if(e.includes(\"Chrome/\")){let[,t]=e.match(/Chrome\\/(\\d+)/);ge=me=Number(t)<81}else if(e.includes(\"Firefox/\")){let[,t]=e.match(/Firefox\\/(\\d+)/);ge=me=Number(t)<77}}async function ye(e){let t=await ce(e);return Object.assign({canvas:ge,css:me},pe[t])}class be extends c{constructor(...t){super(...t),e(this,\"ranges\",new we),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,s){if(0===e&&0===this.byteLength&&s){let e=new DataView(s.buffer||s,s.byteOffset,s.byteLength);this._swapDataView(e)}else{let s=e+t;if(s>this.byteLength){let{dataView:e}=this._extend(s);this._swapDataView(e)}}}_extend(e){let t;t=a?r.allocUnsafe(e):new Uint8Array(e);let s=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:s}}subarray(e,t,s=!1){return t=t||this._lengthToEnd(e),s&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,s=!1){s&&this._tryExtend(t,e.byteLength,e);let i=super.set(e,t);return this.ranges.add(t,i.byteLength),i}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class we{constructor(){e(this,\"list\",[])}get length(){return this.list.length}add(e,t,s=0){let i=e+t,n=this.list.filter((t=>ke(e,t.offset,i)||ke(e,t.end,i)));if(n.length>0){e=Math.min(e,...n.map((e=>e.offset))),i=Math.max(i,...n.map((e=>e.end))),t=i-e;let s=n.shift();s.offset=e,s.length=t,s.end=i,this.list=this.list.filter((e=>!n.includes(e)))}else this.list.push({offset:e,length:t,end:i})}available(e,t){let s=e+t;return this.list.some((t=>t.offset<=e&&s<=t.end))}}function ke(e,t,s){return e<=t&&t<=s}class Oe extends be{constructor(t,s){super(0),e(this,\"chunksRead\",0),this.input=t,this.options=s}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,s=await this.readChunk(e,t);return!!s&&s.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}b.set(\"blob\",class extends Oe{async readWhole(){this.chunked=!1;let e=await A(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let s=t?e+t:void 0,i=this.input.slice(e,s),n=await A(i);return this.set(n,e,!0)}});export default re;export{H as Exifr,R as Options,M as allFormatters,L as chunkedProps,x as createDictionary,C as extendDictionary,S as fetchUrlAsArrayBuffer,m as fileParsers,b as fileReaders,fe as gps,he as gpsOnlyOptions,E as inheritables,ce as orientation,de as orientationOnlyOptions,T as otherSegments,Y as parse,A as readBlobAsArrayBuffer,ge as rotateCanvas,me as rotateCss,ye as rotation,pe as rotations,y as segmentParsers,z as segments,F as segmentsAndBlocks,B as tagKeys,I as tagRevivers,V as tagValues,oe as thumbnail,le as thumbnailOnlyOptions,ue as thumbnailUrl,P as tiffBlocks,j as tiffExtractables};\n", "export default {\n  strings: {\n    generatingThumbnails: 'Generating thumbnails...'\n  }\n};", "import { UIPlugin } from '@uppy/core';\nimport dataURItoBlob from '@uppy/utils/lib/dataURItoBlob';\nimport isObjectURL from '@uppy/utils/lib/isObjectURL';\nimport isPreviewSupported from '@uppy/utils/lib/isPreviewSupported';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore untyped\nimport { rotation } from 'exifr/dist/mini.esm.mjs';\nimport locale from './locale.js';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.1.1\"\n};\n/**\n * Save a <canvas> element's content to a Blob object.\n *\n */\nfunction canvasToBlob(canvas, type, quality) {\n  try {\n    canvas.getContext('2d').getImageData(0, 0, 1, 1);\n  } catch (err) {\n    if (err.code === 18) {\n      return Promise.reject(new Error('cannot read image, probably an svg with external resources'));\n    }\n  }\n  if (canvas.toBlob) {\n    return new Promise(resolve => {\n      canvas.toBlob(resolve, type, quality);\n    }).then(blob => {\n      if (blob === null) {\n        throw new Error('cannot read image, probably an svg with external resources');\n      }\n      return blob;\n    });\n  }\n  return Promise.resolve().then(() => {\n    return dataURItoBlob(canvas.toDataURL(type, quality), {});\n  }).then(blob => {\n    if (blob === null) {\n      throw new Error('could not extract blob, probably an old browser');\n    }\n    return blob;\n  });\n}\nfunction rotateImage(image, translate) {\n  let w = image.width;\n  let h = image.height;\n  if (translate.deg === 90 || translate.deg === 270) {\n    w = image.height;\n    h = image.width;\n  }\n  const canvas = document.createElement('canvas');\n  canvas.width = w;\n  canvas.height = h;\n  const context = canvas.getContext('2d');\n  context.translate(w / 2, h / 2);\n  if (translate.canvas) {\n    context.rotate(translate.rad);\n    context.scale(translate.scaleX, translate.scaleY);\n  }\n  context.drawImage(image, -image.width / 2, -image.height / 2, image.width, image.height);\n  return canvas;\n}\n\n/**\n * Make sure the image doesn\u2019t exceed browser/device canvas limits.\n * For ios with 256 RAM and ie\n */\nfunction protect(image) {\n  // https://stackoverflow.com/questions/6081483/maximum-size-of-a-canvas-element\n\n  const ratio = image.width / image.height;\n  const maxSquare = 5000000; // ios max canvas square\n  const maxSize = 4096; // ie max canvas dimensions\n\n  let maxW = Math.floor(Math.sqrt(maxSquare * ratio));\n  let maxH = Math.floor(maxSquare / Math.sqrt(maxSquare * ratio));\n  if (maxW > maxSize) {\n    maxW = maxSize;\n    maxH = Math.round(maxW / ratio);\n  }\n  if (maxH > maxSize) {\n    maxH = maxSize;\n    maxW = Math.round(ratio * maxH);\n  }\n  if (image.width > maxW) {\n    const canvas = document.createElement('canvas');\n    canvas.width = maxW;\n    canvas.height = maxH;\n    canvas.getContext('2d').drawImage(image, 0, 0, maxW, maxH);\n    return canvas;\n  }\n  return image;\n}\nconst defaultOptions = {\n  thumbnailWidth: null,\n  thumbnailHeight: null,\n  thumbnailType: 'image/jpeg',\n  waitForThumbnailsBeforeUpload: false,\n  lazy: false\n};\n/**\n * The Thumbnail Generator plugin\n */\n\nexport default class ThumbnailGenerator extends UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, {\n      ...defaultOptions,\n      ...opts\n    });\n    this.onFileAdded = file => {\n      if (!file.preview && file.data && isPreviewSupported(file.type) && !file.isRemote) {\n        this.addToQueue(file.id);\n      }\n    };\n    /**\n     * Cancel a lazy request for a thumbnail if the thumbnail has not yet been generated.\n     */\n    this.onCancelRequest = file => {\n      const index = this.queue.indexOf(file.id);\n      if (index !== -1) {\n        this.queue.splice(index, 1);\n      }\n    };\n    /**\n     * Clean up the thumbnail for a file. Cancel lazy requests and free the thumbnail URL.\n     */\n    this.onFileRemoved = file => {\n      const index = this.queue.indexOf(file.id);\n      if (index !== -1) {\n        this.queue.splice(index, 1);\n      }\n\n      // Clean up object URLs.\n      if (file.preview && isObjectURL(file.preview)) {\n        URL.revokeObjectURL(file.preview);\n      }\n    };\n    this.onRestored = () => {\n      const restoredFiles = this.uppy.getFiles().filter(file => file.isRestored);\n      restoredFiles.forEach(file => {\n        // Only add blob URLs; they are likely invalid after being restored.\n        if (!file.preview || isObjectURL(file.preview)) {\n          this.addToQueue(file.id);\n        }\n      });\n    };\n    this.onAllFilesRemoved = () => {\n      this.queue = [];\n    };\n    this.waitUntilAllProcessed = fileIDs => {\n      fileIDs.forEach(fileID => {\n        const file = this.uppy.getFile(fileID);\n        this.uppy.emit('preprocess-progress', file, {\n          mode: 'indeterminate',\n          message: this.i18n('generatingThumbnails')\n        });\n      });\n      const emitPreprocessCompleteForAll = () => {\n        fileIDs.forEach(fileID => {\n          const file = this.uppy.getFile(fileID);\n          this.uppy.emit('preprocess-complete', file);\n        });\n      };\n      return new Promise(resolve => {\n        if (this.queueProcessing) {\n          this.uppy.once('thumbnail:all-generated', () => {\n            emitPreprocessCompleteForAll();\n            resolve();\n          });\n        } else {\n          emitPreprocessCompleteForAll();\n          resolve();\n        }\n      });\n    };\n    this.type = 'modifier';\n    this.id = this.opts.id || 'ThumbnailGenerator';\n    this.title = 'Thumbnail Generator';\n    this.queue = [];\n    this.queueProcessing = false;\n    this.defaultThumbnailDimension = 200;\n    this.thumbnailType = this.opts.thumbnailType;\n    this.defaultLocale = locale;\n    this.i18nInit();\n    if (this.opts.lazy && this.opts.waitForThumbnailsBeforeUpload) {\n      throw new Error('ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.');\n    }\n  }\n  createThumbnail(file, targetWidth, targetHeight) {\n    const originalUrl = URL.createObjectURL(file.data);\n    const onload = new Promise((resolve, reject) => {\n      const image = new Image();\n      image.src = originalUrl;\n      image.addEventListener('load', () => {\n        URL.revokeObjectURL(originalUrl);\n        resolve(image);\n      });\n      image.addEventListener('error', event => {\n        URL.revokeObjectURL(originalUrl);\n        reject(event.error || new Error('Could not create thumbnail'));\n      });\n    });\n    const orientationPromise = rotation(file.data).catch(() => 1);\n    return Promise.all([onload, orientationPromise]).then(_ref => {\n      let [image, orientation] = _ref;\n      const dimensions = this.getProportionalDimensions(image, targetWidth, targetHeight, orientation.deg);\n      const rotatedImage = rotateImage(image, orientation);\n      const resizedImage = this.resizeImage(rotatedImage, dimensions.width, dimensions.height);\n      return canvasToBlob(resizedImage, this.thumbnailType, 80);\n    }).then(blob => {\n      return URL.createObjectURL(blob);\n    });\n  }\n\n  /**\n   * Get the new calculated dimensions for the given image and a target width\n   * or height. If both width and height are given, only width is taken into\n   * account. If neither width nor height are given, the default dimension\n   * is used.\n   */\n  getProportionalDimensions(img, width, height, deg) {\n    // eslint-disable-line no-shadow\n    let aspect = img.width / img.height;\n    if (deg === 90 || deg === 270) {\n      aspect = img.height / img.width;\n    }\n    if (width != null) {\n      return {\n        width,\n        height: Math.round(width / aspect)\n      };\n    }\n    if (height != null) {\n      return {\n        width: Math.round(height * aspect),\n        height\n      };\n    }\n    return {\n      width: this.defaultThumbnailDimension,\n      height: Math.round(this.defaultThumbnailDimension / aspect)\n    };\n  }\n\n  /**\n   * Resize an image to the target `width` and `height`.\n   *\n   * Returns a Canvas with the resized image on it.\n   */\n  // eslint-disable-next-line class-methods-use-this\n  resizeImage(image, targetWidth, targetHeight) {\n    // Resizing in steps refactored to use a solution from\n    // https://blog.uploadcare.com/image-resize-in-browsers-is-broken-e38eed08df01\n\n    let img = protect(image);\n    let steps = Math.ceil(Math.log2(img.width / targetWidth));\n    if (steps < 1) {\n      steps = 1;\n    }\n    let sW = targetWidth * 2 ** (steps - 1);\n    let sH = targetHeight * 2 ** (steps - 1);\n    const x = 2;\n    while (steps--) {\n      const canvas = document.createElement('canvas');\n      canvas.width = sW;\n      canvas.height = sH;\n      canvas.getContext('2d').drawImage(img, 0, 0, sW, sH);\n      img = canvas;\n      sW = Math.round(sW / x);\n      sH = Math.round(sH / x);\n    }\n    return img;\n  }\n\n  /**\n   * Set the preview URL for a file.\n   */\n  setPreviewURL(fileID, preview) {\n    this.uppy.setFileState(fileID, {\n      preview\n    });\n  }\n  addToQueue(fileID) {\n    this.queue.push(fileID);\n    if (this.queueProcessing === false) {\n      this.processQueue();\n    }\n  }\n  processQueue() {\n    this.queueProcessing = true;\n    if (this.queue.length > 0) {\n      const current = this.uppy.getFile(this.queue.shift());\n      if (!current) {\n        this.uppy.log('[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug', 'error');\n        return Promise.resolve();\n      }\n      return this.requestThumbnail(current).catch(() => {}) // eslint-disable-line node/handle-callback-err\n      .then(() => this.processQueue());\n    }\n    this.queueProcessing = false;\n    this.uppy.log('[ThumbnailGenerator] Emptied thumbnail queue');\n    this.uppy.emit('thumbnail:all-generated');\n    return Promise.resolve();\n  }\n  requestThumbnail(file) {\n    if (isPreviewSupported(file.type) && !file.isRemote) {\n      return this.createThumbnail(file, this.opts.thumbnailWidth, this.opts.thumbnailHeight).then(preview => {\n        this.setPreviewURL(file.id, preview);\n        this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${file.id}`);\n        this.uppy.emit('thumbnail:generated', this.uppy.getFile(file.id), preview);\n      }).catch(err => {\n        this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${file.id}:`, 'warning');\n        this.uppy.log(err, 'warning');\n        this.uppy.emit('thumbnail:error', this.uppy.getFile(file.id), err);\n      });\n    }\n    return Promise.resolve();\n  }\n  install() {\n    this.uppy.on('file-removed', this.onFileRemoved);\n    this.uppy.on('cancel-all', this.onAllFilesRemoved);\n    if (this.opts.lazy) {\n      this.uppy.on('thumbnail:request', this.onFileAdded);\n      this.uppy.on('thumbnail:cancel', this.onCancelRequest);\n    } else {\n      this.uppy.on('thumbnail:request', this.onFileAdded);\n      this.uppy.on('file-added', this.onFileAdded);\n      this.uppy.on('restored', this.onRestored);\n    }\n    if (this.opts.waitForThumbnailsBeforeUpload) {\n      this.uppy.addPreProcessor(this.waitUntilAllProcessed);\n    }\n  }\n  uninstall() {\n    this.uppy.off('file-removed', this.onFileRemoved);\n    this.uppy.off('cancel-all', this.onAllFilesRemoved);\n    if (this.opts.lazy) {\n      this.uppy.off('thumbnail:request', this.onFileAdded);\n      this.uppy.off('thumbnail:cancel', this.onCancelRequest);\n    } else {\n      this.uppy.off('thumbnail:request', this.onFileAdded);\n      this.uppy.off('file-added', this.onFileAdded);\n      this.uppy.off('restored', this.onRestored);\n    }\n    if (this.opts.waitForThumbnailsBeforeUpload) {\n      this.uppy.removePreProcessor(this.waitUntilAllProcessed);\n    }\n  }\n}\nThumbnailGenerator.VERSION = packageJson.version;", "import isDOMElement from './isDOMElement.js';\n/**\n * Find one or more DOM elements.\n */\nfunction findAllDOMElements(element) {\n  if (typeof element === 'string') {\n    const elements = document.querySelectorAll(element);\n    return elements.length === 0 ? null : Array.from(elements);\n  }\n  if (typeof element === 'object' && isDOMElement(element)) {\n    return [element];\n  }\n  return null;\n}\nexport default findAllDOMElements;", "/**\n * Converts list into array\n */\nexport default Array.from;", "/**\n * Recursive function, calls the original callback() when the directory is entirely parsed.\n */\nexport default function getFilesAndDirectoriesFromDirectory(directoryReader, oldEntries, logDropError, _ref) {\n  let {\n    onSuccess\n  } = _ref;\n  directoryReader.readEntries(entries => {\n    const newEntries = [...oldEntries, ...entries];\n    // According to the FileSystem API spec, getFilesAndDirectoriesFromDirectory()\n    // must be called until it calls the onSuccess with an empty array.\n    if (entries.length) {\n      queueMicrotask(() => {\n        getFilesAndDirectoriesFromDirectory(directoryReader, newEntries, logDropError, {\n          onSuccess\n        });\n      });\n      // Done iterating this particular directory\n    } else {\n      onSuccess(newEntries);\n    }\n  },\n  // Make sure we resolve on error anyway, it's fine if only one directory couldn't be parsed!\n  error => {\n    logDropError(error);\n    onSuccess(oldEntries);\n  });\n}", "import getFilesAndDirectoriesFromDirectory from './getFilesAndDirectoriesFromDirectory.js';\n/**\n * Polyfill for the new (experimental) getAsFileSystemHandle API (using the popular webkitGetAsEntry behind the scenes)\n * so that we can switch to the getAsFileSystemHandle API once it (hopefully) becomes standard\n */\nfunction getAsFileSystemHandleFromEntry(entry, logDropError) {\n  if (entry == null) return entry;\n  return {\n    kind:\n    // eslint-disable-next-line no-nested-ternary\n    entry.isFile ? 'file' : entry.isDirectory ? 'directory' : undefined,\n    name: entry.name,\n    getFile() {\n      return new Promise((resolve, reject) => entry.file(resolve, reject));\n    },\n    async *values() {\n      // If the file is a directory.\n      const directoryReader = entry.createReader();\n      const entries = await new Promise(resolve => {\n        getFilesAndDirectoriesFromDirectory(directoryReader, [], logDropError, {\n          onSuccess: dirEntries => resolve(dirEntries.map(file => getAsFileSystemHandleFromEntry(file, logDropError)))\n        });\n      });\n      yield* entries;\n    },\n    isSameEntry: undefined\n  };\n}\nfunction createPromiseToAddFileOrParseDirectory(entry, relativePath, lastResortFile) {\n  try {\n    if (lastResortFile === void 0) {\n      lastResortFile = undefined;\n    }\n    return async function* () {\n      const getNextRelativePath = () => `${relativePath}/${entry.name}`;\n\n      // For each dropped item, - make sure it's a file/directory, and start deepening in!\n      if (entry.kind === 'file') {\n        const file = await entry.getFile();\n        if (file != null) {\n          ;\n          file.relativePath = relativePath ? getNextRelativePath() : null;\n          yield file;\n        } else if (lastResortFile != null) yield lastResortFile;\n      } else if (entry.kind === 'directory') {\n        for await (const handle of entry.values()) {\n          // Recurse on the directory, appending the dir name to the relative path\n          yield* createPromiseToAddFileOrParseDirectory(handle, relativePath ? getNextRelativePath() : entry.name);\n        }\n      } else if (lastResortFile != null) yield lastResortFile;\n    }();\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n\n/**\n * Load all files from data transfer, and recursively read any directories.\n * Note that IE is not supported for drag-drop, because IE doesn't support Data Transfers\n *\n * @param {DataTransfer} dataTransfer\n * @param {*} logDropError on error\n */\nexport default async function* getFilesFromDataTransfer(dataTransfer, logDropError) {\n  // Retrieving the dropped items must happen synchronously\n  // otherwise only the first item gets treated and the other ones are garbage collected.\n  // https://github.com/transloadit/uppy/pull/3998\n  const fileSystemHandles = await Promise.all(Array.from(dataTransfer.items, async item => {\n    var _fileSystemHandle;\n    let fileSystemHandle;\n\n    // TODO enable getAsFileSystemHandle API once we can get it working with subdirectories\n    // IMPORTANT: Need to check isSecureContext *before* calling getAsFileSystemHandle\n    // or else Chrome will crash when running in HTTP: https://github.com/transloadit/uppy/issues/4133\n    // if (window.isSecureContext && item.getAsFileSystemHandle != null)\n    // fileSystemHandle = await item.getAsFileSystemHandle()\n\n    // `webkitGetAsEntry` exists in all popular browsers (including non-WebKit browsers),\n    // however it may be renamed to getAsEntry() in the future, so you should code defensively, looking for both.\n    // from https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem/webkitGetAsEntry\n    const getAsEntry = () => typeof item.getAsEntry === 'function' ? item.getAsEntry() : item.webkitGetAsEntry();\n    // eslint-disable-next-line prefer-const\n    (_fileSystemHandle = fileSystemHandle) != null ? _fileSystemHandle : fileSystemHandle = getAsFileSystemHandleFromEntry(getAsEntry(), logDropError);\n    return {\n      fileSystemHandle,\n      lastResortFile: item.getAsFile() // can be used as a fallback in case other methods fail\n    };\n  }));\n  for (const {\n    lastResortFile,\n    fileSystemHandle\n  } of fileSystemHandles) {\n    // fileSystemHandle and lastResortFile can be null when we drop an url.\n    if (fileSystemHandle != null) {\n      try {\n        yield* createPromiseToAddFileOrParseDirectory(fileSystemHandle, '', lastResortFile);\n      } catch (err) {\n        // Example: If dropping a symbolic link, Chromium will throw:\n        // \"DOMException: A requested file or directory could not be found at the time an operation was processed.\",\n        // So we will use lastResortFile instead. See https://github.com/transloadit/uppy/issues/3505.\n        if (lastResortFile != null) {\n          yield lastResortFile;\n        } else {\n          logDropError(err);\n        }\n      }\n    } else if (lastResortFile != null) yield lastResortFile;\n  }\n}", "import toArray from '../../toArray.js';\n\n// .files fallback, should be implemented in any browser\nexport default function fallbackApi(dataTransfer) {\n  const files = toArray(dataTransfer.files);\n  return Promise.resolve(files);\n}", "import webkitGetAsEntryApi from './utils/webkitGetAsEntryApi/index.js';\nimport fallbackApi from './utils/fallbackApi.js';\n\n/**\n * Returns a promise that resolves to the array of dropped files (if a folder is\n * dropped, and browser supports folder parsing - promise resolves to the flat\n * array of all files in all directories).\n * Each file has .relativePath prop appended to it (e.g. \"/docs/Prague/ticket_from_prague_to_ufa.pdf\")\n * if browser supports it. Otherwise it's undefined.\n *\n * @param dataTransfer\n * @param options\n * @param options.logDropError - a function that's called every time some\n * folder or some file error out (e.g. because of the folder name being too long\n * on Windows). Notice that resulting promise will always be resolved anyway.\n *\n * @returns {Promise} - Array<File>\n */\nexport default async function getDroppedFiles(dataTransfer, options) {\n  var _options$logDropError;\n  // Get all files from all subdirs. Works (at least) in Chrome, Mozilla, and Safari\n  const logDropError = (_options$logDropError = options == null ? void 0 : options.logDropError) != null ? _options$logDropError : Function.prototype;\n  try {\n    const accumulator = [];\n    for await (const file of webkitGetAsEntryApi(dataTransfer, logDropError)) {\n      accumulator.push(file);\n    }\n    return accumulator;\n    // Otherwise just return all first-order files\n  } catch {\n    return fallbackApi(dataTransfer);\n  }\n}", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\nimport { h } from 'preact';\nimport classNames from 'classnames';\nimport remoteFileObjToLocal from '@uppy/utils/lib/remoteFileObjToLocal';\nimport AuthView from \"./AuthView.js\";\nimport Header from \"./Header.js\";\nimport Browser from \"../Browser.js\";\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.4.3\"\n};\nimport PartialTreeUtils from '../utils/PartialTreeUtils/index.js';\nimport shouldHandleScroll from '../utils/shouldHandleScroll.js';\nimport handleError from '../utils/handleError.js';\nimport getClickedRange from '../utils/getClickedRange.js';\nimport SearchInput from \"../SearchInput.js\";\nimport FooterActions from \"../FooterActions.js\";\nimport addFiles from '../utils/addFiles.js';\nimport getCheckedFilesWithPaths from '../utils/PartialTreeUtils/getCheckedFilesWithPaths.js';\nimport getBreadcrumbs from '../utils/PartialTreeUtils/getBreadcrumbs.js';\nexport function defaultPickerIcon() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"30\",\n    height: \"30\",\n    viewBox: \"0 0 30 30\"\n  }, h(\"path\", {\n    d: \"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z\"\n  }));\n}\nconst getDefaultState = rootFolderId => ({\n  authenticated: undefined,\n  // we don't know yet\n  partialTree: [{\n    type: 'root',\n    id: rootFolderId,\n    cached: false,\n    nextPagePath: null\n  }],\n  currentFolderId: rootFolderId,\n  searchString: '',\n  didFirstRender: false,\n  username: null,\n  loading: false\n});\nvar _abortController = /*#__PURE__*/_classPrivateFieldLooseKey(\"abortController\");\nvar _withAbort = /*#__PURE__*/_classPrivateFieldLooseKey(\"withAbort\");\n/**\n * Class to easily generate generic views for Provider plugins\n */\nexport default class ProviderView {\n  constructor(plugin, opts) {\n    Object.defineProperty(this, _withAbort, {\n      value: _withAbort2\n    });\n    this.isHandlingScroll = false;\n    this.lastCheckbox = null;\n    Object.defineProperty(this, _abortController, {\n      writable: true,\n      value: void 0\n    });\n    this.validateSingleFile = file => {\n      const companionFile = remoteFileObjToLocal(file);\n      const result = this.plugin.uppy.validateSingleFile(companionFile);\n      return result;\n    };\n    this.getDisplayedPartialTree = () => {\n      const {\n        partialTree,\n        currentFolderId,\n        searchString\n      } = this.plugin.getPluginState();\n      const inThisFolder = partialTree.filter(item => item.type !== 'root' && item.parentId === currentFolderId);\n      const filtered = searchString === '' ? inThisFolder : inThisFolder.filter(item => {\n        var _item$data$name;\n        return ((_item$data$name = item.data.name) != null ? _item$data$name : this.plugin.uppy.i18n('unnamed')).toLowerCase().indexOf(searchString.toLowerCase()) !== -1;\n      });\n      return filtered;\n    };\n    this.validateAggregateRestrictions = partialTree => {\n      const checkedFiles = partialTree.filter(item => item.type === 'file' && item.status === 'checked');\n      const uppyFiles = checkedFiles.map(file => file.data);\n      return this.plugin.uppy.validateAggregateRestrictions(uppyFiles);\n    };\n    this.plugin = plugin;\n    this.provider = opts.provider;\n    const defaultOptions = {\n      viewType: 'list',\n      showTitles: true,\n      showFilter: true,\n      showBreadcrumbs: true,\n      loadAllFiles: false,\n      virtualList: false\n    };\n    this.opts = {\n      ...defaultOptions,\n      ...opts\n    };\n    this.openFolder = this.openFolder.bind(this);\n    this.logout = this.logout.bind(this);\n    this.handleAuth = this.handleAuth.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n    this.resetPluginState = this.resetPluginState.bind(this);\n    this.donePicking = this.donePicking.bind(this);\n    this.render = this.render.bind(this);\n    this.cancelSelection = this.cancelSelection.bind(this);\n    this.toggleCheckbox = this.toggleCheckbox.bind(this);\n\n    // Set default state for the plugin\n    this.resetPluginState();\n\n    // todo\n    // @ts-expect-error this should be typed in @uppy/dashboard.\n    this.plugin.uppy.on('dashboard:close-panel', this.resetPluginState);\n    this.plugin.uppy.registerRequestClient(this.provider.provider, this.provider);\n  }\n  resetPluginState() {\n    this.plugin.setPluginState(getDefaultState(this.plugin.rootFolderId));\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  tearDown() {\n    // Nothing.\n  }\n  setLoading(loading) {\n    this.plugin.setPluginState({\n      loading\n    });\n  }\n  cancelSelection() {\n    const {\n      partialTree\n    } = this.plugin.getPluginState();\n    const newPartialTree = partialTree.map(item => item.type === 'root' ? item : {\n      ...item,\n      status: 'unchecked'\n    });\n    this.plugin.setPluginState({\n      partialTree: newPartialTree\n    });\n  }\n  async openFolder(folderId) {\n    this.lastCheckbox = null;\n    // Returning cached folder\n    const {\n      partialTree\n    } = this.plugin.getPluginState();\n    const clickedFolder = partialTree.find(folder => folder.id === folderId);\n    if (clickedFolder.cached) {\n      this.plugin.setPluginState({\n        currentFolderId: folderId,\n        searchString: ''\n      });\n      return;\n    }\n    this.setLoading(true);\n    await _classPrivateFieldLooseBase(this, _withAbort)[_withAbort](async signal => {\n      let currentPagePath = folderId;\n      let currentItems = [];\n      do {\n        const {\n          username,\n          nextPagePath,\n          items\n        } = await this.provider.list(currentPagePath, {\n          signal\n        });\n        // It's important to set the username during one of our first fetches\n        this.plugin.setPluginState({\n          username\n        });\n        currentPagePath = nextPagePath;\n        currentItems = currentItems.concat(items);\n        this.setLoading(this.plugin.uppy.i18n('loadedXFiles', {\n          numFiles: currentItems.length\n        }));\n      } while (this.opts.loadAllFiles && currentPagePath);\n      const newPartialTree = PartialTreeUtils.afterOpenFolder(partialTree, currentItems, clickedFolder, currentPagePath, this.validateSingleFile);\n      this.plugin.setPluginState({\n        partialTree: newPartialTree,\n        currentFolderId: folderId,\n        searchString: ''\n      });\n    }).catch(handleError(this.plugin.uppy));\n    this.setLoading(false);\n  }\n\n  /**\n   * Removes session token on client side.\n   */\n  async logout() {\n    await _classPrivateFieldLooseBase(this, _withAbort)[_withAbort](async signal => {\n      const res = await this.provider.logout({\n        signal\n      });\n      // res.ok is from the JSON body, not to be confused with Response.ok\n      if (res.ok) {\n        if (!res.revoked) {\n          const message = this.plugin.uppy.i18n('companionUnauthorizeHint', {\n            provider: this.plugin.title,\n            url: res.manual_revoke_url\n          });\n          this.plugin.uppy.info(message, 'info', 7000);\n        }\n        this.plugin.setPluginState({\n          ...getDefaultState(this.plugin.rootFolderId),\n          authenticated: false\n        });\n      }\n    }).catch(handleError(this.plugin.uppy));\n  }\n  async handleAuth(authFormData) {\n    await _classPrivateFieldLooseBase(this, _withAbort)[_withAbort](async signal => {\n      this.setLoading(true);\n      await this.provider.login({\n        authFormData,\n        signal\n      });\n      this.plugin.setPluginState({\n        authenticated: true\n      });\n      await Promise.all([this.provider.fetchPreAuthToken(), this.openFolder(this.plugin.rootFolderId)]);\n    }).catch(handleError(this.plugin.uppy));\n    this.setLoading(false);\n  }\n  async handleScroll(event) {\n    const {\n      partialTree,\n      currentFolderId\n    } = this.plugin.getPluginState();\n    const currentFolder = partialTree.find(i => i.id === currentFolderId);\n    if (shouldHandleScroll(event) && !this.isHandlingScroll && currentFolder.nextPagePath) {\n      this.isHandlingScroll = true;\n      await _classPrivateFieldLooseBase(this, _withAbort)[_withAbort](async signal => {\n        const {\n          nextPagePath,\n          items\n        } = await this.provider.list(currentFolder.nextPagePath, {\n          signal\n        });\n        const newPartialTree = PartialTreeUtils.afterScrollFolder(partialTree, currentFolderId, items, nextPagePath, this.validateSingleFile);\n        this.plugin.setPluginState({\n          partialTree: newPartialTree\n        });\n      }).catch(handleError(this.plugin.uppy));\n      this.isHandlingScroll = false;\n    }\n  }\n  async donePicking() {\n    const {\n      partialTree\n    } = this.plugin.getPluginState();\n    this.setLoading(true);\n    await _classPrivateFieldLooseBase(this, _withAbort)[_withAbort](async signal => {\n      // 1. Enrich our partialTree by fetching all 'checked' but not-yet-fetched folders\n      const enrichedTree = await PartialTreeUtils.afterFill(partialTree, path => this.provider.list(path, {\n        signal\n      }), this.validateSingleFile, n => {\n        this.setLoading(this.plugin.uppy.i18n('addedNumFiles', {\n          numFiles: n\n        }));\n      });\n\n      // 2. Now that we know how many files there are - recheck aggregateRestrictions!\n      const aggregateRestrictionError = this.validateAggregateRestrictions(enrichedTree);\n      if (aggregateRestrictionError) {\n        this.plugin.setPluginState({\n          partialTree: enrichedTree\n        });\n        return;\n      }\n\n      // 3. Add files\n      const companionFiles = getCheckedFilesWithPaths(enrichedTree);\n      addFiles(companionFiles, this.plugin, this.provider);\n\n      // 4. Reset state\n      this.resetPluginState();\n    }).catch(handleError(this.plugin.uppy));\n    this.setLoading(false);\n  }\n  toggleCheckbox(ourItem, isShiftKeyPressed) {\n    const {\n      partialTree\n    } = this.plugin.getPluginState();\n    const clickedRange = getClickedRange(ourItem.id, this.getDisplayedPartialTree(), isShiftKeyPressed, this.lastCheckbox);\n    const newPartialTree = PartialTreeUtils.afterToggleCheckbox(partialTree, clickedRange);\n    this.plugin.setPluginState({\n      partialTree: newPartialTree\n    });\n    this.lastCheckbox = ourItem.id;\n  }\n  render(state, viewOptions) {\n    if (viewOptions === void 0) {\n      viewOptions = {};\n    }\n    const {\n      didFirstRender\n    } = this.plugin.getPluginState();\n    const {\n      i18n\n    } = this.plugin.uppy;\n    if (!didFirstRender) {\n      this.plugin.setPluginState({\n        didFirstRender: true\n      });\n      this.provider.fetchPreAuthToken();\n      this.openFolder(this.plugin.rootFolderId);\n    }\n    const opts = {\n      ...this.opts,\n      ...viewOptions\n    };\n    const {\n      authenticated,\n      loading\n    } = this.plugin.getPluginState();\n    const pluginIcon = this.plugin.icon || defaultPickerIcon;\n    if (authenticated === false) {\n      return h(AuthView, {\n        pluginName: this.plugin.title,\n        pluginIcon: pluginIcon,\n        handleAuth: this.handleAuth,\n        i18n: this.plugin.uppy.i18n,\n        renderForm: opts.renderAuthForm,\n        loading: loading\n      });\n    }\n    const {\n      partialTree,\n      currentFolderId,\n      username,\n      searchString\n    } = this.plugin.getPluginState();\n    const breadcrumbs = getBreadcrumbs(partialTree, currentFolderId);\n    return h(\"div\", {\n      className: classNames('uppy-ProviderBrowser', `uppy-ProviderBrowser-viewType--${opts.viewType}`)\n    }, h(Header, {\n      showBreadcrumbs: opts.showBreadcrumbs,\n      openFolder: this.openFolder,\n      breadcrumbs: breadcrumbs,\n      pluginIcon: pluginIcon,\n      title: this.plugin.title,\n      logout: this.logout,\n      username: username,\n      i18n: i18n\n    }), opts.showFilter && h(SearchInput, {\n      searchString: searchString,\n      setSearchString: s => {\n        this.plugin.setPluginState({\n          searchString: s\n        });\n      },\n      submitSearchString: () => {},\n      inputLabel: i18n('filter'),\n      clearSearchLabel: i18n('resetFilter'),\n      wrapperClassName: \"uppy-ProviderBrowser-searchFilter\",\n      inputClassName: \"uppy-ProviderBrowser-searchFilterInput\"\n    }), h(Browser, {\n      toggleCheckbox: this.toggleCheckbox,\n      displayedPartialTree: this.getDisplayedPartialTree(),\n      openFolder: this.openFolder,\n      virtualList: opts.virtualList,\n      noResultsLabel: i18n('noFilesFound'),\n      handleScroll: this.handleScroll,\n      viewType: opts.viewType,\n      showTitles: opts.showTitles,\n      i18n: this.plugin.uppy.i18n,\n      isLoading: loading,\n      utmSource: \"Companion\"\n    }), h(FooterActions, {\n      partialTree: partialTree,\n      donePicking: this.donePicking,\n      cancelSelection: this.cancelSelection,\n      i18n: i18n,\n      validateAggregateRestrictions: this.validateAggregateRestrictions\n    }));\n  }\n}\nasync function _withAbort2(op) {\n  var _classPrivateFieldLoo;\n  // prevent multiple requests in parallel from causing race conditions\n  (_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _abortController)[_abortController]) == null || _classPrivateFieldLoo.abort();\n  const abortController = new AbortController();\n  _classPrivateFieldLooseBase(this, _abortController)[_abortController] = abortController;\n  const cancelRequest = () => {\n    abortController.abort();\n  };\n  try {\n    // @ts-expect-error this should be typed in @uppy/dashboard.\n    // Even then I don't think we can make this work without adding dashboard\n    // as a dependency to provider-views.\n    this.plugin.uppy.on('dashboard:close-panel', cancelRequest);\n    this.plugin.uppy.on('cancel-all', cancelRequest);\n    await op(abortController.signal);\n  } finally {\n    // @ts-expect-error this should be typed in @uppy/dashboard.\n    // Even then I don't think we can make this work without adding dashboard\n    // as a dependency to provider-views.\n    this.plugin.uppy.off('dashboard:close-panel', cancelRequest);\n    this.plugin.uppy.off('cancel-all', cancelRequest);\n    _classPrivateFieldLooseBase(this, _abortController)[_abortController] = undefined;\n  }\n}\nProviderView.VERSION = packageJson.version;", "import getFileNameAndExtension from './getFileNameAndExtension.js';\nexport default function remoteFileObjToLocal(file) {\n  return {\n    ...file,\n    type: file.mimeType,\n    extension: file.name ? getFileNameAndExtension(file.name).extension : null\n  };\n}", "import { h } from 'preact';\nimport { useCallback } from 'preact/hooks';\nfunction GoogleIcon() {\n  return h(\"svg\", {\n    width: \"26\",\n    height: \"26\",\n    viewBox: \"0 0 26 26\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, h(\"g\", {\n    fill: \"none\",\n    \"fill-rule\": \"evenodd\"\n  }, h(\"circle\", {\n    fill: \"#FFF\",\n    cx: \"13\",\n    cy: \"13\",\n    r: \"13\"\n  }), h(\"path\", {\n    d: \"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z\",\n    fill: \"#4285F4\",\n    \"fill-rule\": \"nonzero\"\n  }), h(\"path\", {\n    d: \"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z\",\n    fill: \"#34A853\",\n    \"fill-rule\": \"nonzero\"\n  }), h(\"path\", {\n    d: \"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z\",\n    fill: \"#FBBC05\",\n    \"fill-rule\": \"nonzero\"\n  }), h(\"path\", {\n    d: \"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z\",\n    fill: \"#EA4335\",\n    \"fill-rule\": \"nonzero\"\n  }), h(\"path\", {\n    d: \"M4 4h18v18H4z\"\n  })));\n}\nfunction DefaultForm(_ref) {\n  let {\n    pluginName,\n    i18n,\n    onAuth\n  } = _ref;\n  // In order to comply with Google's brand we need to create a different button\n  // for the Google Drive plugin\n  const isGoogleDrive = pluginName === 'Google Drive';\n  const onSubmit = useCallback(e => {\n    e.preventDefault();\n    onAuth();\n  }, [onAuth]);\n  return h(\"form\", {\n    onSubmit: onSubmit\n  }, isGoogleDrive ? h(\"button\", {\n    type: \"submit\",\n    className: \"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google\",\n    \"data-uppy-super-focusable\": true\n  }, h(GoogleIcon, null), i18n('signInWithGoogle')) : h(\"button\", {\n    type: \"submit\",\n    className: \"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn\",\n    \"data-uppy-super-focusable\": true\n  }, i18n('authenticateWith', {\n    pluginName\n  })));\n}\nconst defaultRenderForm = _ref2 => {\n  let {\n    pluginName,\n    i18n,\n    onAuth\n  } = _ref2;\n  return h(DefaultForm, {\n    pluginName: pluginName,\n    i18n: i18n,\n    onAuth: onAuth\n  });\n};\nexport default function AuthView(_ref3) {\n  let {\n    loading,\n    pluginName,\n    pluginIcon,\n    i18n,\n    handleAuth,\n    renderForm = defaultRenderForm\n  } = _ref3;\n  return h(\"div\", {\n    className: \"uppy-Provider-auth\"\n  }, h(\"div\", {\n    className: \"uppy-Provider-authIcon\"\n  }, pluginIcon()), h(\"div\", {\n    className: \"uppy-Provider-authTitle\"\n  }, i18n('authenticateWithTitle', {\n    pluginName\n  })), renderForm({\n    pluginName,\n    i18n,\n    loading,\n    onAuth: handleAuth\n  }));\n}", "/* eslint-disable react/destructuring-assignment */\nimport { h } from 'preact';\nimport classNames from 'classnames';\nimport User from \"./User.js\";\nimport Breadcrumbs from \"../Breadcrumbs.js\";\nexport default function Header(props) {\n  return h(\"div\", {\n    className: \"uppy-ProviderBrowser-header\"\n  }, h(\"div\", {\n    className: classNames('uppy-ProviderBrowser-headerBar', !props.showBreadcrumbs && 'uppy-ProviderBrowser-headerBar--simple')\n  }, props.showBreadcrumbs && h(Breadcrumbs, {\n    openFolder: props.openFolder,\n    breadcrumbs: props.breadcrumbs,\n    breadcrumbsIcon: props.pluginIcon && props.pluginIcon(),\n    title: props.title,\n    i18n: props.i18n\n  }), h(User, {\n    logout: props.logout,\n    username: props.username,\n    i18n: props.i18n\n  })));\n}", "import { h, Fragment } from 'preact';\nexport default function User(_ref) {\n  let {\n    i18n,\n    logout,\n    username\n  } = _ref;\n  return h(Fragment, null, username && h(\"span\", {\n    className: \"uppy-ProviderBrowser-user\",\n    key: \"username\"\n  }, username), h(\"button\", {\n    type: \"button\",\n    onClick: logout,\n    className: \"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout\",\n    key: \"logout\"\n  }, i18n('logOut')));\n}", "import { h, Fragment } from 'preact';\nexport default function Breadcrumbs(props) {\n  const {\n    openFolder,\n    title,\n    breadcrumbsIcon,\n    breadcrumbs,\n    i18n\n  } = props;\n  return h(\"div\", {\n    className: \"uppy-Provider-breadcrumbs\"\n  }, h(\"div\", {\n    className: \"uppy-Provider-breadcrumbsIcon\"\n  }, breadcrumbsIcon), breadcrumbs.map((folder, index) => {\n    var _folder$data$name;\n    return h(Fragment, null, h(\"button\", {\n      key: folder.id,\n      type: \"button\",\n      className: \"uppy-u-reset uppy-c-btn\",\n      onClick: () => openFolder(folder.id)\n    }, folder.type === 'root' ? title : (_folder$data$name = folder.data.name) != null ? _folder$data$name : i18n('unnamed')), breadcrumbs.length === index + 1 ? '' : ' / ');\n  }));\n}", "function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\n/**\n * Adapted from preact-virtual-list: https://github.com/developit/preact-virtual-list\n *\n * \u00A9 2016 Jason Miller\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n * Adaptations:\n * - Added role=presentation to helper elements\n * - Tweaked styles for Uppy's Dashboard use case\n */\n\nimport { h, Component } from 'preact';\nconst STYLE_INNER = {\n  position: 'relative',\n  // Disabled for our use case: the wrapper elements around FileList already deal with overflow,\n  // and this additional property would hide things that we want to show.\n  //\n  // overflow: 'hidden',\n  width: '100%',\n  minHeight: '100%'\n};\nconst STYLE_CONTENT = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  // Because the `top` value gets set to some offset, this `height` being 100% would make the scrollbar\n  // stretch far beyond the content. For our use case, the content div actually can get its height from\n  // the elements inside it, so we don't need to specify a `height` property at all.\n  //\n  // height: '100%',\n  width: '100%',\n  overflow: 'visible'\n};\nclass VirtualList extends Component {\n  constructor(props) {\n    super(props);\n\n    // The currently focused node, used to retain focus when the visible rows change.\n    // To avoid update loops, this should not cause state updates, so it's kept as a plain property.\n    this.handleScroll = () => {\n      this.setState({\n        offset: this.base.scrollTop\n      });\n    };\n    this.handleResize = () => {\n      this.resize();\n    };\n    this.focusElement = null;\n    this.state = {\n      offset: 0,\n      height: 0\n    };\n  }\n  componentDidMount() {\n    this.resize();\n    window.addEventListener('resize', this.handleResize);\n  }\n\n  // TODO: refactor to stable lifecycle method\n  // eslint-disable-next-line\n  componentWillUpdate() {\n    if (this.base.contains(document.activeElement)) {\n      this.focusElement = document.activeElement;\n    }\n  }\n  componentDidUpdate() {\n    // Maintain focus when rows are added and removed.\n    if (this.focusElement && this.focusElement.parentNode && document.activeElement !== this.focusElement) {\n      this.focusElement.focus();\n    }\n    this.focusElement = null;\n    this.resize();\n  }\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  }\n  resize() {\n    const {\n      height\n    } = this.state;\n    if (height !== this.base.offsetHeight) {\n      this.setState({\n        height: this.base.offsetHeight\n      });\n    }\n  }\n  render(_ref) {\n    let {\n      data,\n      rowHeight,\n      renderRow,\n      overscanCount = 10,\n      ...props\n    } = _ref;\n    const {\n      offset,\n      height\n    } = this.state;\n    // first visible row index\n    let start = Math.floor(offset / rowHeight);\n\n    // actual number of visible rows (without overscan)\n    let visibleRowCount = Math.floor(height / rowHeight);\n\n    // Overscan: render blocks of rows modulo an overscan row count\n    // This dramatically reduces DOM writes during scrolling\n    if (overscanCount) {\n      start = Math.max(0, start - start % overscanCount);\n      visibleRowCount += overscanCount;\n    }\n\n    // last visible + overscan row index + padding to allow keyboard focus to travel past the visible area\n    const end = start + visibleRowCount + 4;\n\n    // data slice currently in viewport plus overscan items\n    const selection = data.slice(start, end);\n    const styleInner = {\n      ...STYLE_INNER,\n      height: data.length * rowHeight\n    };\n    const styleContent = {\n      ...STYLE_CONTENT,\n      top: start * rowHeight\n    };\n\n    // The `role=\"presentation\"` attributes ensure that these wrapper elements are not treated as list\n    // items by accessibility and outline tools.\n    return (\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      h(\"div\", _extends({\n        onScroll: this.handleScroll\n      }, props), h(\"div\", {\n        role: \"presentation\",\n        style: styleInner\n      }, h(\"div\", {\n        role: \"presentation\",\n        style: styleContent\n      }, selection.map(renderRow))))\n    );\n  }\n}\nexport default VirtualList;", "/* eslint-disable react/jsx-props-no-spreading */\nimport { h } from 'preact';\nimport classNames from 'classnames';\nimport GridItem from \"./components/GridItem.js\";\nimport ListItem from \"./components/ListItem.js\";\nexport default function Item(props) {\n  const {\n    viewType,\n    toggleCheckbox,\n    showTitles,\n    i18n,\n    openFolder,\n    file,\n    utmSource\n  } = props;\n  const restrictionError = file.type === 'folder' ? null : file.restrictionError;\n  const isDisabled = !!restrictionError && file.status !== 'checked';\n  const ourProps = {\n    file,\n    openFolder,\n    toggleCheckbox,\n    utmSource,\n    i18n,\n    viewType,\n    showTitles,\n    className: classNames('uppy-ProviderBrowserItem', {\n      'uppy-ProviderBrowserItem--disabled': isDisabled\n    }, {\n      'uppy-ProviderBrowserItem--noPreview': file.data.icon === 'video'\n    }, {\n      'uppy-ProviderBrowserItem--is-checked': file.status === 'checked'\n    }, {\n      'uppy-ProviderBrowserItem--is-partial': file.status === 'partial'\n    }),\n    isDisabled,\n    restrictionError\n  };\n  switch (viewType) {\n    case 'grid':\n      return h(GridItem, ourProps);\n    case 'list':\n      return h(ListItem, ourProps);\n    case 'unsplash':\n      return h(GridItem, ourProps, h(\"a\", {\n        href: `${file.data.author.url}?utm_source=${utmSource}&utm_medium=referral`,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        className: \"uppy-ProviderBrowserItem-author\",\n        tabIndex: -1\n      }, file.data.author.name));\n    default:\n      throw new Error(`There is no such type ${viewType}`);\n  }\n}", "import { h } from 'preact';\nfunction FileIcon() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: 11,\n    height: 14.5,\n    viewBox: \"0 0 44 58\"\n  }, h(\"path\", {\n    d: \"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z\"\n  }));\n}\nfunction FolderIcon() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    style: {\n      minWidth: 16,\n      marginRight: 3\n    },\n    viewBox: \"0 0 276.157 276.157\"\n  }, h(\"path\", {\n    d: \"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z\"\n  }));\n}\nfunction VideoIcon() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    style: {\n      width: 16,\n      marginRight: 4\n    },\n    viewBox: \"0 0 58 58\"\n  }, h(\"path\", {\n    d: \"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z\"\n  }), h(\"path\", {\n    d: \"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z\"\n  }));\n}\nexport default function ItemIcon(_ref) {\n  let {\n    itemIconString,\n    alt = undefined\n  } = _ref;\n  if (itemIconString === null) return null;\n  switch (itemIconString) {\n    case 'file':\n      return h(FileIcon, null);\n    case 'folder':\n      return h(FolderIcon, null);\n    case 'video':\n      return h(VideoIcon, null);\n    default:\n      {\n        return h(\"img\", {\n          src: itemIconString,\n          alt: alt\n          // @ts-expect-error TS does not understand but attribute exists here.\n          ,\n          referrerPolicy: \"no-referrer\",\n          loading: \"lazy\",\n          width: 16,\n          height: 16\n        });\n      }\n  }\n}", "import { h } from 'preact';\nimport ItemIcon from \"./ItemIcon.js\";\nfunction GridItem(_ref) {\n  var _file$data$name, _file$data$name2;\n  let {\n    file,\n    toggleCheckbox,\n    className,\n    isDisabled,\n    restrictionError,\n    showTitles,\n    children = null,\n    i18n\n  } = _ref;\n  return h(\"li\", {\n    className: className,\n    title: isDisabled && restrictionError ? restrictionError : undefined\n  }, h(\"input\", {\n    type: \"checkbox\",\n    className: \"uppy-u-reset uppy-ProviderBrowserItem-checkbox uppy-ProviderBrowserItem-checkbox--grid\",\n    onChange: toggleCheckbox,\n    name: \"listitem\",\n    id: file.id,\n    checked: file.status === 'checked',\n    disabled: isDisabled,\n    \"data-uppy-super-focusable\": true\n  }), h(\"label\", {\n    htmlFor: file.id,\n    \"aria-label\": (_file$data$name = file.data.name) != null ? _file$data$name : i18n('unnamed'),\n    className: \"uppy-u-reset uppy-ProviderBrowserItem-inner\"\n  }, h(ItemIcon, {\n    itemIconString: file.data.thumbnail || file.data.icon\n  }), showTitles && ((_file$data$name2 = file.data.name) != null ? _file$data$name2 : i18n('unnamed')), children));\n}\nexport default GridItem;", "import { h } from 'preact';\nimport ItemIcon from \"./ItemIcon.js\";\n\n// if folder:\n//   + checkbox (selects all files from folder)\n//   + folder name (opens folder)\n// if file:\n//   + checkbox (selects file)\n//   + file name (selects file)\n\nexport default function ListItem(_ref) {\n  var _file$data$name, _file$data$name2, _file$data$name3;\n  let {\n    file,\n    openFolder,\n    className,\n    isDisabled,\n    restrictionError,\n    toggleCheckbox,\n    showTitles,\n    i18n\n  } = _ref;\n  return h(\"li\", {\n    className: className,\n    title: file.status !== 'checked' && restrictionError ? restrictionError : undefined\n  }, h(\"input\", {\n    type: \"checkbox\",\n    className: \"uppy-u-reset uppy-ProviderBrowserItem-checkbox\",\n    onChange: toggleCheckbox\n    // for the <label/>\n    ,\n    name: \"listitem\",\n    id: file.id,\n    checked: file.status === 'checked',\n    \"aria-label\": file.data.isFolder ? i18n('allFilesFromFolderNamed', {\n      name: (_file$data$name = file.data.name) != null ? _file$data$name : i18n('unnamed')\n    }) : null,\n    disabled: isDisabled,\n    \"data-uppy-super-focusable\": true\n  }), file.data.isFolder ?\n  // button to open a folder\n  h(\"button\", {\n    type: \"button\",\n    className: \"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner\",\n    onClick: () => openFolder(file.id),\n    \"aria-label\": i18n('openFolderNamed', {\n      name: (_file$data$name2 = file.data.name) != null ? _file$data$name2 : i18n('unnamed')\n    })\n  }, h(\"div\", {\n    className: \"uppy-ProviderBrowserItem-iconWrap\"\n  }, h(ItemIcon, {\n    itemIconString: file.data.icon\n  })), showTitles && file.data.name ? h(\"span\", null, file.data.name) : i18n('unnamed'))\n  // label for a checkbox\n  : h(\"label\", {\n    htmlFor: file.id,\n    className: \"uppy-u-reset uppy-ProviderBrowserItem-inner\"\n  }, h(\"div\", {\n    className: \"uppy-ProviderBrowserItem-iconWrap\"\n  }, h(ItemIcon, {\n    itemIconString: file.data.icon\n  })), showTitles && ((_file$data$name3 = file.data.name) != null ? _file$data$name3 : i18n('unnamed'))));\n}", "import { h } from 'preact';\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore untyped\nimport VirtualList from '@uppy/utils/lib/VirtualList';\nimport { useEffect, useState } from 'preact/hooks';\nimport Item from \"./Item/index.js\";\nfunction Browser(props) {\n  const {\n    displayedPartialTree,\n    viewType,\n    toggleCheckbox,\n    handleScroll,\n    showTitles,\n    i18n,\n    isLoading,\n    openFolder,\n    noResultsLabel,\n    virtualList,\n    utmSource\n  } = props;\n  const [isShiftKeyPressed, setIsShiftKeyPressed] = useState(false);\n\n  // This records whether the user is holding the SHIFT key this very moment.\n  // Typically, this is implemented using `onClick((e) => e.shiftKey)` -\n  // however we can't use that, because for accessibility reasons\n  // we're using html tags that don't support `e.shiftKey` property (see #3768).\n  useEffect(() => {\n    const handleKeyUp = e => {\n      if (e.key === 'Shift') setIsShiftKeyPressed(false);\n    };\n    const handleKeyDown = e => {\n      if (e.key === 'Shift') setIsShiftKeyPressed(true);\n    };\n    document.addEventListener('keyup', handleKeyUp);\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keyup', handleKeyUp);\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n  if (isLoading) {\n    return h(\"div\", {\n      className: \"uppy-Provider-loading\"\n    }, typeof isLoading === 'string' ? isLoading : i18n('loading'));\n  }\n  if (displayedPartialTree.length === 0) {\n    return h(\"div\", {\n      className: \"uppy-Provider-empty\"\n    }, noResultsLabel);\n  }\n  const renderItem = item => h(Item, {\n    viewType: viewType,\n    toggleCheckbox: event => {\n      var _document$getSelectio;\n      event.stopPropagation();\n      event.preventDefault();\n      // Prevent shift-clicking from highlighting file names\n      // (https://stackoverflow.com/a/1527797/3192470)\n      (_document$getSelectio = document.getSelection()) == null || _document$getSelectio.removeAllRanges();\n      toggleCheckbox(item, isShiftKeyPressed);\n    },\n    showTitles: showTitles,\n    i18n: i18n,\n    openFolder: openFolder,\n    file: item,\n    utmSource: utmSource\n  });\n  if (virtualList) {\n    return h(\"div\", {\n      className: \"uppy-ProviderBrowser-body\"\n    }, h(\"ul\", {\n      className: \"uppy-ProviderBrowser-list\"\n    }, h(VirtualList, {\n      data: displayedPartialTree,\n      renderRow: renderItem,\n      rowHeight: 31\n    })));\n  }\n  return h(\"div\", {\n    className: \"uppy-ProviderBrowser-body\"\n  }, h(\"ul\", {\n    className: \"uppy-ProviderBrowser-list\",\n    onScroll: handleScroll,\n    role: \"listbox\"\n    // making <ul> not focusable for firefox\n    ,\n    tabIndex: -1\n  }, displayedPartialTree.map(renderItem)));\n}\nexport default Browser;", "const afterOpenFolder = (oldPartialTree, discoveredItems, clickedFolder, currentPagePath, validateSingleFile) => {\n  const discoveredFolders = discoveredItems.filter(i => i.isFolder === true);\n  const discoveredFiles = discoveredItems.filter(i => i.isFolder === false);\n  const isParentFolderChecked = clickedFolder.type === 'folder' && clickedFolder.status === 'checked';\n  const folders = discoveredFolders.map(folder => ({\n    type: 'folder',\n    id: folder.requestPath,\n    cached: false,\n    nextPagePath: null,\n    status: isParentFolderChecked ? 'checked' : 'unchecked',\n    parentId: clickedFolder.id,\n    data: folder\n  }));\n  const files = discoveredFiles.map(file => {\n    const restrictionError = validateSingleFile(file);\n    return {\n      type: 'file',\n      id: file.requestPath,\n      restrictionError,\n      status: isParentFolderChecked && !restrictionError ? 'checked' : 'unchecked',\n      parentId: clickedFolder.id,\n      data: file\n    };\n  });\n\n  // just doing `clickedFolder.cached = true` in a non-mutating way\n  const updatedClickedFolder = {\n    ...clickedFolder,\n    cached: true,\n    nextPagePath: currentPagePath\n  };\n  const partialTreeWithUpdatedClickedFolder = oldPartialTree.map(folder => folder.id === updatedClickedFolder.id ? updatedClickedFolder : folder);\n  const newPartialTree = [...partialTreeWithUpdatedClickedFolder, ...folders, ...files];\n  return newPartialTree;\n};\nexport default afterOpenFolder;", "const afterScrollFolder = (oldPartialTree, currentFolderId, items, nextPagePath, validateSingleFile) => {\n  const currentFolder = oldPartialTree.find(i => i.id === currentFolderId);\n  const newFolders = items.filter(i => i.isFolder === true);\n  const newFiles = items.filter(i => i.isFolder === false);\n\n  // just doing `scrolledFolder.nextPagePath = ...` in a non-mutating way\n  const scrolledFolder = {\n    ...currentFolder,\n    nextPagePath\n  };\n  const partialTreeWithUpdatedScrolledFolder = oldPartialTree.map(folder => folder.id === scrolledFolder.id ? scrolledFolder : folder);\n  const isParentFolderChecked = scrolledFolder.type === 'folder' && scrolledFolder.status === 'checked';\n  const folders = newFolders.map(folder => ({\n    type: 'folder',\n    id: folder.requestPath,\n    cached: false,\n    nextPagePath: null,\n    status: isParentFolderChecked ? 'checked' : 'unchecked',\n    parentId: scrolledFolder.id,\n    data: folder\n  }));\n  const files = newFiles.map(file => {\n    const restrictionError = validateSingleFile(file);\n    return {\n      type: 'file',\n      id: file.requestPath,\n      restrictionError,\n      status: isParentFolderChecked && !restrictionError ? 'checked' : 'unchecked',\n      parentId: scrolledFolder.id,\n      data: file\n    };\n  });\n  const newPartialTree = [...partialTreeWithUpdatedScrolledFolder, ...folders, ...files];\n  return newPartialTree;\n};\nexport default afterScrollFolder;", "/**\n * One-level copying is sufficient as mutations within our `partialTree` are limited to properties\n * such as `.status`, `.cached`, `.nextPagePath`, and not `.data = { THIS }`.\n */\nconst shallowClone = partialTree => {\n  return partialTree.map(item => ({\n    ...item\n  }));\n};\nexport default shallowClone;", "/* eslint-disable no-param-reassign */\n\nimport shallowClone from './shallowClone.js';\n\n/*\n  FROM        | TO\n\n  root        |  root\n    folder    |    folder\n    folder \u2705\uFE0E  |    folder \u2705\uFE0E\n      file    |      file \u2705\uFE0E\n      file    |      file \u2705\uFE0E\n      folder  |      folder \u2705\uFE0E\n        file  |        file \u2705\uFE0E\n    file      |    file\n    file      |    file\n*/\nconst percolateDown = (tree, id, shouldMarkAsChecked) => {\n  const children = tree.filter(item => item.type !== 'root' && item.parentId === id);\n  children.forEach(item => {\n    item.status = shouldMarkAsChecked && !(item.type === 'file' && item.restrictionError) ? 'checked' : 'unchecked';\n    percolateDown(tree, item.id, shouldMarkAsChecked);\n  });\n};\n\n/*\n  FROM         | TO\n\n  root         |  root\n    folder     |    folder\n    folder     |    folder [\u25AC] ('partial' status)\n      file     |      file\n      folder   |      folder \u2705\uFE0E\n        file \u2705\uFE0E |       file \u2705\uFE0E\n    file       |    file\n    file       |    file\n*/\nconst percolateUp = (tree, id) => {\n  const folder = tree.find(item => item.id === id);\n  if (folder.type === 'root') return;\n  const validChildren = tree.filter(item =>\n  // is a child\n  item.type !== 'root' && item.parentId === folder.id &&\n  // does pass validations\n  !(item.type === 'file' && item.restrictionError));\n  const areAllChildrenChecked = validChildren.every(item => item.status === 'checked');\n  const areAllChildrenUnchecked = validChildren.every(item => item.status === 'unchecked');\n  if (areAllChildrenChecked) {\n    folder.status = 'checked';\n  } else if (areAllChildrenUnchecked) {\n    folder.status = 'unchecked';\n  } else {\n    folder.status = 'partial';\n  }\n  percolateUp(tree, folder.parentId);\n};\nconst afterToggleCheckbox = (oldTree, clickedRange) => {\n  const tree = shallowClone(oldTree);\n  if (clickedRange.length >= 2) {\n    // We checked two or more items\n    const newlyCheckedItems = tree.filter(item => item.type !== 'root' && clickedRange.includes(item.id));\n    newlyCheckedItems.forEach(item => {\n      if (item.type === 'file') {\n        item.status = item.restrictionError ? 'unchecked' : 'checked';\n      } else {\n        item.status = 'checked';\n      }\n    });\n    newlyCheckedItems.forEach(item => {\n      percolateDown(tree, item.id, true);\n    });\n    percolateUp(tree, newlyCheckedItems[0].parentId);\n  } else {\n    // We checked exactly one item\n    const clickedItem = tree.find(item => item.id === clickedRange[0]);\n    clickedItem.status = clickedItem.status === 'checked' ? 'unchecked' : 'checked';\n    percolateDown(tree, clickedItem.id, clickedItem.status === 'checked');\n    percolateUp(tree, clickedItem.parentId);\n  }\n  return tree;\n};\nexport default afterToggleCheckbox;", "import EventEmitter from './index.js'\n\nexport { EventEmitter }\nexport default EventEmitter\n", "export class TimeoutError extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = 'TimeoutError';\n\t}\n}\n\n/**\nAn error to be thrown when the request is aborted by AbortController.\nDOMException is thrown instead of this Error when DOMException is available.\n*/\nexport class AbortError extends Error {\n\tconstructor(message) {\n\t\tsuper();\n\t\tthis.name = 'AbortError';\n\t\tthis.message = message;\n\t}\n}\n\n/**\nTODO: Remove AbortError and just throw DOMException when targeting Node 18.\n*/\nconst getDOMException = errorMessage => globalThis.DOMException === undefined\n\t? new AbortError(errorMessage)\n\t: new DOMException(errorMessage);\n\n/**\nTODO: Remove below function and just 'reject(signal.reason)' when targeting Node 18.\n*/\nconst getAbortedReason = signal => {\n\tconst reason = signal.reason === undefined\n\t\t? getDOMException('This operation was aborted.')\n\t\t: signal.reason;\n\n\treturn reason instanceof Error ? reason : getDOMException(reason);\n};\n\nexport default function pTimeout(promise, options) {\n\tconst {\n\t\tmilliseconds,\n\t\tfallback,\n\t\tmessage,\n\t\tcustomTimers = {setTimeout, clearTimeout},\n\t} = options;\n\n\tlet timer;\n\tlet abortHandler;\n\n\tconst wrappedPromise = new Promise((resolve, reject) => {\n\t\tif (typeof milliseconds !== 'number' || Math.sign(milliseconds) !== 1) {\n\t\t\tthrow new TypeError(`Expected \\`milliseconds\\` to be a positive number, got \\`${milliseconds}\\``);\n\t\t}\n\n\t\tif (options.signal) {\n\t\t\tconst {signal} = options;\n\t\t\tif (signal.aborted) {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t}\n\n\t\t\tabortHandler = () => {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t};\n\n\t\t\tsignal.addEventListener('abort', abortHandler, {once: true});\n\t\t}\n\n\t\tif (milliseconds === Number.POSITIVE_INFINITY) {\n\t\t\tpromise.then(resolve, reject);\n\t\t\treturn;\n\t\t}\n\n\t\t// We create the error outside of `setTimeout` to preserve the stack trace.\n\t\tconst timeoutError = new TimeoutError();\n\n\t\ttimer = customTimers.setTimeout.call(undefined, () => {\n\t\t\tif (fallback) {\n\t\t\t\ttry {\n\t\t\t\t\tresolve(fallback());\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (typeof promise.cancel === 'function') {\n\t\t\t\tpromise.cancel();\n\t\t\t}\n\n\t\t\tif (message === false) {\n\t\t\t\tresolve();\n\t\t\t} else if (message instanceof Error) {\n\t\t\t\treject(message);\n\t\t\t} else {\n\t\t\t\ttimeoutError.message = message ?? `Promise timed out after ${milliseconds} milliseconds`;\n\t\t\t\treject(timeoutError);\n\t\t\t}\n\t\t}, milliseconds);\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tresolve(await promise);\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t}\n\t\t})();\n\t});\n\n\tconst cancelablePromise = wrappedPromise.finally(() => {\n\t\tcancelablePromise.clear();\n\t\tif (abortHandler && options.signal) {\n\t\t\toptions.signal.removeEventListener('abort', abortHandler);\n\t\t}\n\t});\n\n\tcancelablePromise.clear = () => {\n\t\tcustomTimers.clearTimeout.call(undefined, timer);\n\t\ttimer = undefined;\n\t};\n\n\treturn cancelablePromise;\n}\n", "// Port of lower_bound from https://en.cppreference.com/w/cpp/algorithm/lower_bound\n// Used to compute insertion index to keep queue sorted after insertion\nexport default function lowerBound(array, value, comparator) {\n    let first = 0;\n    let count = array.length;\n    while (count > 0) {\n        const step = Math.trunc(count / 2);\n        let it = first + step;\n        if (comparator(array[it], value) <= 0) {\n            first = ++it;\n            count -= step + 1;\n        }\n        else {\n            count = step;\n        }\n    }\n    return first;\n}\n", "import lowerBound from './lower-bound.js';\nexport default class PriorityQueue {\n    #queue = [];\n    enqueue(run, options) {\n        options = {\n            priority: 0,\n            ...options,\n        };\n        const element = {\n            priority: options.priority,\n            id: options.id,\n            run,\n        };\n        if (this.size === 0 || this.#queue[this.size - 1].priority >= options.priority) {\n            this.#queue.push(element);\n            return;\n        }\n        const index = lowerBound(this.#queue, element, (a, b) => b.priority - a.priority);\n        this.#queue.splice(index, 0, element);\n    }\n    setPriority(id, priority) {\n        const index = this.#queue.findIndex((element) => element.id === id);\n        if (index === -1) {\n            throw new ReferenceError(`No promise function with the id \"${id}\" exists in the queue.`);\n        }\n        const [item] = this.#queue.splice(index, 1);\n        this.enqueue(item.run, { priority, id });\n    }\n    dequeue() {\n        const item = this.#queue.shift();\n        return item?.run;\n    }\n    filter(options) {\n        return this.#queue.filter((element) => element.priority === options.priority).map((element) => element.run);\n    }\n    get size() {\n        return this.#queue.length;\n    }\n}\n", "import { EventEmitter } from 'eventemitter3';\nimport pTimeout, { TimeoutError } from 'p-timeout';\nimport PriorityQueue from './priority-queue.js';\n/**\nPromise queue with concurrency control.\n*/\nexport default class PQueue extends EventEmitter {\n    #carryoverConcurrencyCount;\n    #isIntervalIgnored;\n    #intervalCount = 0;\n    #intervalCap;\n    #interval;\n    #intervalEnd = 0;\n    #intervalId;\n    #timeoutId;\n    #queue;\n    #queueClass;\n    #pending = 0;\n    // The `!` is needed because of https://github.com/microsoft/TypeScript/issues/32194\n    #concurrency;\n    #isPaused;\n    #throwOnTimeout;\n    // Use to assign a unique identifier to a promise function, if not explicitly specified\n    #idAssigner = 1n;\n    /**\n    Per-operation timeout in milliseconds. Operations fulfill once `timeout` elapses if they haven't already.\n\n    Applies to each future operation.\n    */\n    timeout;\n    // TODO: The `throwOnTimeout` option should affect the return types of `add()` and `addAll()`\n    constructor(options) {\n        super();\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        options = {\n            carryoverConcurrencyCount: false,\n            intervalCap: Number.POSITIVE_INFINITY,\n            interval: 0,\n            concurrency: Number.POSITIVE_INFINITY,\n            autoStart: true,\n            queueClass: PriorityQueue,\n            ...options,\n        };\n        if (!(typeof options.intervalCap === 'number' && options.intervalCap >= 1)) {\n            throw new TypeError(`Expected \\`intervalCap\\` to be a number from 1 and up, got \\`${options.intervalCap?.toString() ?? ''}\\` (${typeof options.intervalCap})`);\n        }\n        if (options.interval === undefined || !(Number.isFinite(options.interval) && options.interval >= 0)) {\n            throw new TypeError(`Expected \\`interval\\` to be a finite number >= 0, got \\`${options.interval?.toString() ?? ''}\\` (${typeof options.interval})`);\n        }\n        this.#carryoverConcurrencyCount = options.carryoverConcurrencyCount;\n        this.#isIntervalIgnored = options.intervalCap === Number.POSITIVE_INFINITY || options.interval === 0;\n        this.#intervalCap = options.intervalCap;\n        this.#interval = options.interval;\n        this.#queue = new options.queueClass();\n        this.#queueClass = options.queueClass;\n        this.concurrency = options.concurrency;\n        this.timeout = options.timeout;\n        this.#throwOnTimeout = options.throwOnTimeout === true;\n        this.#isPaused = options.autoStart === false;\n    }\n    get #doesIntervalAllowAnother() {\n        return this.#isIntervalIgnored || this.#intervalCount < this.#intervalCap;\n    }\n    get #doesConcurrentAllowAnother() {\n        return this.#pending < this.#concurrency;\n    }\n    #next() {\n        this.#pending--;\n        this.#tryToStartAnother();\n        this.emit('next');\n    }\n    #onResumeInterval() {\n        this.#onInterval();\n        this.#initializeIntervalIfNeeded();\n        this.#timeoutId = undefined;\n    }\n    get #isIntervalPaused() {\n        const now = Date.now();\n        if (this.#intervalId === undefined) {\n            const delay = this.#intervalEnd - now;\n            if (delay < 0) {\n                // Act as the interval was done\n                // We don't need to resume it here because it will be resumed on line 160\n                this.#intervalCount = (this.#carryoverConcurrencyCount) ? this.#pending : 0;\n            }\n            else {\n                // Act as the interval is pending\n                if (this.#timeoutId === undefined) {\n                    this.#timeoutId = setTimeout(() => {\n                        this.#onResumeInterval();\n                    }, delay);\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n    #tryToStartAnother() {\n        if (this.#queue.size === 0) {\n            // We can clear the interval (\"pause\")\n            // Because we can redo it later (\"resume\")\n            if (this.#intervalId) {\n                clearInterval(this.#intervalId);\n            }\n            this.#intervalId = undefined;\n            this.emit('empty');\n            if (this.#pending === 0) {\n                this.emit('idle');\n            }\n            return false;\n        }\n        if (!this.#isPaused) {\n            const canInitializeInterval = !this.#isIntervalPaused;\n            if (this.#doesIntervalAllowAnother && this.#doesConcurrentAllowAnother) {\n                const job = this.#queue.dequeue();\n                if (!job) {\n                    return false;\n                }\n                this.emit('active');\n                job();\n                if (canInitializeInterval) {\n                    this.#initializeIntervalIfNeeded();\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n    #initializeIntervalIfNeeded() {\n        if (this.#isIntervalIgnored || this.#intervalId !== undefined) {\n            return;\n        }\n        this.#intervalId = setInterval(() => {\n            this.#onInterval();\n        }, this.#interval);\n        this.#intervalEnd = Date.now() + this.#interval;\n    }\n    #onInterval() {\n        if (this.#intervalCount === 0 && this.#pending === 0 && this.#intervalId) {\n            clearInterval(this.#intervalId);\n            this.#intervalId = undefined;\n        }\n        this.#intervalCount = this.#carryoverConcurrencyCount ? this.#pending : 0;\n        this.#processQueue();\n    }\n    /**\n    Executes all queued functions until it reaches the limit.\n    */\n    #processQueue() {\n        // eslint-disable-next-line no-empty\n        while (this.#tryToStartAnother()) { }\n    }\n    get concurrency() {\n        return this.#concurrency;\n    }\n    set concurrency(newConcurrency) {\n        if (!(typeof newConcurrency === 'number' && newConcurrency >= 1)) {\n            throw new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${newConcurrency}\\` (${typeof newConcurrency})`);\n        }\n        this.#concurrency = newConcurrency;\n        this.#processQueue();\n    }\n    async #throwOnAbort(signal) {\n        return new Promise((_resolve, reject) => {\n            signal.addEventListener('abort', () => {\n                reject(signal.reason);\n            }, { once: true });\n        });\n    }\n    /**\n    Updates the priority of a promise function by its id, affecting its execution order. Requires a defined concurrency limit to take effect.\n\n    For example, this can be used to prioritize a promise function to run earlier.\n\n    ```js\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 1});\n\n    queue.add(async () => '\uD83E\uDD84', {priority: 1});\n    queue.add(async () => '\uD83E\uDD80', {priority: 0, id: '\uD83E\uDD80'});\n    queue.add(async () => '\uD83E\uDD84', {priority: 1});\n    queue.add(async () => '\uD83E\uDD84', {priority: 1});\n\n    queue.setPriority('\uD83E\uDD80', 2);\n    ```\n\n    In this case, the promise function with `id: '\uD83E\uDD80'` runs second.\n\n    You can also deprioritize a promise function to delay its execution:\n\n    ```js\n    import PQueue from 'p-queue';\n\n    const queue = new PQueue({concurrency: 1});\n\n    queue.add(async () => '\uD83E\uDD84', {priority: 1});\n    queue.add(async () => '\uD83E\uDD80', {priority: 1, id: '\uD83E\uDD80'});\n    queue.add(async () => '\uD83E\uDD84');\n    queue.add(async () => '\uD83E\uDD84', {priority: 0});\n\n    queue.setPriority('\uD83E\uDD80', -1);\n    ```\n    Here, the promise function with `id: '\uD83E\uDD80'` executes last.\n    */\n    setPriority(id, priority) {\n        this.#queue.setPriority(id, priority);\n    }\n    async add(function_, options = {}) {\n        // In case `id` is not defined.\n        options.id ??= (this.#idAssigner++).toString();\n        options = {\n            timeout: this.timeout,\n            throwOnTimeout: this.#throwOnTimeout,\n            ...options,\n        };\n        return new Promise((resolve, reject) => {\n            this.#queue.enqueue(async () => {\n                this.#pending++;\n                this.#intervalCount++;\n                try {\n                    options.signal?.throwIfAborted();\n                    let operation = function_({ signal: options.signal });\n                    if (options.timeout) {\n                        operation = pTimeout(Promise.resolve(operation), { milliseconds: options.timeout });\n                    }\n                    if (options.signal) {\n                        operation = Promise.race([operation, this.#throwOnAbort(options.signal)]);\n                    }\n                    const result = await operation;\n                    resolve(result);\n                    this.emit('completed', result);\n                }\n                catch (error) {\n                    if (error instanceof TimeoutError && !options.throwOnTimeout) {\n                        resolve();\n                        return;\n                    }\n                    reject(error);\n                    this.emit('error', error);\n                }\n                finally {\n                    this.#next();\n                }\n            }, options);\n            this.emit('add');\n            this.#tryToStartAnother();\n        });\n    }\n    async addAll(functions, options) {\n        return Promise.all(functions.map(async (function_) => this.add(function_, options)));\n    }\n    /**\n    Start (or resume) executing enqueued tasks within concurrency limit. No need to call this if queue is not paused (via `options.autoStart = false` or by `.pause()` method.)\n    */\n    start() {\n        if (!this.#isPaused) {\n            return this;\n        }\n        this.#isPaused = false;\n        this.#processQueue();\n        return this;\n    }\n    /**\n    Put queue execution on hold.\n    */\n    pause() {\n        this.#isPaused = true;\n    }\n    /**\n    Clear the queue.\n    */\n    clear() {\n        this.#queue = new this.#queueClass();\n    }\n    /**\n    Can be called multiple times. Useful if you for example add additional items at a later time.\n\n    @returns A promise that settles when the queue becomes empty.\n    */\n    async onEmpty() {\n        // Instantly resolve if the queue is empty\n        if (this.#queue.size === 0) {\n            return;\n        }\n        await this.#onEvent('empty');\n    }\n    /**\n    @returns A promise that settles when the queue size is less than the given limit: `queue.size < limit`.\n\n    If you want to avoid having the queue grow beyond a certain size you can `await queue.onSizeLessThan()` before adding a new item.\n\n    Note that this only limits the number of items waiting to start. There could still be up to `concurrency` jobs already running that this call does not include in its calculation.\n    */\n    async onSizeLessThan(limit) {\n        // Instantly resolve if the queue is empty.\n        if (this.#queue.size < limit) {\n            return;\n        }\n        await this.#onEvent('next', () => this.#queue.size < limit);\n    }\n    /**\n    The difference with `.onEmpty` is that `.onIdle` guarantees that all work from the queue has finished. `.onEmpty` merely signals that the queue is empty, but it could mean that some promises haven't completed yet.\n\n    @returns A promise that settles when the queue becomes empty, and all promises have completed; `queue.size === 0 && queue.pending === 0`.\n    */\n    async onIdle() {\n        // Instantly resolve if none pending and if nothing else is queued\n        if (this.#pending === 0 && this.#queue.size === 0) {\n            return;\n        }\n        await this.#onEvent('idle');\n    }\n    async #onEvent(event, filter) {\n        return new Promise(resolve => {\n            const listener = () => {\n                if (filter && !filter()) {\n                    return;\n                }\n                this.off(event, listener);\n                resolve();\n            };\n            this.on(event, listener);\n        });\n    }\n    /**\n    Size of the queue, the number of queued items waiting to run.\n    */\n    get size() {\n        return this.#queue.size;\n    }\n    /**\n    Size of the queue, filtered by the given options.\n\n    For example, this can be used to find the number of items remaining in the queue with a specific priority level.\n    */\n    sizeBy(options) {\n        // eslint-disable-next-line unicorn/no-array-callback-reference\n        return this.#queue.filter(options).length;\n    }\n    /**\n    Number of running items (no longer in the queue).\n    */\n    get pending() {\n        return this.#pending;\n    }\n    /**\n    Whether the queue is currently paused.\n    */\n    get isPaused() {\n        return this.#isPaused;\n    }\n}\n", "/* eslint-disable no-param-reassign */\n\n// p-queue does not have a `\"main\"` field in its `package.json`, and that makes `import/no-unresolved` freak out.\n// We can safely ignore it because bundlers will happily use the `\"exports\"` field instead.\n// eslint-disable-next-line import/no-unresolved\nimport PQueue from 'p-queue';\nimport shallowClone from './shallowClone.js';\nconst recursivelyFetch = async (queue, poorTree, poorFolder, apiList, validateSingleFile) => {\n  let items = [];\n  let currentPath = poorFolder.cached ? poorFolder.nextPagePath : poorFolder.id;\n  while (currentPath) {\n    const response = await apiList(currentPath);\n    items = items.concat(response.items);\n    currentPath = response.nextPagePath;\n  }\n  const newFolders = items.filter(i => i.isFolder === true);\n  const newFiles = items.filter(i => i.isFolder === false);\n  const folders = newFolders.map(folder => ({\n    type: 'folder',\n    id: folder.requestPath,\n    cached: false,\n    nextPagePath: null,\n    status: 'checked',\n    parentId: poorFolder.id,\n    data: folder\n  }));\n  const files = newFiles.map(file => {\n    const restrictionError = validateSingleFile(file);\n    return {\n      type: 'file',\n      id: file.requestPath,\n      restrictionError,\n      status: restrictionError ? 'unchecked' : 'checked',\n      parentId: poorFolder.id,\n      data: file\n    };\n  });\n  poorFolder.cached = true;\n  poorFolder.nextPagePath = null;\n  poorTree.push(...files, ...folders);\n  folders.forEach(async folder => {\n    queue.add(() => recursivelyFetch(queue, poorTree, folder, apiList, validateSingleFile));\n  });\n};\nconst afterFill = async (partialTree, apiList, validateSingleFile, reportProgress) => {\n  const queue = new PQueue({\n    concurrency: 6\n  });\n\n  // fill up the missing parts of a partialTree!\n  const poorTree = shallowClone(partialTree);\n  const poorFolders = poorTree.filter(item => item.type === 'folder' && item.status === 'checked' && (\n  // either \"not yet cached at all\" or \"some pages are left to fetch\"\n  item.cached === false || item.nextPagePath));\n  // per each poor folder, recursively fetch all files and make them .checked!\n  poorFolders.forEach(poorFolder => {\n    queue.add(() => recursivelyFetch(queue, poorTree, poorFolder, apiList, validateSingleFile));\n  });\n  queue.on('completed', () => {\n    const nOfFilesChecked = poorTree.filter(i => i.type === 'file' && i.status === 'checked').length;\n    reportProgress(nOfFilesChecked);\n  });\n  await queue.onIdle();\n  return poorTree;\n};\nexport default afterFill;", "import afterOpenFolder from './afterOpenFolder.js';\nimport afterScrollFolder from './afterScrollFolder.js';\nimport afterToggleCheckbox from './afterToggleCheckbox.js';\nimport afterFill from './afterFill.js';\nexport default {\n  afterOpenFolder,\n  afterScrollFolder,\n  afterToggleCheckbox,\n  afterFill\n};", "const shouldHandleScroll = event => {\n  const {\n    scrollHeight,\n    scrollTop,\n    offsetHeight\n  } = event.target;\n  const scrollPosition = scrollHeight - (scrollTop + offsetHeight);\n  return scrollPosition < 50;\n};\nexport default shouldHandleScroll;", "const handleError = uppy => error => {\n  // authError just means we're not authenticated, don't report it\n  if (error.isAuthError) {\n    return;\n  }\n  // AbortError means the user has clicked \"cancel\" on an operation\n  if (error.name === 'AbortError') {\n    uppy.log('Aborting request', 'warning');\n    return;\n  }\n  uppy.log(error, 'error');\n  if (error.name === 'UserFacingApiError') {\n    uppy.info({\n      message: uppy.i18n('companionError'),\n      details: uppy.i18n(error.message)\n    }, 'warning', 5000);\n  }\n};\nexport default handleError;", "// Shift-clicking selects a single consecutive list of items\n// starting at the previous click.\nconst getClickedRange = (clickedId, displayedPartialTree, isShiftKeyPressed, lastCheckbox) => {\n  const lastCheckboxIndex = displayedPartialTree.findIndex(item => item.id === lastCheckbox);\n  if (lastCheckboxIndex !== -1 && isShiftKeyPressed) {\n    const newCheckboxIndex = displayedPartialTree.findIndex(item => item.id === clickedId);\n    const clickedRange = displayedPartialTree.slice(Math.min(lastCheckboxIndex, newCheckboxIndex), Math.max(lastCheckboxIndex, newCheckboxIndex) + 1);\n    return clickedRange.map(item => item.id);\n  }\n  return [clickedId];\n};\nexport default getClickedRange;", "/* @ts-self-types=\"./index.d.ts\" */\nlet urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport let customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size | 0\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let i = size | 0\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n", "import { h } from 'preact';\nimport { useEffect, useState, useCallback } from 'preact/hooks';\nimport { nanoid } from 'nanoid/non-secure';\nfunction SearchInput(_ref) {\n  let {\n    searchString,\n    setSearchString,\n    submitSearchString,\n    wrapperClassName,\n    inputClassName,\n    inputLabel,\n    clearSearchLabel = '',\n    showButton = false,\n    buttonLabel = '',\n    buttonCSSClassName = ''\n  } = _ref;\n  const onInput = e => {\n    setSearchString(e.target.value);\n  };\n  const submit = useCallback(ev => {\n    ev.preventDefault();\n    submitSearchString();\n  }, [submitSearchString]);\n\n  // We do this to avoid nested <form>s\n  // (See https://github.com/transloadit/uppy/pull/5050#discussion_r1640392516)\n  const [form] = useState(() => {\n    const formEl = document.createElement('form');\n    formEl.setAttribute('tabindex', '-1');\n    formEl.id = nanoid();\n    return formEl;\n  });\n  useEffect(() => {\n    document.body.appendChild(form);\n    form.addEventListener('submit', submit);\n    return () => {\n      form.removeEventListener('submit', submit);\n      document.body.removeChild(form);\n    };\n  }, [form, submit]);\n  return h(\"section\", {\n    className: wrapperClassName\n  }, h(\"input\", {\n    className: `uppy-u-reset ${inputClassName}`,\n    type: \"search\",\n    \"aria-label\": inputLabel,\n    placeholder: inputLabel,\n    value: searchString,\n    onInput: onInput,\n    form: form.id,\n    \"data-uppy-super-focusable\": true\n  }), !showButton &&\n  // \uD83D\uDD0D\n  h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon uppy-ProviderBrowser-searchFilterIcon\",\n    width: \"12\",\n    height: \"12\",\n    viewBox: \"0 0 12 12\"\n  }, h(\"path\", {\n    d: \"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z\"\n  })), !showButton && searchString &&\n  // \u274C\n  h(\"button\", {\n    className: \"uppy-u-reset uppy-ProviderBrowser-searchFilterReset\",\n    type: \"button\",\n    \"aria-label\": clearSearchLabel,\n    title: clearSearchLabel,\n    onClick: () => setSearchString('')\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    viewBox: \"0 0 19 19\"\n  }, h(\"path\", {\n    d: \"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z\"\n  }))), showButton && h(\"button\", {\n    className: `uppy-u-reset uppy-c-btn uppy-c-btn-primary ${buttonCSSClassName}`,\n    type: \"submit\",\n    form: form.id\n  }, buttonLabel));\n}\nexport default SearchInput;", "import { h } from 'preact';\nimport classNames from 'classnames';\nimport { useMemo } from 'preact/hooks';\nimport getNumberOfSelectedFiles from './utils/PartialTreeUtils/getNumberOfSelectedFiles.js';\nexport default function FooterActions(_ref) {\n  let {\n    cancelSelection,\n    donePicking,\n    i18n,\n    partialTree,\n    validateAggregateRestrictions\n  } = _ref;\n  const aggregateRestrictionError = useMemo(() => {\n    return validateAggregateRestrictions(partialTree);\n  }, [partialTree, validateAggregateRestrictions]);\n  const nOfSelectedFiles = useMemo(() => {\n    return getNumberOfSelectedFiles(partialTree);\n  }, [partialTree]);\n  if (nOfSelectedFiles === 0) {\n    return null;\n  }\n  return h(\"div\", {\n    className: \"uppy-ProviderBrowser-footer\"\n  }, h(\"div\", {\n    className: \"uppy-ProviderBrowser-footer-buttons\"\n  }, h(\"button\", {\n    className: classNames('uppy-u-reset uppy-c-btn uppy-c-btn-primary', {\n      'uppy-c-btn--disabled': aggregateRestrictionError\n    }),\n    disabled: !!aggregateRestrictionError,\n    onClick: donePicking,\n    type: \"button\"\n  }, i18n('selectX', {\n    smart_count: nOfSelectedFiles\n  })), h(\"button\", {\n    className: \"uppy-u-reset uppy-c-btn uppy-c-btn-link\",\n    onClick: cancelSelection,\n    type: \"button\"\n  }, i18n('cancel'))), aggregateRestrictionError && h(\"div\", {\n    className: \"uppy-ProviderBrowser-footer-error\"\n  }, aggregateRestrictionError));\n}", "/**\n * We're interested in all 'checked' leaves of this tree,\n * but we don't yet know how many files there are inside of each checked folder.\n * `getNumberOfSelectedFiles()` returns the most intuitive number we can show to the user\n * in this situation.\n */\nconst getNumberOfSelectedFiles = partialTree => {\n  const checkedLeaves = partialTree.filter(item => {\n    if (item.type === 'file' && item.status === 'checked') {\n      return true;\n    }\n    if (item.type === 'folder' && item.status === 'checked') {\n      const doesItHaveChildren = partialTree.some(i => i.type !== 'root' && i.parentId === item.id);\n      return !doesItHaveChildren;\n    }\n    return false;\n  });\n  return checkedLeaves.length;\n};\nexport default getNumberOfSelectedFiles;", "// TODO: document what is a \"tagFile\" or get rid of this concept\nconst getTagFile = (file, plugin, provider) => {\n  var _file$author, _file$author2;\n  const tagFile = {\n    id: file.id,\n    source: plugin.id,\n    name: file.name || file.id,\n    type: file.mimeType,\n    isRemote: true,\n    data: file,\n    preview: file.thumbnail || undefined,\n    meta: {\n      authorName: (_file$author = file.author) == null ? void 0 : _file$author.name,\n      authorUrl: (_file$author2 = file.author) == null ? void 0 : _file$author2.url,\n      // We need to do this `|| null` check, because null value\n      // for .relDirPath is `undefined` and for .relativePath is `null`.\n      // I do think we should just use `null` everywhere.\n      relativePath: file.relDirPath || null,\n      absolutePath: file.absDirPath\n    },\n    body: {\n      fileId: file.id\n    },\n    remote: {\n      companionUrl: plugin.opts.companionUrl,\n      url: `${provider.fileUrl(file.requestPath)}`,\n      body: {\n        fileId: file.id\n      },\n      providerName: provider.name,\n      provider: provider.provider,\n      requestClientId: provider.provider\n    }\n  };\n  return tagFile;\n};\nexport default getTagFile;", "import { getSafeFileId } from '@uppy/utils/lib/generateFileID';\nimport getTagFile from './getTagFile.js';\nconst addFiles = (companionFiles, plugin, provider) => {\n  const tagFiles = companionFiles.map(f => getTagFile(f, plugin, provider));\n  const filesToAdd = [];\n  const filesAlreadyAdded = [];\n  tagFiles.forEach(tagFile => {\n    if (plugin.uppy.checkIfFileAlreadyExists(getSafeFileId(tagFile, plugin.uppy.getID()))) {\n      filesAlreadyAdded.push(tagFile);\n    } else {\n      filesToAdd.push(tagFile);\n    }\n  });\n  if (filesToAdd.length > 0) {\n    plugin.uppy.info(plugin.uppy.i18n('addedNumFiles', {\n      numFiles: filesToAdd.length\n    }));\n  }\n  if (filesAlreadyAdded.length > 0) {\n    plugin.uppy.info(`Not adding ${filesAlreadyAdded.length} files because they already exist`);\n  }\n  plugin.uppy.addFiles(filesToAdd);\n};\nexport default addFiles;", "/* eslint-disable no-param-reassign */\n\nconst getPath = (partialTree, id, cache) => {\n  const sId = id === null ? 'null' : id;\n  if (cache[sId]) return cache[sId];\n  const file = partialTree.find(f => f.id === id);\n  if (file.type === 'root') return [];\n  const meAndParentPath = [...getPath(partialTree, file.parentId, cache), file];\n  cache[sId] = meAndParentPath;\n  return meAndParentPath;\n};\n\n// See \"Uppy file properties\" documentation for `.absolutePath` and `.relativePath`\n// (https://uppy.io/docs/uppy/#working-with-uppy-files)\nconst getCheckedFilesWithPaths = partialTree => {\n  // Equivalent to `const cache = {}`, but makes keys such as 'hasOwnProperty' safe too\n  const cache = Object.create(null);\n\n  // We're only interested in injecting paths into 'checked' files\n  const checkedFiles = partialTree.filter(item => item.type === 'file' && item.status === 'checked');\n  const companionFilesWithInjectedPaths = checkedFiles.map(file => {\n    const absFolders = getPath(partialTree, file.id, cache);\n    const firstCheckedFolderIndex = absFolders.findIndex(i => i.type === 'folder' && i.status === 'checked');\n    const relFolders = absFolders.slice(firstCheckedFolderIndex);\n    const absDirPath = `/${absFolders.map(i => i.data.name).join('/')}`;\n    const relDirPath = relFolders.length === 1 ?\n    // Must return `undefined` (which later turns into `null` in `.getTagFile()`)\n    // (https://github.com/transloadit/uppy/pull/4537#issuecomment-1629136652)\n    undefined : relFolders.map(i => i.data.name).join('/');\n    return {\n      ...file.data,\n      absDirPath,\n      relDirPath\n    };\n  });\n  return companionFilesWithInjectedPaths;\n};\nexport default getCheckedFilesWithPaths;", "const getBreadcrumbs = (partialTree, currentFolderId) => {\n  let folder = partialTree.find(f => f.id === currentFolderId);\n  let breadcrumbs = [];\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    breadcrumbs = [folder, ...breadcrumbs];\n    if (folder.type === 'root') break;\n    const currentParentId = folder.parentId;\n    folder = partialTree.find(f => f.id === currentParentId);\n  }\n  return breadcrumbs;\n};\nexport default getBreadcrumbs;", "import { h } from 'preact';\nimport classNames from 'classnames';\nimport remoteFileObjToLocal from '@uppy/utils/lib/remoteFileObjToLocal';\nimport SearchInput from \"../SearchInput.js\";\nimport Browser from \"../Browser.js\";\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.4.3\"\n};\nimport PartialTreeUtils from '../utils/PartialTreeUtils/index.js';\nimport shouldHandleScroll from '../utils/shouldHandleScroll.js';\nimport handleError from '../utils/handleError.js';\nimport getClickedRange from '../utils/getClickedRange.js';\nimport FooterActions from \"../FooterActions.js\";\nimport addFiles from '../utils/addFiles.js';\nimport getCheckedFilesWithPaths from '../utils/PartialTreeUtils/getCheckedFilesWithPaths.js';\nconst defaultState = {\n  loading: false,\n  searchString: '',\n  partialTree: [{\n    type: 'root',\n    id: null,\n    cached: false,\n    nextPagePath: null\n  }],\n  currentFolderId: null,\n  isInputMode: true\n};\nconst defaultOptions = {\n  viewType: 'grid',\n  showTitles: true,\n  showFilter: true,\n  utmSource: 'Companion'\n};\n\n/**\n * SearchProviderView, used for Unsplash and future image search providers.\n * Extends generic View, shared with regular providers like Google Drive and Instagram.\n */\nexport default class SearchProviderView {\n  constructor(plugin, opts) {\n    this.isHandlingScroll = false;\n    this.lastCheckbox = null;\n    this.validateSingleFile = file => {\n      const companionFile = remoteFileObjToLocal(file);\n      const result = this.plugin.uppy.validateSingleFile(companionFile);\n      return result;\n    };\n    this.getDisplayedPartialTree = () => {\n      const {\n        partialTree\n      } = this.plugin.getPluginState();\n      return partialTree.filter(item => item.type !== 'root');\n    };\n    this.setSearchString = searchString => {\n      this.plugin.setPluginState({\n        searchString\n      });\n      if (searchString === '') {\n        this.plugin.setPluginState({\n          partialTree: []\n        });\n      }\n    };\n    this.validateAggregateRestrictions = partialTree => {\n      const checkedFiles = partialTree.filter(item => item.type === 'file' && item.status === 'checked');\n      const uppyFiles = checkedFiles.map(file => file.data);\n      return this.plugin.uppy.validateAggregateRestrictions(uppyFiles);\n    };\n    this.plugin = plugin;\n    this.provider = opts.provider;\n    this.opts = {\n      ...defaultOptions,\n      ...opts\n    };\n    this.setSearchString = this.setSearchString.bind(this);\n    this.search = this.search.bind(this);\n    this.resetPluginState = this.resetPluginState.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n    this.donePicking = this.donePicking.bind(this);\n    this.cancelSelection = this.cancelSelection.bind(this);\n    this.toggleCheckbox = this.toggleCheckbox.bind(this);\n    this.render = this.render.bind(this);\n\n    // Set default state for the plugin\n    this.resetPluginState();\n\n    // @ts-expect-error this should be typed in @uppy/dashboard.\n    this.plugin.uppy.on('dashboard:close-panel', this.resetPluginState);\n    this.plugin.uppy.registerRequestClient(this.provider.provider, this.provider);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  tearDown() {\n    // Nothing.\n  }\n  setLoading(loading) {\n    this.plugin.setPluginState({\n      loading\n    });\n  }\n  resetPluginState() {\n    this.plugin.setPluginState(defaultState);\n  }\n  cancelSelection() {\n    const {\n      partialTree\n    } = this.plugin.getPluginState();\n    const newPartialTree = partialTree.map(item => item.type === 'root' ? item : {\n      ...item,\n      status: 'unchecked'\n    });\n    this.plugin.setPluginState({\n      partialTree: newPartialTree\n    });\n  }\n  async search() {\n    const {\n      searchString\n    } = this.plugin.getPluginState();\n    if (searchString === '') return;\n    this.setLoading(true);\n    try {\n      const response = await this.provider.search(searchString);\n      const newPartialTree = [{\n        type: 'root',\n        id: null,\n        cached: false,\n        nextPagePath: response.nextPageQuery\n      }, ...response.items.map(item => ({\n        type: 'file',\n        id: item.requestPath,\n        status: 'unchecked',\n        parentId: null,\n        data: item\n      }))];\n      this.plugin.setPluginState({\n        partialTree: newPartialTree,\n        isInputMode: false\n      });\n    } catch (error) {\n      handleError(this.plugin.uppy)(error);\n    }\n    this.setLoading(false);\n  }\n  async handleScroll(event) {\n    const {\n      partialTree,\n      searchString\n    } = this.plugin.getPluginState();\n    const root = partialTree.find(i => i.type === 'root');\n    if (shouldHandleScroll(event) && !this.isHandlingScroll && root.nextPagePath) {\n      this.isHandlingScroll = true;\n      try {\n        const response = await this.provider.search(searchString, root.nextPagePath);\n        const newRoot = {\n          ...root,\n          nextPagePath: response.nextPageQuery\n        };\n        const oldItems = partialTree.filter(i => i.type !== 'root');\n        const newPartialTree = [newRoot, ...oldItems, ...response.items.map(item => ({\n          type: 'file',\n          id: item.requestPath,\n          status: 'unchecked',\n          parentId: null,\n          data: item\n        }))];\n        this.plugin.setPluginState({\n          partialTree: newPartialTree\n        });\n      } catch (error) {\n        handleError(this.plugin.uppy)(error);\n      }\n      this.isHandlingScroll = false;\n    }\n  }\n  async donePicking() {\n    const {\n      partialTree\n    } = this.plugin.getPluginState();\n\n    // 1. Add files\n    const companionFiles = getCheckedFilesWithPaths(partialTree);\n    addFiles(companionFiles, this.plugin, this.provider);\n\n    // 2. Reset state\n    this.resetPluginState();\n  }\n  toggleCheckbox(ourItem, isShiftKeyPressed) {\n    const {\n      partialTree\n    } = this.plugin.getPluginState();\n    const clickedRange = getClickedRange(ourItem.id, this.getDisplayedPartialTree(), isShiftKeyPressed, this.lastCheckbox);\n    const newPartialTree = PartialTreeUtils.afterToggleCheckbox(partialTree, clickedRange);\n    this.plugin.setPluginState({\n      partialTree: newPartialTree\n    });\n    this.lastCheckbox = ourItem.id;\n  }\n  render(state, viewOptions) {\n    if (viewOptions === void 0) {\n      viewOptions = {};\n    }\n    const {\n      isInputMode,\n      searchString,\n      loading,\n      partialTree\n    } = this.plugin.getPluginState();\n    const {\n      i18n\n    } = this.plugin.uppy;\n    const opts = {\n      ...this.opts,\n      ...viewOptions\n    };\n    if (isInputMode) {\n      return h(SearchInput, {\n        searchString: searchString,\n        setSearchString: this.setSearchString,\n        submitSearchString: this.search,\n        inputLabel: i18n('enterTextToSearch'),\n        buttonLabel: i18n('searchImages'),\n        wrapperClassName: \"uppy-SearchProvider\",\n        inputClassName: \"uppy-c-textInput uppy-SearchProvider-input\",\n        showButton: true,\n        buttonCSSClassName: \"uppy-SearchProvider-searchButton\"\n      });\n    }\n    return h(\"div\", {\n      className: classNames('uppy-ProviderBrowser', `uppy-ProviderBrowser-viewType--${opts.viewType}`)\n    }, opts.showFilter && h(SearchInput, {\n      searchString: searchString,\n      setSearchString: this.setSearchString,\n      submitSearchString: this.search,\n      inputLabel: i18n('search'),\n      clearSearchLabel: i18n('resetSearch'),\n      wrapperClassName: \"uppy-ProviderBrowser-searchFilter\",\n      inputClassName: \"uppy-ProviderBrowser-searchFilterInput\"\n    }), h(Browser, {\n      toggleCheckbox: this.toggleCheckbox,\n      displayedPartialTree: this.getDisplayedPartialTree(),\n      handleScroll: this.handleScroll,\n      openFolder: async () => {},\n      noResultsLabel: i18n('noSearchResults'),\n      viewType: opts.viewType,\n      showTitles: opts.showTitles,\n      isLoading: loading,\n      i18n: i18n,\n      virtualList: false,\n      utmSource: this.opts.utmSource\n    }), h(FooterActions, {\n      partialTree: partialTree,\n      donePicking: this.donePicking,\n      cancelSelection: this.cancelSelection,\n      i18n: i18n,\n      validateAggregateRestrictions: this.validateAggregateRestrictions\n    }));\n  }\n}\nSearchProviderView.VERSION = packageJson.version;", "/* @ts-self-types=\"./index.d.ts\" */\nlet urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport let customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size | 0\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let i = size | 0\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n", "var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var cache = null;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (cache && cache.lastThis === this && isEqual(newArgs, cache.lastArgs)) {\n            return cache.lastResult;\n        }\n        var lastResult = resultFn.apply(this, newArgs);\n        cache = {\n            lastResult: lastResult,\n            lastArgs: newArgs,\n            lastThis: this,\n        };\n        return lastResult;\n    }\n    memoized.clear = function clear() {\n        cache = null;\n    };\n    return memoized;\n}\n\nexport { memoizeOne as default };\n", "export default ['a[href]:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', 'area[href]:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', 'input:not([disabled]):not([inert]):not([aria-hidden])', 'select:not([disabled]):not([inert]):not([aria-hidden])', 'textarea:not([disabled]):not([inert]):not([aria-hidden])', 'button:not([disabled]):not([inert]):not([aria-hidden])', 'iframe:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', 'object:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', 'embed:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', '[contenteditable]:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', '[tabindex]:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])'];", "/**\n * @returns {HTMLElement} - either dashboard element, or the overlay that's most on top\n */\nexport default function getActiveOverlayEl(dashboardEl, activeOverlayType) {\n  if (activeOverlayType) {\n    const overlayEl = dashboardEl.querySelector(`[data-uppy-paneltype=\"${activeOverlayType}\"]`);\n    // if an overlay is already mounted\n    if (overlayEl) return overlayEl;\n  }\n  return dashboardEl;\n}", "import toArray from '@uppy/utils/lib/toArray';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore untyped\nimport FOCUSABLE_ELEMENTS from '@uppy/utils/lib/FOCUSABLE_ELEMENTS';\nimport getActiveOverlayEl from './getActiveOverlayEl.js';\nfunction focusOnFirstNode(event, nodes) {\n  const node = nodes[0];\n  if (node) {\n    node.focus();\n    event.preventDefault();\n  }\n}\nfunction focusOnLastNode(event, nodes) {\n  const node = nodes[nodes.length - 1];\n  if (node) {\n    node.focus();\n    event.preventDefault();\n  }\n}\n\n// ___Why not just use (focusedItemIndex === -1)?\n//    Firefox thinks <ul> is focusable, but we don't have <ul>s in our FOCUSABLE_ELEMENTS. Which means that if we tab into\n//    the <ul>, code will think that we are not in the active overlay, and we should focusOnFirstNode() of the currently\n//    active overlay!\n//    [Practical check] if we use (focusedItemIndex === -1), instagram provider in firefox will never get focus on its pics\n//    in the <ul>.\nfunction isFocusInOverlay(activeOverlayEl) {\n  return activeOverlayEl.contains(document.activeElement);\n}\nfunction trapFocus(event, activeOverlayType, dashboardEl) {\n  const activeOverlayEl = getActiveOverlayEl(dashboardEl, activeOverlayType);\n  const focusableNodes = toArray(activeOverlayEl.querySelectorAll(FOCUSABLE_ELEMENTS));\n  const focusedItemIndex = focusableNodes.indexOf(document.activeElement);\n\n  // If we pressed tab, and focus is not yet within the current overlay - focus on\n  // the first element within the current overlay.\n  // This is a safety measure (for when user returns from another tab e.g.), most\n  // plugins will try to focus on some important element as it loads.\n  if (!isFocusInOverlay(activeOverlayEl)) {\n    focusOnFirstNode(event, focusableNodes);\n    // If we pressed shift + tab, and we're on the first element of a modal\n  } else if (event.shiftKey && focusedItemIndex === 0) {\n    focusOnLastNode(event, focusableNodes);\n    // If we pressed tab, and we're on the last element of the modal\n  } else if (!event.shiftKey && focusedItemIndex === focusableNodes.length - 1) {\n    focusOnFirstNode(event, focusableNodes);\n  }\n}\n\n// Traps focus inside of the currently open overlay (e.g. Dashboard, or e.g. Instagram),\n// never lets focus disappear from the modal.\nexport { trapFocus as forModal };\n\n// Traps focus inside of the currently open overlay, unless overlay is null - then let the user tab away.\nexport function forInline(event, activeOverlayType, dashboardEl) {\n  // ___When we're in the bare 'Drop files here, paste, browse or import from' screen\n  if (activeOverlayType === null) {\n    // Do nothing and let the browser handle it, user can tab away from Uppy to other elements on the page\n    // ___When there is some overlay with 'Done' button\n  } else {\n    // Trap the focus inside this overlay!\n    // User can close the overlay (click 'Done') if they want to travel away from Uppy.\n    trapFocus(event, activeOverlayType, dashboardEl);\n  }\n}", "import debounce from 'lodash/debounce.js';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore untyped\nimport FOCUSABLE_ELEMENTS from '@uppy/utils/lib/FOCUSABLE_ELEMENTS';\nimport getActiveOverlayEl from './getActiveOverlayEl.js';\n/*\n  Focuses on some element in the currently topmost overlay.\n\n  1. If there are some [data-uppy-super-focusable] elements rendered already - focuses\n     on the first superfocusable element, and leaves focus up to the control of\n     a user (until currently focused element disappears from the screen [which\n     can happen when overlay changes, or, e.g., when we click on a folder in googledrive]).\n  2. If there are no [data-uppy-super-focusable] elements yet (or ever) - focuses\n     on the first focusable element, but switches focus if superfocusable elements appear on next render.\n*/\nexport default function createSuperFocus() {\n  let lastFocusWasOnSuperFocusableEl = false;\n  const superFocus = (dashboardEl, activeOverlayType) => {\n    const overlayEl = getActiveOverlayEl(dashboardEl, activeOverlayType);\n    const isFocusInOverlay = overlayEl.contains(document.activeElement);\n    // If focus is already in the topmost overlay, AND on last update we focused on the superfocusable\n    // element - then leave focus up to the user.\n    // [Practical check] without this line, typing in the search input in googledrive overlay won't work.\n    if (isFocusInOverlay && lastFocusWasOnSuperFocusableEl) return;\n    const superFocusableEl = overlayEl.querySelector('[data-uppy-super-focusable]');\n    // If we are already in the topmost overlay, AND there are no super focusable elements yet, - leave focus up to the user.\n    // [Practical check] without this line, if you are in an empty folder in google drive, and something's uploading in the\n    // bg, - focus will be jumping to Done all the time.\n    if (isFocusInOverlay && !superFocusableEl) return;\n    if (superFocusableEl) {\n      superFocusableEl.focus({\n        preventScroll: true\n      });\n      lastFocusWasOnSuperFocusableEl = true;\n    } else {\n      const firstEl = overlayEl.querySelector(FOCUSABLE_ELEMENTS);\n      firstEl == null || firstEl.focus({\n        preventScroll: true\n      });\n      lastFocusWasOnSuperFocusableEl = false;\n    }\n  };\n\n  // ___Why do we need to debounce?\n  //    1. To deal with animations: overlay changes via animations, which results in the DOM updating AFTER plugin.update()\n  //       already executed.\n  //    [Practical check] without debounce, if we open the Url overlay, and click 'Done', Dashboard won't get focused again.\n  //    [Practical check] if we delay 250ms instead of 260ms - IE11 won't get focused in same situation.\n  //    2. Performance: there can be many state update()s in a second, and this function is called every time.\n  return debounce(superFocus, 260);\n}", "function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\n/* eslint-disable react/destructuring-assignment, react/jsx-props-no-spreading */\nimport { h } from 'preact';\nimport classNames from 'classnames';\nimport isDragDropSupported from '@uppy/utils/lib/isDragDropSupported';\nimport FileList from \"./FileList.js\";\nimport AddFiles from \"./AddFiles.js\";\nimport AddFilesPanel from \"./AddFilesPanel.js\";\nimport PickerPanelContent from \"./PickerPanelContent.js\";\nimport EditorPanel from \"./EditorPanel.js\";\nimport PanelTopBar from \"./PickerPanelTopBar.js\";\nimport FileCard from \"./FileCard/index.js\";\nimport Slide from \"./Slide.js\";\n// http://dev.edenspiekermann.com/2016/02/11/introducing-accessible-modal-dialog\n// https://github.com/ghosh/micromodal\n\nconst WIDTH_XL = 900;\nconst WIDTH_LG = 700;\nconst WIDTH_MD = 576;\nconst HEIGHT_MD = 330;\n// We might want to enable this in the future\n// const HEIGHT_LG = 400\n// const HEIGHT_XL = 460\n\nexport default function Dashboard(props) {\n  const isNoFiles = props.totalFileCount === 0;\n  const isSingleFile = props.totalFileCount === 1;\n  const isSizeMD = props.containerWidth > WIDTH_MD;\n  const isSizeHeightMD = props.containerHeight > HEIGHT_MD;\n  const dashboardClassName = classNames({\n    'uppy-Dashboard': true,\n    'uppy-Dashboard--isDisabled': props.disabled,\n    'uppy-Dashboard--animateOpenClose': props.animateOpenClose,\n    'uppy-Dashboard--isClosing': props.isClosing,\n    'uppy-Dashboard--isDraggingOver': props.isDraggingOver,\n    'uppy-Dashboard--modal': !props.inline,\n    'uppy-size--md': props.containerWidth > WIDTH_MD,\n    'uppy-size--lg': props.containerWidth > WIDTH_LG,\n    'uppy-size--xl': props.containerWidth > WIDTH_XL,\n    'uppy-size--height-md': props.containerHeight > HEIGHT_MD,\n    // We might want to enable this in the future\n    // 'uppy-size--height-lg': props.containerHeight > HEIGHT_LG,\n    // 'uppy-size--height-xl': props.containerHeight > HEIGHT_XL,\n    'uppy-Dashboard--isAddFilesPanelVisible': props.showAddFilesPanel,\n    'uppy-Dashboard--isInnerWrapVisible': props.areInsidesReadyToBeVisible,\n    // Only enable \u201Ccentered single file\u201D mode when Dashboard is tall enough\n    'uppy-Dashboard--singleFile': props.singleFileFullScreen && isSingleFile && isSizeHeightMD\n  });\n\n  // Important: keep these in sync with the percent width values in `src/components/FileItem/index.scss`.\n  let itemsPerRow = 1; // mobile\n  if (props.containerWidth > WIDTH_XL) {\n    itemsPerRow = 5;\n  } else if (props.containerWidth > WIDTH_LG) {\n    itemsPerRow = 4;\n  } else if (props.containerWidth > WIDTH_MD) {\n    itemsPerRow = 3;\n  }\n  const showFileList = props.showSelectedFiles && !isNoFiles;\n  const numberOfFilesForRecovery = props.recoveredState ? Object.keys(props.recoveredState.files).length : null;\n  const numberOfGhosts = props.files ? Object.keys(props.files).filter(fileID => props.files[fileID].isGhost).length : 0;\n  const renderRestoredText = () => {\n    if (numberOfGhosts > 0) {\n      return props.i18n('recoveredXFiles', {\n        smart_count: numberOfGhosts\n      });\n    }\n    return props.i18n('recoveredAllFiles');\n  };\n  const dashboard = h(\"div\", {\n    className: dashboardClassName,\n    \"data-uppy-theme\": props.theme,\n    \"data-uppy-num-acquirers\": props.acquirers.length,\n    \"data-uppy-drag-drop-supported\": !props.disableLocalFiles && isDragDropSupported(),\n    \"aria-hidden\": props.inline ? 'false' : props.isHidden,\n    \"aria-disabled\": props.disabled,\n    \"aria-label\": !props.inline ? props.i18n('dashboardWindowTitle') : props.i18n('dashboardTitle'),\n    onPaste: props.handlePaste,\n    onDragOver: props.handleDragOver,\n    onDragLeave: props.handleDragLeave,\n    onDrop: props.handleDrop\n  }, h(\"div\", {\n    \"aria-hidden\": \"true\",\n    className: \"uppy-Dashboard-overlay\",\n    tabIndex: -1,\n    onClick: props.handleClickOutside\n  }), h(\"div\", {\n    className: \"uppy-Dashboard-inner\",\n    \"aria-modal\": !props.inline && 'true',\n    role: props.inline ? undefined : 'dialog',\n    style: {\n      width: props.inline && props.width ? props.width : '',\n      height: props.inline && props.height ? props.height : ''\n    }\n  }, !props.inline ? h(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-close\",\n    type: \"button\",\n    \"aria-label\": props.i18n('closeModal'),\n    title: props.i18n('closeModal'),\n    onClick: props.closeModal\n  }, h(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\xD7\")) : null, h(\"div\", {\n    className: \"uppy-Dashboard-innerWrap\"\n  }, h(\"div\", {\n    className: \"uppy-Dashboard-dropFilesHereHint\"\n  }, props.i18n('dropHint')), showFileList && h(PanelTopBar, props), numberOfFilesForRecovery && h(\"div\", {\n    className: \"uppy-Dashboard-serviceMsg\"\n  }, h(\"svg\", {\n    className: \"uppy-Dashboard-serviceMsg-icon\",\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"21\",\n    height: \"16\",\n    viewBox: \"0 0 24 19\"\n  }, h(\"g\", {\n    transform: \"translate(0 -1)\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, h(\"path\", {\n    d: \"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z\",\n    fill: \"#FFD300\"\n  }), h(\"path\", {\n    fill: \"#000\",\n    d: \"M11 6h2l-.3 8h-1.4z\"\n  }), h(\"circle\", {\n    fill: \"#000\",\n    cx: \"12\",\n    cy: \"17\",\n    r: \"1\"\n  }))), h(\"strong\", {\n    className: \"uppy-Dashboard-serviceMsg-title\"\n  }, props.i18n('sessionRestored')), h(\"div\", {\n    className: \"uppy-Dashboard-serviceMsg-text\"\n  }, renderRestoredText())), showFileList ? h(FileList, {\n    id: props.id,\n    i18n: props.i18n,\n    uppy: props.uppy,\n    files: props.files,\n    resumableUploads: props.resumableUploads,\n    hideRetryButton: props.hideRetryButton,\n    hidePauseResumeButton: props.hidePauseResumeButton,\n    hideCancelButton: props.hideCancelButton,\n    showLinkToFileUploadResult: props.showLinkToFileUploadResult,\n    showRemoveButtonAfterComplete: props.showRemoveButtonAfterComplete,\n    metaFields: props.metaFields,\n    toggleFileCard: props.toggleFileCard,\n    handleRequestThumbnail: props.handleRequestThumbnail,\n    handleCancelThumbnail: props.handleCancelThumbnail,\n    recoveredState: props.recoveredState,\n    individualCancellation: props.individualCancellation,\n    openFileEditor: props.openFileEditor,\n    canEditFile: props.canEditFile,\n    toggleAddFilesPanel: props.toggleAddFilesPanel,\n    isSingleFile: isSingleFile,\n    itemsPerRow: itemsPerRow,\n    containerWidth: props.containerWidth,\n    containerHeight: props.containerHeight\n  }) : h(AddFiles, {\n    i18n: props.i18n,\n    i18nArray: props.i18nArray,\n    acquirers: props.acquirers,\n    handleInputChange: props.handleInputChange,\n    maxNumberOfFiles: props.maxNumberOfFiles,\n    allowedFileTypes: props.allowedFileTypes,\n    showNativePhotoCameraButton: props.showNativePhotoCameraButton,\n    showNativeVideoCameraButton: props.showNativeVideoCameraButton,\n    nativeCameraFacingMode: props.nativeCameraFacingMode,\n    showPanel: props.showPanel,\n    activePickerPanel: props.activePickerPanel,\n    disableLocalFiles: props.disableLocalFiles,\n    fileManagerSelectionType: props.fileManagerSelectionType,\n    note: props.note,\n    proudlyDisplayPoweredByUppy: props.proudlyDisplayPoweredByUppy\n  }), h(Slide, null, props.showAddFilesPanel ? h(AddFilesPanel, _extends({\n    key: \"AddFiles\"\n  }, props, {\n    isSizeMD: isSizeMD\n  })) : null), h(Slide, null, props.fileCardFor ? h(FileCard, _extends({\n    key: \"FileCard\"\n  }, props)) : null), h(Slide, null, props.activePickerPanel ? h(PickerPanelContent, _extends({\n    key: \"Picker\"\n  }, props)) : null), h(Slide, null, props.showFileEditor ? h(EditorPanel, _extends({\n    key: \"Editor\"\n  }, props)) : null), h(\"div\", {\n    className: \"uppy-Dashboard-progressindicators\"\n  }, props.progressindicators.map(target => {\n    // TODO\n    // Here we're telling typescript all `this.type = 'progressindicator'` plugins inherit from `UIPlugin`\n    // This is factually true in Uppy right now, but maybe it doesn't have to be\n    return props.uppy.getPlugin(target.id).render(props.state);\n  })))));\n  return dashboard;\n}", "/**\n * Checks if the browser supports Drag & Drop (not supported on mobile devices, for example).\n */\nexport default function isDragDropSupported() {\n  const div = document.body;\n  if (!('draggable' in div) || !('ondragstart' in div && 'ondrop' in div)) {\n    return false;\n  }\n  if (!('FormData' in window)) {\n    return false;\n  }\n  if (!('FileReader' in window)) {\n    return false;\n  }\n  return true;\n}", "/* eslint-disable react/destructuring-assignment */\nimport { h, Component } from 'preact';\nimport classNames from 'classnames';\nimport { shallowEqualObjects } from 'shallow-equal';\nimport FilePreviewAndLink from \"./FilePreviewAndLink/index.js\";\nimport FileProgress from \"./FileProgress/index.js\";\nimport FileInfo from \"./FileInfo/index.js\";\nimport Buttons from \"./Buttons/index.js\";\nexport default class FileItem extends Component {\n  componentDidMount() {\n    const {\n      file\n    } = this.props;\n    if (!file.preview) {\n      this.props.handleRequestThumbnail(file);\n    }\n  }\n  shouldComponentUpdate(nextProps) {\n    return !shallowEqualObjects(this.props, nextProps);\n  }\n\n  // VirtualList mounts FileItems again and they emit `thumbnail:request`\n  // Otherwise thumbnails are broken or missing after Golden Retriever restores files\n  componentDidUpdate() {\n    const {\n      file\n    } = this.props;\n    if (!file.preview) {\n      this.props.handleRequestThumbnail(file);\n    }\n  }\n  componentWillUnmount() {\n    const {\n      file\n    } = this.props;\n    if (!file.preview) {\n      this.props.handleCancelThumbnail(file);\n    }\n  }\n  render() {\n    const {\n      file\n    } = this.props;\n    const isProcessing = file.progress.preprocess || file.progress.postprocess;\n    const isUploaded = !!file.progress.uploadComplete && !isProcessing && !file.error;\n    const uploadInProgressOrComplete = !!file.progress.uploadStarted || !!isProcessing;\n    const uploadInProgress = file.progress.uploadStarted && !file.progress.uploadComplete || isProcessing;\n    const error = file.error || false;\n\n    // File that Golden Retriever was able to partly restore (only meta, not blob),\n    // users still need to re-add it, so it\u2019s a ghost\n    const {\n      isGhost\n    } = file;\n    let showRemoveButton = this.props.individualCancellation ? !isUploaded : !uploadInProgress && !isUploaded;\n    if (isUploaded && this.props.showRemoveButtonAfterComplete) {\n      showRemoveButton = true;\n    }\n    const dashboardItemClass = classNames({\n      'uppy-Dashboard-Item': true,\n      'is-inprogress': uploadInProgress && !this.props.recoveredState,\n      'is-processing': isProcessing,\n      'is-complete': isUploaded,\n      'is-error': !!error,\n      'is-resumable': this.props.resumableUploads,\n      'is-noIndividualCancellation': !this.props.individualCancellation,\n      'is-ghost': isGhost\n    });\n    return h(\"div\", {\n      className: dashboardItemClass,\n      id: `uppy_${file.id}`,\n      role: this.props.role\n    }, h(\"div\", {\n      className: \"uppy-Dashboard-Item-preview\"\n    }, h(FilePreviewAndLink, {\n      file: file,\n      showLinkToFileUploadResult: this.props.showLinkToFileUploadResult,\n      i18n: this.props.i18n,\n      toggleFileCard: this.props.toggleFileCard,\n      metaFields: this.props.metaFields\n    }), h(FileProgress, {\n      uppy: this.props.uppy,\n      file: file,\n      error: error,\n      isUploaded: isUploaded,\n      hideRetryButton: this.props.hideRetryButton,\n      hideCancelButton: this.props.hideCancelButton,\n      hidePauseResumeButton: this.props.hidePauseResumeButton,\n      recoveredState: this.props.recoveredState,\n      resumableUploads: this.props.resumableUploads,\n      individualCancellation: this.props.individualCancellation,\n      i18n: this.props.i18n\n    })), h(\"div\", {\n      className: \"uppy-Dashboard-Item-fileInfoAndButtons\"\n    }, h(FileInfo, {\n      file: file,\n      containerWidth: this.props.containerWidth,\n      containerHeight: this.props.containerHeight,\n      i18n: this.props.i18n,\n      toggleAddFilesPanel: this.props.toggleAddFilesPanel,\n      toggleFileCard: this.props.toggleFileCard,\n      metaFields: this.props.metaFields,\n      isSingleFile: this.props.isSingleFile\n    }), h(Buttons, {\n      file: file,\n      metaFields: this.props.metaFields,\n      showLinkToFileUploadResult: this.props.showLinkToFileUploadResult,\n      showRemoveButton: showRemoveButton,\n      canEditFile: this.props.canEditFile,\n      uploadInProgressOrComplete: uploadInProgressOrComplete,\n      toggleFileCard: this.props.toggleFileCard,\n      openFileEditor: this.props.openFileEditor,\n      uppy: this.props.uppy,\n      i18n: this.props.i18n\n    })));\n  }\n}", "export type validArrayValue = any[] | null | undefined;\n\nexport default function shallowEqualArrays(\n  arrA: validArrayValue,\n  arrB: validArrayValue\n): boolean {\n  if (arrA === arrB) {\n    return true;\n  }\n\n  if (!arrA || !arrB) {\n    return false;\n  }\n\n  const len = arrA.length;\n\n  if (arrB.length !== len) {\n    return false;\n  }\n\n  for (let i = 0; i < len; i++) {\n    if (arrA[i] !== arrB[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n", "export type validObjectValue = Record<string, any> | null | undefined;\n\nexport default function shallowEqualObjects<T>(\n  objA: validObjectValue,\n  objB: validObjectValue\n): boolean {\n  if (objA === objB) {\n    return true;\n  }\n\n  if (!objA || !objB) {\n    return false;\n  }\n\n  const aKeys = Object.keys(objA);\n  const bKeys = Object.keys(objB);\n  const len = aKeys.length;\n\n  if (bKeys.length !== len) {\n    return false;\n  }\n\n  for (let i = 0; i < len; i++) {\n    const key = aKeys[i];\n\n    if (\n      objA[key] !== objB[key] ||\n      !Object.prototype.hasOwnProperty.call(objB, key)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n", "import shallowEqualArrays from \"./arrays\";\nimport shallowEqualObjects from \"./objects\";\n\ntype Comparable = Record<string, any> | any[] | null | undefined;\n\nfunction shallowEqual<T extends Comparable>(a: T, b: T): boolean {\n  const aIsArr = Array.isArray(a);\n  const bIsArr = Array.isArray(b);\n\n  if (aIsArr !== bIsArr) {\n    return false;\n  }\n\n  if (aIsArr && bIsArr) {\n    return shallowEqualArrays(a, b);\n  }\n\n  return shallowEqualObjects(a, b);\n}\n\nexport { shallowEqual, shallowEqualObjects, shallowEqualArrays };\n", "import { h } from 'preact';\nfunction iconImage() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"g\", {\n    fill: \"#686DE0\",\n    fillRule: \"evenodd\"\n  }, h(\"path\", {\n    d: \"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z\",\n    fillRule: \"nonzero\"\n  }), h(\"path\", {\n    d: \"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z\",\n    fillRule: \"nonzero\"\n  }), h(\"circle\", {\n    cx: \"7.5\",\n    cy: \"9.5\",\n    r: \"1.5\"\n  })));\n}\nfunction iconAudio() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"path\", {\n    d: \"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z\",\n    fill: \"#049BCF\",\n    fillRule: \"nonzero\"\n  }));\n}\nfunction iconVideo() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"path\", {\n    d: \"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z\",\n    fill: \"#19AF67\",\n    fillRule: \"nonzero\"\n  }));\n}\nfunction iconPDF() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"path\", {\n    d: \"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z\",\n    fill: \"#E2514A\",\n    fillRule: \"nonzero\"\n  }));\n}\nfunction iconArchive() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"path\", {\n    d: \"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z\",\n    fill: \"#00C469\",\n    fillRule: \"nonzero\"\n  }));\n}\nfunction iconFile() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"g\", {\n    fill: \"#A7AFB7\",\n    fillRule: \"nonzero\"\n  }, h(\"path\", {\n    d: \"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z\"\n  }), h(\"path\", {\n    d: \"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z\"\n  })));\n}\nfunction iconText() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"path\", {\n    d: \"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z\",\n    fill: \"#5A5E69\",\n    fillRule: \"nonzero\"\n  }));\n}\nexport default function getIconByMime(fileType) {\n  const defaultChoice = {\n    color: '#838999',\n    icon: iconFile()\n  };\n  if (!fileType) return defaultChoice;\n  const fileTypeGeneral = fileType.split('/')[0];\n  const fileTypeSpecific = fileType.split('/')[1];\n\n  // Text\n  if (fileTypeGeneral === 'text') {\n    return {\n      color: '#5a5e69',\n      icon: iconText()\n    };\n  }\n\n  // Image\n  if (fileTypeGeneral === 'image') {\n    return {\n      color: '#686de0',\n      icon: iconImage()\n    };\n  }\n\n  // Audio\n  if (fileTypeGeneral === 'audio') {\n    return {\n      color: '#068dbb',\n      icon: iconAudio()\n    };\n  }\n\n  // Video\n  if (fileTypeGeneral === 'video') {\n    return {\n      color: '#19af67',\n      icon: iconVideo()\n    };\n  }\n\n  // PDF\n  if (fileTypeGeneral === 'application' && fileTypeSpecific === 'pdf') {\n    return {\n      color: '#e25149',\n      icon: iconPDF()\n    };\n  }\n\n  // Archive\n  const archiveTypes = ['zip', 'x-7z-compressed', 'x-zip-compressed', 'x-rar-compressed', 'x-tar', 'x-gzip', 'x-apple-diskimage'];\n  if (fileTypeGeneral === 'application' && archiveTypes.indexOf(fileTypeSpecific) !== -1) {\n    return {\n      color: '#00C469',\n      icon: iconArchive()\n    };\n  }\n  return defaultChoice;\n}", "import { h } from 'preact';\nimport getFileTypeIcon from \"../utils/getFileTypeIcon.js\";\nexport default function FilePreview(props) {\n  const {\n    file\n  } = props;\n  if (file.preview) {\n    return h(\"img\", {\n      draggable: false,\n      className: \"uppy-Dashboard-Item-previewImg\",\n      alt: file.name,\n      src: file.preview\n    });\n  }\n  const {\n    color,\n    icon\n  } = getFileTypeIcon(file.type);\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-previewIconWrap\"\n  }, h(\"span\", {\n    className: \"uppy-Dashboard-Item-previewIcon\",\n    style: {\n      color\n    }\n  }, icon), h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-Dashboard-Item-previewIconBg\",\n    width: \"58\",\n    height: \"76\",\n    viewBox: \"0 0 58 76\"\n  }, h(\"rect\", {\n    fill: \"#FFF\",\n    width: \"58\",\n    height: \"76\",\n    rx: \"3\",\n    fillRule: \"evenodd\"\n  })));\n}", "import { h } from 'preact';\nconst metaFieldIdToName = (metaFieldId, metaFields) => {\n  const fields = typeof metaFields === 'function' ? metaFields() : metaFields;\n  const field = fields.filter(f => f.id === metaFieldId);\n  return field[0].name;\n};\nexport default function MetaErrorMessage(props) {\n  const {\n    file,\n    toggleFileCard,\n    i18n,\n    metaFields\n  } = props;\n  const {\n    missingRequiredMetaFields\n  } = file;\n  if (!(missingRequiredMetaFields != null && missingRequiredMetaFields.length)) {\n    return null;\n  }\n  const metaFieldsString = missingRequiredMetaFields.map(missingMetaField => metaFieldIdToName(missingMetaField, metaFields)).join(', ');\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-errorMessage\"\n  }, i18n('missingRequiredMetaFields', {\n    smart_count: missingRequiredMetaFields.length,\n    fields: metaFieldsString\n  }), ' ', h(\"button\", {\n    type: \"button\",\n    class: \"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn\",\n    onClick: () => toggleFileCard(true, file.id)\n  }, i18n('editFile')));\n}", "import { h } from 'preact';\nimport FilePreview from \"../../FilePreview.js\";\nimport MetaErrorMessage from \"../MetaErrorMessage.js\";\nimport getFileTypeIcon from \"../../../utils/getFileTypeIcon.js\";\nexport default function FilePreviewAndLink(props) {\n  const {\n    file,\n    i18n,\n    toggleFileCard,\n    metaFields,\n    showLinkToFileUploadResult\n  } = props;\n  const white = 'rgba(255, 255, 255, 0.5)';\n  const previewBackgroundColor = file.preview ? white : getFileTypeIcon(file.type).color;\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-previewInnerWrap\",\n    style: {\n      backgroundColor: previewBackgroundColor\n    }\n  }, showLinkToFileUploadResult && file.uploadURL && h(\"a\", {\n    className: \"uppy-Dashboard-Item-previewLink\",\n    href: file.uploadURL,\n    rel: \"noreferrer noopener\",\n    target: \"_blank\",\n    \"aria-label\": file.meta.name\n  }, h(\"span\", {\n    hidden: true\n  }, file.meta.name)), h(FilePreview, {\n    file: file\n  }), h(MetaErrorMessage, {\n    file: file,\n    i18n: i18n,\n    toggleFileCard: toggleFileCard,\n    metaFields: metaFields\n  }));\n}", "/* eslint-disable react/no-unused-prop-types */\n/* eslint-disable react/destructuring-assignment */\n\nimport { h } from 'preact';\nfunction onPauseResumeCancelRetry(props) {\n  if (props.isUploaded) return;\n  if (props.error && !props.hideRetryButton) {\n    props.uppy.retryUpload(props.file.id);\n    return;\n  }\n  if (props.resumableUploads && !props.hidePauseResumeButton) {\n    props.uppy.pauseResume(props.file.id);\n  } else if (props.individualCancellation && !props.hideCancelButton) {\n    props.uppy.removeFile(props.file.id);\n  }\n}\nfunction progressIndicatorTitle(props) {\n  if (props.isUploaded) {\n    return props.i18n('uploadComplete');\n  }\n  if (props.error) {\n    return props.i18n('retryUpload');\n  }\n  if (props.resumableUploads) {\n    if (props.file.isPaused) {\n      return props.i18n('resumeUpload');\n    }\n    return props.i18n('pauseUpload');\n  }\n  if (props.individualCancellation) {\n    return props.i18n('cancelUpload');\n  }\n  return '';\n}\nfunction ProgressIndicatorButton(props) {\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-progress\"\n  }, h(\"button\", {\n    className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator\",\n    type: \"button\",\n    \"aria-label\": progressIndicatorTitle(props),\n    title: progressIndicatorTitle(props),\n    onClick: () => onPauseResumeCancelRetry(props)\n  }, props.children));\n}\nfunction ProgressCircleContainer(_ref) {\n  let {\n    children\n  } = _ref;\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"70\",\n    height: \"70\",\n    viewBox: \"0 0 36 36\",\n    className: \"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle\"\n  }, children);\n}\nfunction ProgressCircle(_ref2) {\n  let {\n    progress\n  } = _ref2;\n  // circle length equals 2 * PI * R\n  const circleLength = 2 * Math.PI * 15;\n  return h(\"g\", null, h(\"circle\", {\n    className: \"uppy-Dashboard-Item-progressIcon--bg\",\n    r: \"15\",\n    cx: \"18\",\n    cy: \"18\",\n    \"stroke-width\": \"2\",\n    fill: \"none\"\n  }), h(\"circle\", {\n    className: \"uppy-Dashboard-Item-progressIcon--progress\",\n    r: \"15\",\n    cx: \"18\",\n    cy: \"18\",\n    transform: \"rotate(-90, 18, 18)\",\n    fill: \"none\",\n    \"stroke-width\": \"2\",\n    \"stroke-dasharray\": circleLength,\n    \"stroke-dashoffset\": circleLength - circleLength / 100 * progress\n  }));\n}\nexport default function FileProgress(props) {\n  // Nothing if upload has not started\n  if (!props.file.progress.uploadStarted) {\n    return null;\n  }\n  if (props.file.progress.percentage === undefined) {\n    return null;\n  }\n\n  // Green checkmark when complete\n  if (props.isUploaded) {\n    return h(\"div\", {\n      className: \"uppy-Dashboard-Item-progress\"\n    }, h(\"div\", {\n      className: \"uppy-Dashboard-Item-progressIndicator\"\n    }, h(ProgressCircleContainer, null, h(\"circle\", {\n      r: \"15\",\n      cx: \"18\",\n      cy: \"18\",\n      fill: \"#1bb240\"\n    }), h(\"polygon\", {\n      className: \"uppy-Dashboard-Item-progressIcon--check\",\n      transform: \"translate(2, 3)\",\n      points: \"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634\"\n    }))));\n  }\n  if (props.recoveredState) {\n    return null;\n  }\n\n  // Retry button for error\n  if (props.error && !props.hideRetryButton) {\n    return (\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      h(ProgressIndicatorButton, props, h(\"svg\", {\n        \"aria-hidden\": \"true\",\n        focusable: \"false\",\n        className: \"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry\",\n        width: \"28\",\n        height: \"31\",\n        viewBox: \"0 0 16 19\"\n      }, h(\"path\", {\n        d: \"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z\"\n      }), h(\"path\", {\n        d: \"M7.9 3H10v2H7.9z\"\n      }), h(\"path\", {\n        d: \"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z\"\n      }), h(\"path\", {\n        d: \"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z\"\n      })))\n    );\n  }\n\n  // Pause/resume button for resumable uploads\n  if (props.resumableUploads && !props.hidePauseResumeButton) {\n    return (\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      h(ProgressIndicatorButton, props, h(ProgressCircleContainer, null, h(ProgressCircle, {\n        progress: props.file.progress.percentage\n      }), props.file.isPaused ? h(\"polygon\", {\n        className: \"uppy-Dashboard-Item-progressIcon--play\",\n        transform: \"translate(3, 3)\",\n        points: \"12 20 12 10 20 15\"\n      }) : h(\"g\", {\n        className: \"uppy-Dashboard-Item-progressIcon--pause\",\n        transform: \"translate(14.5, 13)\"\n      }, h(\"rect\", {\n        x: \"0\",\n        y: \"0\",\n        width: \"2\",\n        height: \"10\",\n        rx: \"0\"\n      }), h(\"rect\", {\n        x: \"5\",\n        y: \"0\",\n        width: \"2\",\n        height: \"10\",\n        rx: \"0\"\n      }))))\n    );\n  }\n\n  // Cancel button for non-resumable uploads if individualCancellation is supported (not bundled)\n  if (!props.resumableUploads && props.individualCancellation && !props.hideCancelButton) {\n    return (\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      h(ProgressIndicatorButton, props, h(ProgressCircleContainer, null, h(ProgressCircle, {\n        progress: props.file.progress.percentage\n      }), h(\"polygon\", {\n        className: \"cancel\",\n        transform: \"translate(2, 2)\",\n        points: \"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12\"\n      })))\n    );\n  }\n\n  // Just progress when buttons are disabled\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-progress\"\n  }, h(\"div\", {\n    className: \"uppy-Dashboard-Item-progressIndicator\"\n  }, h(ProgressCircleContainer, null, h(ProgressCircle, {\n    progress: props.file.progress.percentage\n  }))));\n}", "/* eslint-disable react/destructuring-assignment */\nimport { h } from 'preact';\nimport prettierBytes from '@transloadit/prettier-bytes';\nimport truncateString from '@uppy/utils/lib/truncateString';\nimport MetaErrorMessage from \"../MetaErrorMessage.js\";\nconst renderFileName = props => {\n  const {\n    author,\n    name\n  } = props.file.meta;\n  function getMaxNameLength() {\n    if (props.isSingleFile && props.containerHeight >= 350) {\n      return 90;\n    }\n    if (props.containerWidth <= 352) {\n      return 35;\n    }\n    if (props.containerWidth <= 576) {\n      return 60;\n    }\n    // When `author` is present, we want to make sure\n    // the file name fits on one line so we can place\n    // the author on the second line.\n    return author ? 20 : 30;\n  }\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-name\",\n    title: name\n  }, truncateString(name, getMaxNameLength()));\n};\nconst renderAuthor = props => {\n  var _props$file$remote;\n  const {\n    author\n  } = props.file.meta;\n  const providerName = (_props$file$remote = props.file.remote) == null ? void 0 : _props$file$remote.providerName;\n  const dot = `\\u00B7`;\n  if (!author) {\n    return null;\n  }\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-author\"\n  }, h(\"a\", {\n    href: `${author.url}?utm_source=Companion&utm_medium=referral`,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, truncateString(author.name, 13)), providerName ? h(Fragment, null, ` ${dot} `, providerName, ` ${dot} `) : null);\n};\nconst renderFileSize = props => props.file.size && h(\"div\", {\n  className: \"uppy-Dashboard-Item-statusSize\"\n}, prettierBytes(props.file.size));\nconst ReSelectButton = props => props.file.isGhost && h(\"span\", null, ' \\u2022 ', h(\"button\", {\n  className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect\",\n  type: \"button\",\n  onClick: () => props.toggleAddFilesPanel(true)\n}, props.i18n('reSelect')));\nconst ErrorButton = _ref => {\n  let {\n    file,\n    onClick\n  } = _ref;\n  if (file.error) {\n    return h(\"button\", {\n      className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails\",\n      \"aria-label\": file.error,\n      \"data-microtip-position\": \"bottom\",\n      \"data-microtip-size\": \"medium\",\n      onClick: onClick,\n      type: \"button\"\n    }, \"?\");\n  }\n  return null;\n};\nexport default function FileInfo(props) {\n  const {\n    file,\n    i18n,\n    toggleFileCard,\n    metaFields,\n    toggleAddFilesPanel,\n    isSingleFile,\n    containerHeight,\n    containerWidth\n  } = props;\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-fileInfo\",\n    \"data-uppy-file-source\": file.source\n  }, h(\"div\", {\n    className: \"uppy-Dashboard-Item-fileName\"\n  }, renderFileName({\n    file,\n    isSingleFile,\n    containerHeight,\n    containerWidth\n  }), h(ErrorButton, {\n    file: file,\n    onClick: () => alert(file.error)\n  })), h(\"div\", {\n    className: \"uppy-Dashboard-Item-status\"\n  }, renderAuthor({\n    file\n  }), renderFileSize({\n    file\n  }), ReSelectButton({\n    file,\n    toggleAddFilesPanel,\n    i18n\n  })), h(MetaErrorMessage, {\n    file: file,\n    i18n: i18n,\n    toggleFileCard: toggleFileCard,\n    metaFields: metaFields\n  }));\n}", "/**\n * Truncates a string to the given number of chars (maxLength) by inserting '...' in the middle of that string.\n * Partially taken from https://stackoverflow.com/a/5723274/3192470.\n */\nconst separator = '...';\nexport default function truncateString(string, maxLength) {\n  // Return the empty string if maxLength is zero\n  if (maxLength === 0) return '';\n  // Return original string if it's already shorter than maxLength\n  if (string.length <= maxLength) return string;\n  // Return truncated substring appended of the ellipsis char if string can't be meaningfully truncated\n  if (maxLength <= separator.length + 1) return `${string.slice(0, maxLength - 1)}\u2026`;\n  const charsToShow = maxLength - separator.length;\n  const frontChars = Math.ceil(charsToShow / 2);\n  const backChars = Math.floor(charsToShow / 2);\n  return string.slice(0, frontChars) + separator + string.slice(-backChars);\n}", "/**\n * Copies text to clipboard by creating an almost invisible textarea,\n * adding text there, then running execCommand('copy').\n * Falls back to prompt() when the easy way fails (hello, Safari!)\n * From http://stackoverflow.com/a/30810322\n *\n * @param {string} textToCopy\n * @param {string} fallbackString\n * @returns {Promise}\n */\n\nexport default function copyToClipboard(textToCopy, fallbackString) {\n  if (fallbackString === void 0) {\n    fallbackString = 'Copy the URL below';\n  }\n  return new Promise(resolve => {\n    const textArea = document.createElement('textarea');\n    textArea.setAttribute('style', {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      width: '2em',\n      height: '2em',\n      padding: 0,\n      border: 'none',\n      outline: 'none',\n      boxShadow: 'none',\n      background: 'transparent'\n    });\n    textArea.value = textToCopy;\n    document.body.appendChild(textArea);\n    textArea.select();\n    const magicCopyFailed = () => {\n      document.body.removeChild(textArea);\n      // eslint-disable-next-line no-alert\n      window.prompt(fallbackString, textToCopy);\n      resolve();\n    };\n    try {\n      const successful = document.execCommand('copy');\n      if (!successful) {\n        return magicCopyFailed();\n      }\n      document.body.removeChild(textArea);\n      return resolve();\n    } catch (err) {\n      document.body.removeChild(textArea);\n      return magicCopyFailed();\n    }\n  });\n}", "import { h } from 'preact';\nimport copyToClipboard from '../../../utils/copyToClipboard.js';\nfunction EditButton(_ref) {\n  let {\n    file,\n    uploadInProgressOrComplete,\n    metaFields,\n    canEditFile,\n    i18n,\n    onClick\n  } = _ref;\n  if (!uploadInProgressOrComplete && metaFields && metaFields.length > 0 || !uploadInProgressOrComplete && canEditFile(file)) {\n    return h(\"button\", {\n      className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit\",\n      type: \"button\",\n      \"aria-label\": i18n('editFileWithFilename', {\n        file: file.meta.name\n      }),\n      title: i18n('editFileWithFilename', {\n        file: file.meta.name\n      }),\n      onClick: () => onClick()\n    }, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      className: \"uppy-c-icon\",\n      width: \"14\",\n      height: \"14\",\n      viewBox: \"0 0 14 14\"\n    }, h(\"g\", {\n      fillRule: \"evenodd\"\n    }, h(\"path\", {\n      d: \"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z\",\n      fillRule: \"nonzero\"\n    }), h(\"rect\", {\n      x: \"1\",\n      y: \"12.293\",\n      width: \"11\",\n      height: \"1\",\n      rx: \".5\"\n    }), h(\"path\", {\n      fillRule: \"nonzero\",\n      d: \"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z\"\n    }))));\n  }\n  return null;\n}\nfunction RemoveButton(_ref2) {\n  let {\n    i18n,\n    onClick,\n    file\n  } = _ref2;\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove\",\n    type: \"button\",\n    \"aria-label\": i18n('removeFile', {\n      file: file.meta.name\n    }),\n    title: i18n('removeFile', {\n      file: file.meta.name\n    }),\n    onClick: () => onClick()\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"18\",\n    height: \"18\",\n    viewBox: \"0 0 18 18\"\n  }, h(\"path\", {\n    d: \"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z\"\n  }), h(\"path\", {\n    fill: \"#FFF\",\n    d: \"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z\"\n  })));\n}\nfunction CopyLinkButton(_ref3) {\n  let {\n    file,\n    uppy,\n    i18n\n  } = _ref3;\n  const copyLinkToClipboard = event => {\n    copyToClipboard(file.uploadURL, i18n('copyLinkToClipboardFallback')).then(() => {\n      uppy.log('Link copied to clipboard.');\n      uppy.info(i18n('copyLinkToClipboardSuccess'), 'info', 3000);\n    }).catch(uppy.log)\n    // avoid losing focus\n    .then(() => event.target.focus({\n      preventScroll: true\n    }));\n  };\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink\",\n    type: \"button\",\n    \"aria-label\": i18n('copyLink'),\n    title: i18n('copyLink'),\n    onClick: event => copyLinkToClipboard(event)\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 14 12\"\n  }, h(\"path\", {\n    d: \"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z\"\n  })));\n}\nexport default function Buttons(props) {\n  const {\n    uppy,\n    file,\n    uploadInProgressOrComplete,\n    canEditFile,\n    metaFields,\n    showLinkToFileUploadResult,\n    showRemoveButton,\n    i18n,\n    toggleFileCard,\n    openFileEditor\n  } = props;\n  const editAction = () => {\n    if (metaFields && metaFields.length > 0) {\n      toggleFileCard(true, file.id);\n    } else {\n      openFileEditor(file);\n    }\n  };\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-actionWrapper\"\n  }, h(EditButton, {\n    i18n: i18n,\n    file: file,\n    uploadInProgressOrComplete: uploadInProgressOrComplete,\n    canEditFile: canEditFile,\n    metaFields: metaFields,\n    onClick: editAction\n  }), showLinkToFileUploadResult && file.uploadURL ? h(CopyLinkButton, {\n    file: file,\n    uppy: uppy,\n    i18n: i18n\n  }) : null, showRemoveButton ? h(RemoveButton, {\n    i18n: i18n,\n    file: file,\n    onClick: () => uppy.removeFile(file.id)\n  }) : null);\n}", "import { h } from 'preact';\nimport { useMemo } from 'preact/hooks';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore untyped\nimport VirtualList from '@uppy/utils/lib/VirtualList';\nimport FileItem from \"./FileItem/index.js\";\nfunction chunks(list, size) {\n  const chunked = [];\n  let currentChunk = [];\n  list.forEach(item => {\n    if (currentChunk.length < size) {\n      currentChunk.push(item);\n    } else {\n      chunked.push(currentChunk);\n      currentChunk = [item];\n    }\n  });\n  if (currentChunk.length) chunked.push(currentChunk);\n  return chunked;\n}\nexport default function FileList(_ref) {\n  let {\n    id,\n    i18n,\n    uppy,\n    files,\n    resumableUploads,\n    hideRetryButton,\n    hidePauseResumeButton,\n    hideCancelButton,\n    showLinkToFileUploadResult,\n    showRemoveButtonAfterComplete,\n    metaFields,\n    isSingleFile,\n    toggleFileCard,\n    handleRequestThumbnail,\n    handleCancelThumbnail,\n    recoveredState,\n    individualCancellation,\n    itemsPerRow,\n    openFileEditor,\n    canEditFile,\n    toggleAddFilesPanel,\n    containerWidth,\n    containerHeight\n  } = _ref;\n  // It's not great that this is hardcoded!\n  // It's ESPECIALLY not great that this is checking against `itemsPerRow`!\n  const rowHeight = itemsPerRow === 1 ?\n  // Mobile\n  71\n  // 190px height + 2 * 5px margin\n  : 200;\n\n  // Sort files by file.isGhost, ghost files first, only if recoveredState is present\n  const rows = useMemo(() => {\n    const sortByGhostComesFirst = (file1, file2) => Number(files[file2].isGhost) - Number(files[file1].isGhost);\n    const fileIds = Object.keys(files);\n    if (recoveredState) fileIds.sort(sortByGhostComesFirst);\n    return chunks(fileIds, itemsPerRow);\n  }, [files, itemsPerRow, recoveredState]);\n  const renderRow = row => h(\"div\", {\n    class: \"uppy-Dashboard-filesInner\"\n    // The `role=\"presentation` attribute ensures that the list items are properly\n    // associated with the `VirtualList` element.\n    ,\n    role: \"presentation\"\n    // We use the first file ID as the key \u2014 this should not change across scroll rerenders.\n    ,\n    key: row[0]\n  }, row.map(fileID => h(FileItem, {\n    key: fileID,\n    uppy: uppy\n    // FIXME This is confusing, it's actually the Dashboard's plugin ID\n    ,\n    id: id\n    // TODO move this to context\n    ,\n    i18n: i18n\n    // features\n    ,\n    resumableUploads: resumableUploads,\n    individualCancellation: individualCancellation\n    // visual options\n    ,\n    hideRetryButton: hideRetryButton,\n    hidePauseResumeButton: hidePauseResumeButton,\n    hideCancelButton: hideCancelButton,\n    showLinkToFileUploadResult: showLinkToFileUploadResult,\n    showRemoveButtonAfterComplete: showRemoveButtonAfterComplete,\n    metaFields: metaFields,\n    recoveredState: recoveredState,\n    isSingleFile: isSingleFile,\n    containerWidth: containerWidth,\n    containerHeight: containerHeight\n    // callbacks\n    ,\n    toggleFileCard: toggleFileCard,\n    handleRequestThumbnail: handleRequestThumbnail,\n    handleCancelThumbnail: handleCancelThumbnail,\n    role: \"listitem\",\n    openFileEditor: openFileEditor,\n    canEditFile: canEditFile,\n    toggleAddFilesPanel: toggleAddFilesPanel,\n    file: files[fileID]\n  })));\n  if (isSingleFile) {\n    return h(\"div\", {\n      class: \"uppy-Dashboard-files\"\n    }, renderRow(rows[0]));\n  }\n  return h(VirtualList, {\n    class: \"uppy-Dashboard-files\",\n    role: \"list\",\n    data: rows,\n    renderRow: renderRow,\n    rowHeight: rowHeight\n  });\n}", "/* eslint-disable react/destructuring-assignment */\nimport { h, Component, Fragment } from 'preact';\nclass AddFiles extends Component {\n  constructor() {\n    super(...arguments);\n    this.fileInput = null;\n    this.folderInput = null;\n    this.mobilePhotoFileInput = null;\n    this.mobileVideoFileInput = null;\n    this.triggerFileInputClick = () => {\n      var _this$fileInput;\n      (_this$fileInput = this.fileInput) == null || _this$fileInput.click();\n    };\n    this.triggerFolderInputClick = () => {\n      var _this$folderInput;\n      (_this$folderInput = this.folderInput) == null || _this$folderInput.click();\n    };\n    this.triggerVideoCameraInputClick = () => {\n      var _this$mobileVideoFile;\n      (_this$mobileVideoFile = this.mobileVideoFileInput) == null || _this$mobileVideoFile.click();\n    };\n    this.triggerPhotoCameraInputClick = () => {\n      var _this$mobilePhotoFile;\n      (_this$mobilePhotoFile = this.mobilePhotoFileInput) == null || _this$mobilePhotoFile.click();\n    };\n    this.onFileInputChange = event => {\n      this.props.handleInputChange(event);\n\n      // Clear the input so that Chrome/Safari/etc. can detect file section when the same file is repeatedly selected\n      // (see https://github.com/transloadit/uppy/issues/768#issuecomment-2264902758)\n      // eslint-disable-next-line no-param-reassign\n      event.currentTarget.value = '';\n    };\n    this.renderHiddenInput = (isFolder, refCallback) => {\n      var _this$props$allowedFi;\n      return h(\"input\", {\n        className: \"uppy-Dashboard-input\",\n        hidden: true,\n        \"aria-hidden\": \"true\",\n        tabIndex: -1\n        // @ts-expect-error default types don't yet know about the `webkitdirectory` property\n        ,\n        webkitdirectory: isFolder,\n        type: \"file\",\n        name: \"files[]\",\n        multiple: this.props.maxNumberOfFiles !== 1,\n        onChange: this.onFileInputChange,\n        accept: (_this$props$allowedFi = this.props.allowedFileTypes) == null ? void 0 : _this$props$allowedFi.join(', '),\n        ref: refCallback\n      });\n    };\n    this.renderHiddenCameraInput = (type, nativeCameraFacingMode, refCallback) => {\n      const typeToAccept = {\n        photo: 'image/*',\n        video: 'video/*'\n      };\n      const accept = typeToAccept[type];\n      return h(\"input\", {\n        className: \"uppy-Dashboard-input\",\n        hidden: true,\n        \"aria-hidden\": \"true\",\n        tabIndex: -1,\n        type: \"file\",\n        name: `camera-${type}`,\n        onChange: this.onFileInputChange,\n        capture: nativeCameraFacingMode,\n        accept: accept,\n        ref: refCallback\n      });\n    };\n    this.renderMyDeviceAcquirer = () => {\n      return h(\"div\", {\n        className: \"uppy-DashboardTab\",\n        role: \"presentation\",\n        \"data-uppy-acquirer-id\": \"MyDevice\"\n      }, h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\",\n        role: \"tab\",\n        tabIndex: 0,\n        \"data-uppy-super-focusable\": true,\n        onClick: this.triggerFileInputClick\n      }, h(\"div\", {\n        className: \"uppy-DashboardTab-inner\"\n      }, h(\"svg\", {\n        className: \"uppy-DashboardTab-iconMyDevice\",\n        \"aria-hidden\": \"true\",\n        focusable: \"false\",\n        width: \"32\",\n        height: \"32\",\n        viewBox: \"0 0 32 32\"\n      }, h(\"path\", {\n        d: \"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z\",\n        fill: \"currentcolor\",\n        \"fill-rule\": \"evenodd\"\n      }))), h(\"div\", {\n        className: \"uppy-DashboardTab-name\"\n      }, this.props.i18n('myDevice'))));\n    };\n    this.renderPhotoCamera = () => {\n      return h(\"div\", {\n        className: \"uppy-DashboardTab\",\n        role: \"presentation\",\n        \"data-uppy-acquirer-id\": \"MobilePhotoCamera\"\n      }, h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\",\n        role: \"tab\",\n        tabIndex: 0,\n        \"data-uppy-super-focusable\": true,\n        onClick: this.triggerPhotoCameraInputClick\n      }, h(\"div\", {\n        className: \"uppy-DashboardTab-inner\"\n      }, h(\"svg\", {\n        \"aria-hidden\": \"true\",\n        focusable: \"false\",\n        width: \"32\",\n        height: \"32\",\n        viewBox: \"0 0 32 32\"\n      }, h(\"path\", {\n        d: \"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z\",\n        fill: \"#02B383\",\n        \"fill-rule\": \"nonzero\"\n      }))), h(\"div\", {\n        className: \"uppy-DashboardTab-name\"\n      }, this.props.i18n('takePictureBtn'))));\n    };\n    this.renderVideoCamera = () => {\n      return h(\"div\", {\n        className: \"uppy-DashboardTab\",\n        role: \"presentation\",\n        \"data-uppy-acquirer-id\": \"MobileVideoCamera\"\n      }, h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\",\n        role: \"tab\",\n        tabIndex: 0,\n        \"data-uppy-super-focusable\": true,\n        onClick: this.triggerVideoCameraInputClick\n      }, h(\"div\", {\n        className: \"uppy-DashboardTab-inner\"\n      }, h(\"svg\", {\n        \"aria-hidden\": \"true\",\n        width: \"32\",\n        height: \"32\",\n        viewBox: \"0 0 32 32\"\n      }, h(\"path\", {\n        fill: \"#FF675E\",\n        fillRule: \"nonzero\",\n        d: \"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z \"\n      }))), h(\"div\", {\n        className: \"uppy-DashboardTab-name\"\n      }, this.props.i18n('recordVideoBtn'))));\n    };\n    this.renderBrowseButton = (text, onClickFn) => {\n      const numberOfAcquirers = this.props.acquirers.length;\n      return h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-browse\",\n        onClick: onClickFn,\n        \"data-uppy-super-focusable\": numberOfAcquirers === 0\n      }, text);\n    };\n    this.renderDropPasteBrowseTagline = numberOfAcquirers => {\n      const browseFiles = this.renderBrowseButton(this.props.i18n('browseFiles'), this.triggerFileInputClick);\n      const browseFolders = this.renderBrowseButton(this.props.i18n('browseFolders'), this.triggerFolderInputClick);\n\n      // in order to keep the i18n CamelCase and options lower (as are defaults) we will want to transform a lower\n      // to Camel\n      const lowerFMSelectionType = this.props.fileManagerSelectionType;\n      const camelFMSelectionType = lowerFMSelectionType.charAt(0).toUpperCase() + lowerFMSelectionType.slice(1);\n      return h(\"div\", {\n        class: \"uppy-Dashboard-AddFiles-title\"\n      },\n      // eslint-disable-next-line no-nested-ternary\n      this.props.disableLocalFiles ? this.props.i18n('importFiles') : numberOfAcquirers > 0 ? this.props.i18nArray(`dropPasteImport${camelFMSelectionType}`, {\n        browseFiles,\n        browseFolders,\n        browse: browseFiles\n      }) : this.props.i18nArray(`dropPaste${camelFMSelectionType}`, {\n        browseFiles,\n        browseFolders,\n        browse: browseFiles\n      }));\n    };\n    this.renderAcquirer = acquirer => {\n      var _this$props$activePic;\n      return h(\"div\", {\n        className: \"uppy-DashboardTab\",\n        role: \"presentation\",\n        \"data-uppy-acquirer-id\": acquirer.id\n      }, h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\",\n        role: \"tab\",\n        tabIndex: 0,\n        \"data-cy\": acquirer.id,\n        \"aria-controls\": `uppy-DashboardContent-panel--${acquirer.id}`,\n        \"aria-selected\": ((_this$props$activePic = this.props.activePickerPanel) == null ? void 0 : _this$props$activePic.id) === acquirer.id,\n        \"data-uppy-super-focusable\": true,\n        onClick: () => this.props.showPanel(acquirer.id)\n      }, h(\"div\", {\n        className: \"uppy-DashboardTab-inner\"\n      }, acquirer.icon()), h(\"div\", {\n        className: \"uppy-DashboardTab-name\"\n      }, acquirer.name)));\n    };\n    this.renderAcquirers = acquirers => {\n      // Group last two buttons, so we don\u2019t end up with\n      // just one button on a new line\n      const acquirersWithoutLastTwo = [...acquirers];\n      const lastTwoAcquirers = acquirersWithoutLastTwo.splice(acquirers.length - 2, acquirers.length);\n      return h(Fragment, null, acquirersWithoutLastTwo.map(acquirer => this.renderAcquirer(acquirer)), h(\"span\", {\n        role: \"presentation\",\n        style: {\n          'white-space': 'nowrap'\n        }\n      }, lastTwoAcquirers.map(acquirer => this.renderAcquirer(acquirer))));\n    };\n    this.renderSourcesList = (acquirers, disableLocalFiles) => {\n      const {\n        showNativePhotoCameraButton,\n        showNativeVideoCameraButton\n      } = this.props;\n      let list = [];\n      const myDeviceKey = 'myDevice';\n      if (!disableLocalFiles) list.push({\n        key: myDeviceKey,\n        elements: this.renderMyDeviceAcquirer()\n      });\n      if (showNativePhotoCameraButton) list.push({\n        key: 'nativePhotoCameraButton',\n        elements: this.renderPhotoCamera()\n      });\n      if (showNativeVideoCameraButton) list.push({\n        key: 'nativePhotoCameraButton',\n        elements: this.renderVideoCamera()\n      });\n      list.push(...acquirers.map(acquirer => ({\n        key: acquirer.id,\n        elements: this.renderAcquirer(acquirer)\n      })));\n\n      // doesn't make sense to show only a lonely \"My Device\"\n      const hasOnlyMyDevice = list.length === 1 && list[0].key === myDeviceKey;\n      if (hasOnlyMyDevice) list = [];\n\n      // Group last two buttons, so we don\u2019t end up with\n      // just one button on a new line\n      const listWithoutLastTwo = [...list];\n      const lastTwo = listWithoutLastTwo.splice(list.length - 2, list.length);\n      return h(Fragment, null, this.renderDropPasteBrowseTagline(list.length), h(\"div\", {\n        className: \"uppy-Dashboard-AddFiles-list\",\n        role: \"tablist\"\n      }, listWithoutLastTwo.map(_ref => {\n        let {\n          key,\n          elements\n        } = _ref;\n        return h(Fragment, {\n          key: key\n        }, elements);\n      }), h(\"span\", {\n        role: \"presentation\",\n        style: {\n          'white-space': 'nowrap'\n        }\n      }, lastTwo.map(_ref2 => {\n        let {\n          key,\n          elements\n        } = _ref2;\n        return h(Fragment, {\n          key: key\n        }, elements);\n      }))));\n    };\n  }\n  [Symbol.for('uppy test: disable unused locale key warning')]() {\n    // Those are actually used in `renderDropPasteBrowseTagline` method.\n    this.props.i18nArray('dropPasteBoth');\n    this.props.i18nArray('dropPasteFiles');\n    this.props.i18nArray('dropPasteFolders');\n    this.props.i18nArray('dropPasteImportBoth');\n    this.props.i18nArray('dropPasteImportFiles');\n    this.props.i18nArray('dropPasteImportFolders');\n  }\n  renderPoweredByUppy() {\n    const {\n      i18nArray\n    } = this.props;\n    const uppyBranding = h(\"span\", null, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      className: \"uppy-c-icon uppy-Dashboard-poweredByIcon\",\n      width: \"11\",\n      height: \"11\",\n      viewBox: \"0 0 11 11\"\n    }, h(\"path\", {\n      d: \"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z\",\n      fillRule: \"evenodd\"\n    })), h(\"span\", {\n      className: \"uppy-Dashboard-poweredByUppy\"\n    }, \"Uppy\"));\n    const linkText = i18nArray('poweredBy', {\n      uppy: uppyBranding\n    });\n    return h(\"a\", {\n      tabIndex: -1,\n      href: \"https://uppy.io\",\n      rel: \"noreferrer noopener\",\n      target: \"_blank\",\n      className: \"uppy-Dashboard-poweredBy\"\n    }, linkText);\n  }\n  render() {\n    const {\n      showNativePhotoCameraButton,\n      showNativeVideoCameraButton,\n      nativeCameraFacingMode\n    } = this.props;\n    return h(\"div\", {\n      className: \"uppy-Dashboard-AddFiles\"\n    }, this.renderHiddenInput(false, ref => {\n      this.fileInput = ref;\n    }), this.renderHiddenInput(true, ref => {\n      this.folderInput = ref;\n    }), showNativePhotoCameraButton && this.renderHiddenCameraInput('photo', nativeCameraFacingMode, ref => {\n      this.mobilePhotoFileInput = ref;\n    }), showNativeVideoCameraButton && this.renderHiddenCameraInput('video', nativeCameraFacingMode, ref => {\n      this.mobileVideoFileInput = ref;\n    }), this.renderSourcesList(this.props.acquirers, this.props.disableLocalFiles), h(\"div\", {\n      className: \"uppy-Dashboard-AddFiles-info\"\n    }, this.props.note && h(\"div\", {\n      className: \"uppy-Dashboard-note\"\n    }, this.props.note), this.props.proudlyDisplayPoweredByUppy && this.renderPoweredByUppy()));\n  }\n}\nexport default AddFiles;", "/* eslint-disable react/destructuring-assignment */\nimport { h } from 'preact';\nimport classNames from 'classnames';\nimport AddFiles from \"./AddFiles.js\";\nconst AddFilesPanel = props => {\n  return h(\"div\", {\n    className: classNames('uppy-Dashboard-AddFilesPanel', props.className),\n    \"data-uppy-panelType\": \"AddFiles\",\n    \"aria-hidden\": !props.showAddFilesPanel\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, props.i18n('addingMoreFiles')), h(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    onClick: () => props.toggleAddFilesPanel(false)\n  }, props.i18n('back'))), h(AddFiles, props));\n};\nexport default AddFilesPanel;", "import { h } from 'preact';\nimport classNames from 'classnames';\nimport { useRef } from 'preact/hooks';\nimport ignoreEvent from '../utils/ignoreEvent.js';\nfunction PickerPanelContent(_ref) {\n  let {\n    activePickerPanel,\n    className,\n    hideAllPanels,\n    i18n,\n    state,\n    uppy\n  } = _ref;\n  const ref = useRef(null);\n  return h(\"div\", {\n    className: classNames('uppy-DashboardContent-panel', className),\n    role: \"tabpanel\",\n    \"data-uppy-panelType\": \"PickerPanel\",\n    id: `uppy-DashboardContent-panel--${activePickerPanel.id}`,\n    onDragOver: ignoreEvent,\n    onDragLeave: ignoreEvent,\n    onDrop: ignoreEvent,\n    onPaste: ignoreEvent\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, i18n('importFrom', {\n    name: activePickerPanel.name\n  })), h(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    onClick: hideAllPanels\n  }, i18n('cancel'))), h(\"div\", {\n    ref: ref,\n    className: \"uppy-DashboardContent-panelBody\"\n  }, uppy.getPlugin(activePickerPanel.id).render(state, ref.current)));\n}\nexport default PickerPanelContent;", "// ignore drop/paste events if they are not in input or textarea \u2014\n// otherwise when Url plugin adds drop/paste listeners to this.el,\n// draging UI elements or pasting anything into any field triggers those events \u2014\n// Url treats them as URLs that need to be imported\n\nfunction ignoreEvent(ev) {\n  const {\n    tagName\n  } = ev.target;\n  if (tagName === 'INPUT' || tagName === 'TEXTAREA') {\n    ev.stopPropagation();\n    return;\n  }\n  ev.preventDefault();\n  ev.stopPropagation();\n}\nexport default ignoreEvent;", "/* eslint-disable react/destructuring-assignment */\nimport { h } from 'preact';\nimport classNames from 'classnames';\nfunction EditorPanel(props) {\n  const file = props.files[props.fileCardFor];\n  const handleCancel = () => {\n    props.uppy.emit('file-editor:cancel', file);\n    props.closeFileEditor();\n  };\n  return h(\"div\", {\n    className: classNames('uppy-DashboardContent-panel', props.className),\n    role: \"tabpanel\",\n    \"data-uppy-panelType\": \"FileEditor\",\n    id: \"uppy-DashboardContent-panel--editor\"\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, props.i18nArray('editing', {\n    file: h(\"span\", {\n      className: \"uppy-DashboardContent-titleFile\"\n    }, file.meta ? file.meta.name : file.name)\n  })), h(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    onClick: handleCancel\n  }, props.i18n('cancel')), h(\"button\", {\n    className: \"uppy-DashboardContent-save\",\n    type: \"button\",\n    onClick: props.saveFileEditor\n  }, props.i18n('save'))), h(\"div\", {\n    className: \"uppy-DashboardContent-panelBody\"\n  }, props.editors.map(target => {\n    return props.uppy.getPlugin(target.id).render(props.state);\n  })));\n}\nexport default EditorPanel;", "import { h } from 'preact';\nconst uploadStates = {\n  STATE_ERROR: 'error',\n  STATE_WAITING: 'waiting',\n  STATE_PREPROCESSING: 'preprocessing',\n  STATE_UPLOADING: 'uploading',\n  STATE_POSTPROCESSING: 'postprocessing',\n  STATE_COMPLETE: 'complete',\n  STATE_PAUSED: 'paused'\n};\nfunction getUploadingState(isAllErrored, isAllComplete, isAllPaused, files) {\n  if (files === void 0) {\n    files = {};\n  }\n  if (isAllErrored) {\n    return uploadStates.STATE_ERROR;\n  }\n  if (isAllComplete) {\n    return uploadStates.STATE_COMPLETE;\n  }\n  if (isAllPaused) {\n    return uploadStates.STATE_PAUSED;\n  }\n  let state = uploadStates.STATE_WAITING;\n  const fileIDs = Object.keys(files);\n  for (let i = 0; i < fileIDs.length; i++) {\n    const {\n      progress\n    } = files[fileIDs[i]];\n    // If ANY files are being uploaded right now, show the uploading state.\n    if (progress.uploadStarted && !progress.uploadComplete) {\n      return uploadStates.STATE_UPLOADING;\n    }\n    // If files are being preprocessed AND postprocessed at this time, we show the\n    // preprocess state. If any files are being uploaded we show uploading.\n    if (progress.preprocess && state !== uploadStates.STATE_UPLOADING) {\n      state = uploadStates.STATE_PREPROCESSING;\n    }\n    // If NO files are being preprocessed or uploaded right now, but some files are\n    // being postprocessed, show the postprocess state.\n    if (progress.postprocess && state !== uploadStates.STATE_UPLOADING && state !== uploadStates.STATE_PREPROCESSING) {\n      state = uploadStates.STATE_POSTPROCESSING;\n    }\n  }\n  return state;\n}\nfunction UploadStatus(_ref) {\n  let {\n    files,\n    i18n,\n    isAllComplete,\n    isAllErrored,\n    isAllPaused,\n    inProgressNotPausedFiles,\n    newFiles,\n    processingFiles\n  } = _ref;\n  const uploadingState = getUploadingState(isAllErrored, isAllComplete, isAllPaused, files);\n  switch (uploadingState) {\n    case 'uploading':\n      return i18n('uploadingXFiles', {\n        smart_count: inProgressNotPausedFiles.length\n      });\n    case 'preprocessing':\n    case 'postprocessing':\n      return i18n('processingXFiles', {\n        smart_count: processingFiles.length\n      });\n    case 'paused':\n      return i18n('uploadPaused');\n    case 'waiting':\n      return i18n('xFilesSelected', {\n        smart_count: newFiles.length\n      });\n    case 'complete':\n      return i18n('uploadComplete');\n    case 'error':\n      return i18n('error');\n    default:\n  }\n}\nfunction PanelTopBar(props) {\n  const {\n    i18n,\n    isAllComplete,\n    hideCancelButton,\n    maxNumberOfFiles,\n    toggleAddFilesPanel,\n    uppy\n  } = props;\n  let {\n    allowNewUpload\n  } = props;\n  // TODO maybe this should be done in ../Dashboard.jsx, then just pass that down as `allowNewUpload`\n  if (allowNewUpload && maxNumberOfFiles) {\n    // eslint-disable-next-line react/destructuring-assignment\n    allowNewUpload = props.totalFileCount < props.maxNumberOfFiles;\n  }\n  return h(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, !isAllComplete && !hideCancelButton ? h(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    onClick: () => uppy.cancelAll()\n  }, i18n('cancel')) : h(\"div\", null), h(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, h(UploadStatus, props)), allowNewUpload ? h(\"button\", {\n    className: \"uppy-DashboardContent-addMore\",\n    type: \"button\",\n    \"aria-label\": i18n('addMoreFiles'),\n    title: i18n('addMoreFiles'),\n    onClick: () => toggleAddFilesPanel(true)\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"15\",\n    height: \"15\",\n    viewBox: \"0 0 15 15\"\n  }, h(\"path\", {\n    d: \"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z\"\n  })), h(\"span\", {\n    className: \"uppy-DashboardContent-addMoreCaption\"\n  }, i18n('addMore'))) : h(\"div\", null));\n}\nexport default PanelTopBar;", "import { h } from 'preact';\nimport { useEffect, useState, useCallback } from 'preact/hooks';\nimport classNames from 'classnames';\nimport { nanoid } from 'nanoid/non-secure';\nimport getFileTypeIcon from \"../../utils/getFileTypeIcon.js\";\nimport ignoreEvent from '../../utils/ignoreEvent.js';\nimport FilePreview from \"../FilePreview.js\";\nimport RenderMetaFields from \"./RenderMetaFields.js\";\nexport default function FileCard(props) {\n  var _getMetaFields;\n  const {\n    files,\n    fileCardFor,\n    toggleFileCard,\n    saveFileCard,\n    metaFields,\n    requiredMetaFields,\n    openFileEditor,\n    i18n,\n    i18nArray,\n    className,\n    canEditFile\n  } = props;\n  const getMetaFields = () => {\n    return typeof metaFields === 'function' ? metaFields(files[fileCardFor]) : metaFields;\n  };\n  const file = files[fileCardFor];\n  const computedMetaFields = (_getMetaFields = getMetaFields()) != null ? _getMetaFields : [];\n  const showEditButton = canEditFile(file);\n  const storedMetaData = {};\n  computedMetaFields.forEach(field => {\n    var _file$meta$field$id;\n    storedMetaData[field.id] = (_file$meta$field$id = file.meta[field.id]) != null ? _file$meta$field$id : '';\n  });\n  const [formState, setFormState] = useState(storedMetaData);\n  const handleSave = useCallback(ev => {\n    ev.preventDefault();\n    saveFileCard(formState, fileCardFor);\n  }, [saveFileCard, formState, fileCardFor]);\n  const updateMeta = (newVal, name) => {\n    setFormState({\n      ...formState,\n      [name]: newVal\n    });\n  };\n  const handleCancel = () => {\n    toggleFileCard(false);\n  };\n  const [form] = useState(() => {\n    const formEl = document.createElement('form');\n    formEl.setAttribute('tabindex', '-1');\n    formEl.id = nanoid();\n    return formEl;\n  });\n  useEffect(() => {\n    document.body.appendChild(form);\n    form.addEventListener('submit', handleSave);\n    return () => {\n      form.removeEventListener('submit', handleSave);\n      document.body.removeChild(form);\n    };\n  }, [form, handleSave]);\n  return h(\"div\", {\n    className: classNames('uppy-Dashboard-FileCard', className),\n    \"data-uppy-panelType\": \"FileCard\",\n    onDragOver: ignoreEvent,\n    onDragLeave: ignoreEvent,\n    onDrop: ignoreEvent,\n    onPaste: ignoreEvent\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, i18nArray('editing', {\n    file: h(\"span\", {\n      className: \"uppy-DashboardContent-titleFile\"\n    }, file.meta ? file.meta.name : file.name)\n  })), h(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    form: form.id,\n    title: i18n('finishEditingFile'),\n    onClick: handleCancel\n  }, i18n('cancel'))), h(\"div\", {\n    className: \"uppy-Dashboard-FileCard-inner\"\n  }, h(\"div\", {\n    className: \"uppy-Dashboard-FileCard-preview\",\n    style: {\n      backgroundColor: getFileTypeIcon(file.type).color\n    }\n  }, h(FilePreview, {\n    file: file\n  }), showEditButton && h(\"button\", {\n    type: \"button\",\n    className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit\",\n    onClick: event => {\n      // When opening the image editor we want to save any meta fields changes.\n      // Otherwise it's confusing for the user to click save in the editor,\n      // but the changes here are discarded. This bypasses validation,\n      // but we are okay with that.\n      handleSave(event);\n      openFileEditor(file);\n    }\n  }, i18n('editImage'))), h(\"div\", {\n    className: \"uppy-Dashboard-FileCard-info\"\n  }, h(RenderMetaFields, {\n    computedMetaFields: computedMetaFields,\n    requiredMetaFields: requiredMetaFields,\n    updateMeta: updateMeta,\n    form: form,\n    formState: formState\n  })), h(\"div\", {\n    className: \"uppy-Dashboard-FileCard-actions\"\n  }, h(\"button\", {\n    className: \"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn\"\n    // If `form` attribute is supported, we want a submit button to trigger the form validation.\n    // Otherwise, fallback to a classic button with a onClick event handler.\n    ,\n    type: \"submit\",\n    form: form.id\n  }, i18n('saveChanges')), h(\"button\", {\n    className: \"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn\",\n    type: \"button\",\n    onClick: handleCancel,\n    form: form.id\n  }, i18n('cancel')))));\n}", "import { h } from 'preact';\nexport default function RenderMetaFields(props) {\n  const {\n    computedMetaFields,\n    requiredMetaFields,\n    updateMeta,\n    form,\n    formState\n  } = props;\n  const fieldCSSClasses = {\n    text: 'uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input'\n  };\n  return computedMetaFields.map(field => {\n    const id = `uppy-Dashboard-FileCard-input-${field.id}`;\n    const required = requiredMetaFields.includes(field.id);\n    return h(\"fieldset\", {\n      key: field.id,\n      className: \"uppy-Dashboard-FileCard-fieldset\"\n    }, h(\"label\", {\n      className: \"uppy-Dashboard-FileCard-label\",\n      htmlFor: id\n    }, field.name), field.render !== undefined ? field.render({\n      value: formState[field.id],\n      onChange: newVal => updateMeta(newVal, field.id),\n      fieldCSSClasses,\n      required,\n      form: form.id\n    }, h) : h(\"input\", {\n      className: fieldCSSClasses.text,\n      id: id,\n      form: form.id,\n      type: field.type || 'text',\n      required: required,\n      value: formState[field.id],\n      placeholder: field.placeholder,\n      onInput: ev => updateMeta(ev.target.value, field.id),\n      \"data-uppy-super-focusable\": true\n    }));\n  });\n}", "import { cloneElement, toChildArray } from 'preact';\nimport { useEffect, useState, useRef } from 'preact/hooks';\nimport classNames from 'classnames';\nconst transitionName = 'uppy-transition-slideDownUp';\nconst duration = 250;\n\n/**\n * Vertical slide transition.\n *\n * This can take a _single_ child component, which _must_ accept a `className` prop.\n *\n * Currently this is specific to the `uppy-transition-slideDownUp` transition,\n * but it should be simple to extend this for any type of single-element\n * transition by setting the CSS name and duration as props.\n */\nfunction Slide(_ref) {\n  let {\n    children\n  } = _ref;\n  const [cachedChildren, setCachedChildren] = useState(null);\n  const [className, setClassName] = useState('');\n  const enterTimeoutRef = useRef();\n  const leaveTimeoutRef = useRef();\n  const animationFrameRef = useRef();\n  const handleEnterTransition = () => {\n    setClassName(`${transitionName}-enter`);\n    cancelAnimationFrame(animationFrameRef.current);\n    clearTimeout(leaveTimeoutRef.current);\n    leaveTimeoutRef.current = undefined;\n    animationFrameRef.current = requestAnimationFrame(() => {\n      setClassName(`${transitionName}-enter ${transitionName}-enter-active`);\n      enterTimeoutRef.current = setTimeout(() => {\n        setClassName('');\n      }, duration);\n    });\n  };\n  const handleLeaveTransition = () => {\n    setClassName(`${transitionName}-leave`);\n    cancelAnimationFrame(animationFrameRef.current);\n    clearTimeout(enterTimeoutRef.current);\n    enterTimeoutRef.current = undefined;\n    animationFrameRef.current = requestAnimationFrame(() => {\n      setClassName(`${transitionName}-leave ${transitionName}-leave-active`);\n      leaveTimeoutRef.current = setTimeout(() => {\n        setCachedChildren(null);\n        setClassName('');\n      }, duration);\n    });\n  };\n  useEffect(() => {\n    const child = toChildArray(children)[0];\n    if (cachedChildren === child) return;\n    if (child && !cachedChildren) {\n      handleEnterTransition();\n    } else if (cachedChildren && !child && !leaveTimeoutRef.current) {\n      handleLeaveTransition();\n    }\n    setCachedChildren(child);\n  }, [children, cachedChildren]); // Dependency array to trigger effect on children change\n\n  useEffect(() => {\n    return () => {\n      clearTimeout(enterTimeoutRef.current);\n      clearTimeout(leaveTimeoutRef.current);\n      cancelAnimationFrame(animationFrameRef.current);\n    };\n  }, []); // Cleanup useEffect\n\n  if (!cachedChildren) return null;\n  return cloneElement(cachedChildren, {\n    className: classNames(className, cachedChildren.props.className)\n  });\n}\nexport default Slide;", "export default {\n  strings: {\n    // When `inline: false`, used as the screen reader label for the button that closes the modal.\n    closeModal: 'Close Modal',\n    // Used as the screen reader label for the plus (+) button that shows the \u201CAdd more files\u201D screen\n    addMoreFiles: 'Add more files',\n    addingMoreFiles: 'Adding more files',\n    // Used as the header for import panels, e.g., \u201CImport from Google Drive\u201D.\n    importFrom: 'Import from %{name}',\n    // When `inline: false`, used as the screen reader label for the dashboard modal.\n    dashboardWindowTitle: 'Uppy Dashboard Window (Press escape to close)',\n    // When `inline: true`, used as the screen reader label for the dashboard area.\n    dashboardTitle: 'Uppy Dashboard',\n    // Shown in the Informer when a link to a file was copied to the clipboard.\n    copyLinkToClipboardSuccess: 'Link copied to clipboard.',\n    // Used when a link cannot be copied automatically \u2014 the user has to select the text from the\n    // input element below this string.\n    copyLinkToClipboardFallback: 'Copy the URL below',\n    // Used as the hover title and screen reader label for buttons that copy a file link.\n    copyLink: 'Copy link',\n    back: 'Back',\n    // Used as the screen reader label for buttons that remove a file.\n    removeFile: 'Remove file',\n    // Used as the screen reader label for buttons that open the metadata editor panel for a file.\n    editFile: 'Edit file',\n    editImage: 'Edit image',\n    // Shown in the panel header for the metadata editor. Rendered as \u201CEditing image.png\u201D.\n    editing: 'Editing %{file}',\n    // Shown on the main upload screen when an upload error occurs\n    error: 'Error',\n    // Used as the screen reader label for the button that saves metadata edits and returns to the\n    // file list view.\n    finishEditingFile: 'Finish editing file',\n    saveChanges: 'Save changes',\n    // Used as the label for the tab button that opens the system file selection dialog.\n    myDevice: 'My Device',\n    dropHint: 'Drop your files here',\n    // Used as the hover text and screen reader label for file progress indicators when\n    // they have been fully uploaded.\n    uploadComplete: 'Upload complete',\n    uploadPaused: 'Upload paused',\n    // Used as the hover text and screen reader label for the buttons to resume paused uploads.\n    resumeUpload: 'Resume upload',\n    // Used as the hover text and screen reader label for the buttons to pause uploads.\n    pauseUpload: 'Pause upload',\n    // Used as the hover text and screen reader label for the buttons to retry failed uploads.\n    retryUpload: 'Retry upload',\n    // Used as the hover text and screen reader label for the buttons to cancel uploads.\n    cancelUpload: 'Cancel upload',\n    // Used in a title, how many files are currently selected\n    xFilesSelected: {\n      0: '%{smart_count} file selected',\n      1: '%{smart_count} files selected'\n    },\n    uploadingXFiles: {\n      0: 'Uploading %{smart_count} file',\n      1: 'Uploading %{smart_count} files'\n    },\n    processingXFiles: {\n      0: 'Processing %{smart_count} file',\n      1: 'Processing %{smart_count} files'\n    },\n    // The \"powered by Uppy\" link at the bottom of the Dashboard.\n    poweredBy: 'Powered by %{uppy}',\n    addMore: 'Add more',\n    editFileWithFilename: 'Edit file %{file}',\n    save: 'Save',\n    cancel: 'Cancel',\n    dropPasteFiles: 'Drop files here or %{browseFiles}',\n    dropPasteFolders: 'Drop files here or %{browseFolders}',\n    dropPasteBoth: 'Drop files here, %{browseFiles} or %{browseFolders}',\n    dropPasteImportFiles: 'Drop files here, %{browseFiles} or import from:',\n    dropPasteImportFolders: 'Drop files here, %{browseFolders} or import from:',\n    dropPasteImportBoth: 'Drop files here, %{browseFiles}, %{browseFolders} or import from:',\n    importFiles: 'Import files from:',\n    browseFiles: 'browse files',\n    browseFolders: 'browse folders',\n    recoveredXFiles: {\n      0: 'We could not fully recover 1 file. Please re-select it and resume the upload.',\n      1: 'We could not fully recover %{smart_count} files. Please re-select them and resume the upload.'\n    },\n    recoveredAllFiles: 'We restored all files. You can now resume the upload.',\n    sessionRestored: 'Session restored',\n    reSelect: 'Re-select',\n    missingRequiredMetaFields: {\n      0: 'Missing required meta field: %{fields}.',\n      1: 'Missing required meta fields: %{fields}.'\n    },\n    // Used for native device camera buttons on mobile\n    takePictureBtn: 'Take Picture',\n    recordVideoBtn: 'Record Video'\n  }\n};", "function _classPrivateFieldLooseBase(e, t) { if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\"); return e; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(e) { return \"__private_\" + id++ + \"_\" + e; }\nimport { UIPlugin } from '@uppy/core';\nimport StatusBar from '@uppy/status-bar';\nimport Informer from '@uppy/informer';\nimport ThumbnailGenerator from '@uppy/thumbnail-generator';\nimport findAllDOMElements from '@uppy/utils/lib/findAllDOMElements';\nimport toArray from '@uppy/utils/lib/toArray';\nimport getDroppedFiles from '@uppy/utils/lib/getDroppedFiles';\nimport { defaultPickerIcon } from '@uppy/provider-views';\nimport { nanoid } from 'nanoid/non-secure';\nimport memoizeOne from 'memoize-one';\nimport * as trapFocus from './utils/trapFocus.js';\nimport createSuperFocus from './utils/createSuperFocus.js';\nimport DashboardUI from \"./components/Dashboard.js\";\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore We don't want TS to generate types for the package.json\nconst packageJson = {\n  \"version\": \"4.3.3\"\n};\nimport locale from './locale.js';\nconst memoize = memoizeOne.default || memoizeOne;\nconst TAB_KEY = 9;\nconst ESC_KEY = 27;\nfunction createPromise() {\n  const o = {};\n  o.promise = new Promise((resolve, reject) => {\n    o.resolve = resolve;\n    o.reject = reject;\n  });\n  return o;\n}\nconst defaultOptions = {\n  target: 'body',\n  metaFields: [],\n  thumbnailWidth: 280,\n  thumbnailType: 'image/jpeg',\n  waitForThumbnailsBeforeUpload: false,\n  defaultPickerIcon,\n  showLinkToFileUploadResult: false,\n  showProgressDetails: false,\n  hideUploadButton: false,\n  hideCancelButton: false,\n  hideRetryButton: false,\n  hidePauseResumeButton: false,\n  hideProgressAfterFinish: false,\n  note: null,\n  singleFileFullScreen: true,\n  disableStatusBar: false,\n  disableInformer: false,\n  disableThumbnailGenerator: false,\n  fileManagerSelectionType: 'files',\n  proudlyDisplayPoweredByUppy: true,\n  showSelectedFiles: true,\n  showRemoveButtonAfterComplete: false,\n  showNativePhotoCameraButton: false,\n  showNativeVideoCameraButton: false,\n  theme: 'light',\n  autoOpen: null,\n  disabled: false,\n  disableLocalFiles: false,\n  nativeCameraFacingMode: '',\n  onDragLeave: () => {},\n  onDragOver: () => {},\n  onDrop: () => {},\n  plugins: [],\n  // Dynamic default options, they have to be defined in the constructor (because\n  // they require access to the `this` keyword), but we still want them to\n  // appear in the default options so TS knows they'll be defined.\n  doneButtonHandler: undefined,\n  onRequestCloseModal: null,\n  // defaultModalOptions\n  inline: false,\n  animateOpenClose: true,\n  browserBackButtonClose: false,\n  closeAfterFinish: false,\n  closeModalOnClickOutside: false,\n  disablePageScrollWhenModalOpen: true,\n  trigger: null,\n  // defaultInlineOptions\n  width: 750,\n  height: 550\n};\n\n/**\n * Dashboard UI with previews, metadata editing, tabs for various services and more\n */\nvar _disabledNodes = /*#__PURE__*/_classPrivateFieldLooseKey(\"disabledNodes\");\nvar _generateLargeThumbnailIfSingleFile = /*#__PURE__*/_classPrivateFieldLooseKey(\"generateLargeThumbnailIfSingleFile\");\nvar _openFileEditorWhenFilesAdded = /*#__PURE__*/_classPrivateFieldLooseKey(\"openFileEditorWhenFilesAdded\");\nvar _attachRenderFunctionToTarget = /*#__PURE__*/_classPrivateFieldLooseKey(\"attachRenderFunctionToTarget\");\nvar _isTargetSupported = /*#__PURE__*/_classPrivateFieldLooseKey(\"isTargetSupported\");\nvar _getAcquirers = /*#__PURE__*/_classPrivateFieldLooseKey(\"getAcquirers\");\nvar _getProgressIndicators = /*#__PURE__*/_classPrivateFieldLooseKey(\"getProgressIndicators\");\nvar _getEditors = /*#__PURE__*/_classPrivateFieldLooseKey(\"getEditors\");\nvar _addSpecifiedPluginsFromOptions = /*#__PURE__*/_classPrivateFieldLooseKey(\"addSpecifiedPluginsFromOptions\");\nvar _autoDiscoverPlugins = /*#__PURE__*/_classPrivateFieldLooseKey(\"autoDiscoverPlugins\");\nvar _addSupportedPluginIfNoTarget = /*#__PURE__*/_classPrivateFieldLooseKey(\"addSupportedPluginIfNoTarget\");\nvar _getStatusBarOpts = /*#__PURE__*/_classPrivateFieldLooseKey(\"getStatusBarOpts\");\nvar _getThumbnailGeneratorOpts = /*#__PURE__*/_classPrivateFieldLooseKey(\"getThumbnailGeneratorOpts\");\nvar _getInformerOpts = /*#__PURE__*/_classPrivateFieldLooseKey(\"getInformerOpts\");\nvar _getStatusBarId = /*#__PURE__*/_classPrivateFieldLooseKey(\"getStatusBarId\");\nvar _getThumbnailGeneratorId = /*#__PURE__*/_classPrivateFieldLooseKey(\"getThumbnailGeneratorId\");\nvar _getInformerId = /*#__PURE__*/_classPrivateFieldLooseKey(\"getInformerId\");\nexport default class Dashboard extends UIPlugin {\n  // Timeouts\n\n  constructor(uppy, _opts) {\n    var _opts$autoOpen, _this$opts, _this$opts$onRequestC;\n    const autoOpen = (_opts$autoOpen = _opts == null ? void 0 : _opts.autoOpen) != null ? _opts$autoOpen : null;\n    super(uppy, {\n      ...defaultOptions,\n      ..._opts,\n      autoOpen\n    });\n    Object.defineProperty(this, _getInformerId, {\n      value: _getInformerId2\n    });\n    Object.defineProperty(this, _getThumbnailGeneratorId, {\n      value: _getThumbnailGeneratorId2\n    });\n    Object.defineProperty(this, _getStatusBarId, {\n      value: _getStatusBarId2\n    });\n    // eslint-disable-next-line class-methods-use-this\n    Object.defineProperty(this, _getInformerOpts, {\n      value: _getInformerOpts2\n    });\n    Object.defineProperty(this, _getThumbnailGeneratorOpts, {\n      value: _getThumbnailGeneratorOpts2\n    });\n    Object.defineProperty(this, _getStatusBarOpts, {\n      value: _getStatusBarOpts2\n    });\n    Object.defineProperty(this, _disabledNodes, {\n      writable: true,\n      value: void 0\n    });\n    this.modalName = `uppy-Dashboard-${nanoid()}`;\n    this.superFocus = createSuperFocus();\n    this.ifFocusedOnUppyRecently = false;\n    this.removeTarget = plugin => {\n      const pluginState = this.getPluginState();\n      // filter out the one we want to remove\n      const newTargets = pluginState.targets.filter(target => target.id !== plugin.id);\n      this.setPluginState({\n        targets: newTargets\n      });\n    };\n    this.addTarget = plugin => {\n      const callerPluginId = plugin.id || plugin.constructor.name;\n      const callerPluginName = plugin.title || callerPluginId;\n      const callerPluginType = plugin.type;\n      if (callerPluginType !== 'acquirer' && callerPluginType !== 'progressindicator' && callerPluginType !== 'editor') {\n        const msg = 'Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor';\n        this.uppy.log(msg, 'error');\n        return null;\n      }\n      const target = {\n        id: callerPluginId,\n        name: callerPluginName,\n        type: callerPluginType\n      };\n      const state = this.getPluginState();\n      const newTargets = state.targets.slice();\n      newTargets.push(target);\n      this.setPluginState({\n        targets: newTargets\n      });\n      return this.el;\n    };\n    this.hideAllPanels = () => {\n      var _state$activePickerPa;\n      const state = this.getPluginState();\n      const update = {\n        activePickerPanel: undefined,\n        showAddFilesPanel: false,\n        activeOverlayType: null,\n        fileCardFor: null,\n        showFileEditor: false\n      };\n      if (state.activePickerPanel === update.activePickerPanel && state.showAddFilesPanel === update.showAddFilesPanel && state.showFileEditor === update.showFileEditor && state.activeOverlayType === update.activeOverlayType) {\n        // avoid doing a state update if nothing changed\n        return;\n      }\n      this.setPluginState(update);\n      this.uppy.emit('dashboard:close-panel', (_state$activePickerPa = state.activePickerPanel) == null ? void 0 : _state$activePickerPa.id);\n    };\n    this.showPanel = id => {\n      const {\n        targets\n      } = this.getPluginState();\n      const activePickerPanel = targets.find(target => {\n        return target.type === 'acquirer' && target.id === id;\n      });\n      this.setPluginState({\n        activePickerPanel,\n        activeOverlayType: 'PickerPanel'\n      });\n      this.uppy.emit('dashboard:show-panel', id);\n    };\n    this.canEditFile = file => {\n      const {\n        targets\n      } = this.getPluginState();\n      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](targets);\n      return editors.some(target => this.uppy.getPlugin(target.id).canEditFile(file));\n    };\n    this.openFileEditor = file => {\n      const {\n        targets\n      } = this.getPluginState();\n      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](targets);\n      this.setPluginState({\n        showFileEditor: true,\n        fileCardFor: file.id || null,\n        activeOverlayType: 'FileEditor'\n      });\n      editors.forEach(editor => {\n        ;\n        this.uppy.getPlugin(editor.id).selectFile(file);\n      });\n    };\n    this.closeFileEditor = () => {\n      const {\n        metaFields\n      } = this.getPluginState();\n      const isMetaEditorEnabled = metaFields && metaFields.length > 0;\n      if (isMetaEditorEnabled) {\n        this.setPluginState({\n          showFileEditor: false,\n          activeOverlayType: 'FileCard'\n        });\n      } else {\n        this.setPluginState({\n          showFileEditor: false,\n          fileCardFor: null,\n          activeOverlayType: 'AddFiles'\n        });\n      }\n    };\n    this.saveFileEditor = () => {\n      const {\n        targets\n      } = this.getPluginState();\n      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](targets);\n      editors.forEach(editor => {\n        ;\n        this.uppy.getPlugin(editor.id).save();\n      });\n      this.closeFileEditor();\n    };\n    this.openModal = () => {\n      const {\n        promise,\n        resolve\n      } = createPromise();\n      // save scroll position\n      this.savedScrollPosition = window.pageYOffset;\n      // save active element, so we can restore focus when modal is closed\n      this.savedActiveElement = document.activeElement;\n      if (this.opts.disablePageScrollWhenModalOpen) {\n        document.body.classList.add('uppy-Dashboard-isFixed');\n      }\n      if (this.opts.animateOpenClose && this.getPluginState().isClosing) {\n        const handler = () => {\n          this.setPluginState({\n            isHidden: false\n          });\n          this.el.removeEventListener('animationend', handler, false);\n          resolve();\n        };\n        this.el.addEventListener('animationend', handler, false);\n      } else {\n        this.setPluginState({\n          isHidden: false\n        });\n        resolve();\n      }\n      if (this.opts.browserBackButtonClose) {\n        this.updateBrowserHistory();\n      }\n\n      // handle ESC and TAB keys in modal dialog\n      document.addEventListener('keydown', this.handleKeyDownInModal);\n      this.uppy.emit('dashboard:modal-open');\n      return promise;\n    };\n    this.closeModal = opts => {\n      var _opts$manualClose;\n      // Whether the modal is being closed by the user (`true`) or by other means (e.g. browser back button)\n      const manualClose = (_opts$manualClose = opts == null ? void 0 : opts.manualClose) != null ? _opts$manualClose : true;\n      const {\n        isHidden,\n        isClosing\n      } = this.getPluginState();\n      if (isHidden || isClosing) {\n        // short-circuit if animation is ongoing\n        return undefined;\n      }\n      const {\n        promise,\n        resolve\n      } = createPromise();\n      if (this.opts.disablePageScrollWhenModalOpen) {\n        document.body.classList.remove('uppy-Dashboard-isFixed');\n      }\n      if (this.opts.animateOpenClose) {\n        this.setPluginState({\n          isClosing: true\n        });\n        const handler = () => {\n          this.setPluginState({\n            isHidden: true,\n            isClosing: false\n          });\n          this.superFocus.cancel();\n          this.savedActiveElement.focus();\n          this.el.removeEventListener('animationend', handler, false);\n          resolve();\n        };\n        this.el.addEventListener('animationend', handler, false);\n      } else {\n        this.setPluginState({\n          isHidden: true\n        });\n        this.superFocus.cancel();\n        this.savedActiveElement.focus();\n        resolve();\n      }\n\n      // handle ESC and TAB keys in modal dialog\n      document.removeEventListener('keydown', this.handleKeyDownInModal);\n      if (manualClose) {\n        if (this.opts.browserBackButtonClose) {\n          var _history$state;\n          // Make sure that the latest entry in the history state is our modal name\n          // eslint-disable-next-line no-restricted-globals\n          if ((_history$state = history.state) != null && _history$state[this.modalName]) {\n            // Go back in history to clear out the entry we created (ultimately closing the modal)\n            // eslint-disable-next-line no-restricted-globals\n            history.back();\n          }\n        }\n      }\n      this.uppy.emit('dashboard:modal-closed');\n      return promise;\n    };\n    this.isModalOpen = () => {\n      return !this.getPluginState().isHidden || false;\n    };\n    this.requestCloseModal = () => {\n      if (this.opts.onRequestCloseModal) {\n        return this.opts.onRequestCloseModal();\n      }\n      return this.closeModal();\n    };\n    this.setDarkModeCapability = isDarkModeOn => {\n      const {\n        capabilities\n      } = this.uppy.getState();\n      this.uppy.setState({\n        capabilities: {\n          ...capabilities,\n          darkMode: isDarkModeOn\n        }\n      });\n    };\n    this.handleSystemDarkModeChange = event => {\n      const isDarkModeOnNow = event.matches;\n      this.uppy.log(`[Dashboard] Dark mode is ${isDarkModeOnNow ? 'on' : 'off'}`);\n      this.setDarkModeCapability(isDarkModeOnNow);\n    };\n    this.toggleFileCard = (show, fileID) => {\n      const file = this.uppy.getFile(fileID);\n      if (show) {\n        this.uppy.emit('dashboard:file-edit-start', file);\n      } else {\n        this.uppy.emit('dashboard:file-edit-complete', file);\n      }\n      this.setPluginState({\n        fileCardFor: show ? fileID : null,\n        activeOverlayType: show ? 'FileCard' : null\n      });\n    };\n    this.toggleAddFilesPanel = show => {\n      this.setPluginState({\n        showAddFilesPanel: show,\n        activeOverlayType: show ? 'AddFiles' : null\n      });\n    };\n    this.addFiles = files => {\n      const descriptors = files.map(file => ({\n        source: this.id,\n        name: file.name,\n        type: file.type,\n        data: file,\n        meta: {\n          // path of the file relative to the ancestor directory the user selected.\n          // e.g. 'docs/Old Prague/airbnb.pdf'\n          relativePath: file.relativePath || file.webkitRelativePath || null\n        }\n      }));\n      try {\n        this.uppy.addFiles(descriptors);\n      } catch (err) {\n        this.uppy.log(err);\n      }\n    };\n    // ___Why make insides of Dashboard invisible until first ResizeObserver event is emitted?\n    //    ResizeOberserver doesn't emit the first resize event fast enough, users can see the jump from one .uppy-size-- to\n    //    another (e.g. in Safari)\n    // ___Why not apply visibility property to .uppy-Dashboard-inner?\n    //    Because ideally, acc to specs, ResizeObserver should see invisible elements as of width 0. So even though applying\n    //    invisibility to .uppy-Dashboard-inner works now, it may not work in the future.\n    this.startListeningToResize = () => {\n      // Watch for Dashboard container (`.uppy-Dashboard-inner`) resize\n      // and update containerWidth/containerHeight in plugin state accordingly.\n      // Emits first event on initialization.\n      this.resizeObserver = new ResizeObserver(entries => {\n        const uppyDashboardInnerEl = entries[0];\n        const {\n          width,\n          height\n        } = uppyDashboardInnerEl.contentRect;\n        this.setPluginState({\n          containerWidth: width,\n          containerHeight: height,\n          areInsidesReadyToBeVisible: true\n        });\n      });\n      this.resizeObserver.observe(this.el.querySelector('.uppy-Dashboard-inner'));\n\n      // If ResizeObserver fails to emit an event telling us what size to use - default to the mobile view\n      this.makeDashboardInsidesVisibleAnywayTimeout = setTimeout(() => {\n        const pluginState = this.getPluginState();\n        const isModalAndClosed = !this.opts.inline && pluginState.isHidden;\n        if (\n        // We might want to enable this in the future\n\n        // if ResizeObserver hasn't yet fired,\n        !pluginState.areInsidesReadyToBeVisible &&\n        // and it's not due to the modal being closed\n        !isModalAndClosed) {\n          this.uppy.log('[Dashboard] resize event didn\u2019t fire on time: defaulted to mobile layout', 'warning');\n          this.setPluginState({\n            areInsidesReadyToBeVisible: true\n          });\n        }\n      }, 1000);\n    };\n    this.stopListeningToResize = () => {\n      this.resizeObserver.disconnect();\n      clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout);\n    };\n    // Records whether we have been interacting with uppy right now,\n    // which is then used to determine whether state updates should trigger a refocusing.\n    this.recordIfFocusedOnUppyRecently = event => {\n      if (this.el.contains(event.target)) {\n        this.ifFocusedOnUppyRecently = true;\n      } else {\n        this.ifFocusedOnUppyRecently = false;\n        // ___Why run this.superFocus.cancel here when it already runs in superFocusOnEachUpdate?\n        //    Because superFocus is debounced, when we move from Uppy to some other element on the page,\n        //    previously run superFocus sometimes hits and moves focus back to Uppy.\n        this.superFocus.cancel();\n      }\n    };\n    this.disableInteractiveElements = disable => {\n      var _classPrivateFieldLoo;\n      const NODES_TO_DISABLE = ['a[href]', 'input:not([disabled])', 'select:not([disabled])', 'textarea:not([disabled])', 'button:not([disabled])', '[role=\"button\"]:not([disabled])'];\n      const nodesToDisable = (_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _disabledNodes)[_disabledNodes]) != null ? _classPrivateFieldLoo : toArray(this.el.querySelectorAll(NODES_TO_DISABLE)).filter(node => !node.classList.contains('uppy-Dashboard-close'));\n      for (const node of nodesToDisable) {\n        // Links can\u2019t have `disabled` attr, so we use `aria-disabled` for a11y\n        if (node.tagName === 'A') {\n          node.setAttribute('aria-disabled', disable);\n        } else {\n          node.disabled = disable;\n        }\n      }\n      if (disable) {\n        _classPrivateFieldLooseBase(this, _disabledNodes)[_disabledNodes] = nodesToDisable;\n      } else {\n        _classPrivateFieldLooseBase(this, _disabledNodes)[_disabledNodes] = null;\n      }\n      this.dashboardIsDisabled = disable;\n    };\n    this.updateBrowserHistory = () => {\n      var _history$state2;\n      // Ensure history state does not already contain our modal name to avoid double-pushing\n      // eslint-disable-next-line no-restricted-globals\n      if (!((_history$state2 = history.state) != null && _history$state2[this.modalName])) {\n        // Push to history so that the page is not lost on browser back button press\n        // eslint-disable-next-line no-restricted-globals\n        history.pushState({\n          // eslint-disable-next-line no-restricted-globals\n          ...history.state,\n          [this.modalName]: true\n        }, '');\n      }\n\n      // Listen for back button presses\n      window.addEventListener('popstate', this.handlePopState, false);\n    };\n    this.handlePopState = event => {\n      var _event$state;\n      // Close the modal if the history state no longer contains our modal name\n      if (this.isModalOpen() && (!event.state || !event.state[this.modalName])) {\n        this.closeModal({\n          manualClose: false\n        });\n      }\n\n      // When the browser back button is pressed and uppy is now the latest entry\n      // in the history but the modal is closed, fix the history by removing the\n      // uppy history entry.\n      // This occurs when another entry is added into the history state while the\n      // modal is open, and then the modal gets manually closed.\n      // Solves PR #575 (https://github.com/transloadit/uppy/pull/575)\n      if (!this.isModalOpen() && (_event$state = event.state) != null && _event$state[this.modalName]) {\n        // eslint-disable-next-line no-restricted-globals\n        history.back();\n      }\n    };\n    this.handleKeyDownInModal = event => {\n      // close modal on esc key press\n      if (event.keyCode === ESC_KEY) this.requestCloseModal();\n      // trap focus on tab key press\n      if (event.keyCode === TAB_KEY) trapFocus.forModal(event, this.getPluginState().activeOverlayType, this.el);\n    };\n    this.handleClickOutside = () => {\n      if (this.opts.closeModalOnClickOutside) this.requestCloseModal();\n    };\n    this.handlePaste = event => {\n      // Let any acquirer plugin (Url/Webcam/etc.) handle pastes to the root\n      this.uppy.iteratePlugins(plugin => {\n        if (plugin.type === 'acquirer') {\n          // Every Plugin with .type acquirer can define handleRootPaste(event)\n          ;\n          plugin.handleRootPaste == null || plugin.handleRootPaste(event);\n        }\n      });\n\n      // Add all dropped files\n      const files = toArray(event.clipboardData.files);\n      if (files.length > 0) {\n        this.uppy.log('[Dashboard] Files pasted');\n        this.addFiles(files);\n      }\n    };\n    this.handleInputChange = event => {\n      event.preventDefault();\n      const files = toArray(event.currentTarget.files || []);\n      if (files.length > 0) {\n        this.uppy.log('[Dashboard] Files selected through input');\n        this.addFiles(files);\n      }\n    };\n    this.handleDragOver = event => {\n      event.preventDefault();\n      event.stopPropagation();\n\n      // Check if some plugin can handle the datatransfer without files \u2014\n      // for instance, the Url plugin can import a url\n      const canSomePluginHandleRootDrop = () => {\n        let somePluginCanHandleRootDrop = true;\n        this.uppy.iteratePlugins(plugin => {\n          if (plugin.canHandleRootDrop != null && plugin.canHandleRootDrop(event)) {\n            somePluginCanHandleRootDrop = true;\n          }\n        });\n        return somePluginCanHandleRootDrop;\n      };\n\n      // Check if the \"type\" of the datatransfer object includes files\n      const doesEventHaveFiles = () => {\n        const {\n          types\n        } = event.dataTransfer;\n        return types.some(type => type === 'Files');\n      };\n\n      // Deny drop, if no plugins can handle datatransfer, there are no files,\n      // or when opts.disabled is set, or new uploads are not allowed\n      const somePluginCanHandleRootDrop = canSomePluginHandleRootDrop();\n      const hasFiles = doesEventHaveFiles();\n      if (!somePluginCanHandleRootDrop && !hasFiles || this.opts.disabled ||\n      // opts.disableLocalFiles should only be taken into account if no plugins\n      // can handle the datatransfer\n      this.opts.disableLocalFiles && (hasFiles || !somePluginCanHandleRootDrop) || !this.uppy.getState().allowNewUpload) {\n        event.dataTransfer.dropEffect = 'none'; // eslint-disable-line no-param-reassign\n        return;\n      }\n\n      // Add a small (+) icon on drop\n      // (and prevent browsers from interpreting this as files being _moved_ into the\n      // browser, https://github.com/transloadit/uppy/issues/1978).\n      event.dataTransfer.dropEffect = 'copy'; // eslint-disable-line no-param-reassign\n\n      this.setPluginState({\n        isDraggingOver: true\n      });\n      this.opts.onDragOver(event);\n    };\n    this.handleDragLeave = event => {\n      event.preventDefault();\n      event.stopPropagation();\n      this.setPluginState({\n        isDraggingOver: false\n      });\n      this.opts.onDragLeave(event);\n    };\n    this.handleDrop = async event => {\n      event.preventDefault();\n      event.stopPropagation();\n      this.setPluginState({\n        isDraggingOver: false\n      });\n\n      // Let any acquirer plugin (Url/Webcam/etc.) handle drops to the root\n      this.uppy.iteratePlugins(plugin => {\n        if (plugin.type === 'acquirer') {\n          // Every Plugin with .type acquirer can define handleRootDrop(event)\n          ;\n          plugin.handleRootDrop == null || plugin.handleRootDrop(event);\n        }\n      });\n\n      // Add all dropped files\n      let executedDropErrorOnce = false;\n      const logDropError = error => {\n        this.uppy.log(error, 'error');\n\n        // In practice all drop errors are most likely the same,\n        // so let's just show one to avoid overwhelming the user\n        if (!executedDropErrorOnce) {\n          this.uppy.info(error.message, 'error');\n          executedDropErrorOnce = true;\n        }\n      };\n      this.uppy.log('[Dashboard] Processing dropped files');\n\n      // Add all dropped files\n      const files = await getDroppedFiles(event.dataTransfer, {\n        logDropError\n      });\n      if (files.length > 0) {\n        this.uppy.log('[Dashboard] Files dropped');\n        this.addFiles(files);\n      }\n      this.opts.onDrop(event);\n    };\n    this.handleRequestThumbnail = file => {\n      if (!this.opts.waitForThumbnailsBeforeUpload) {\n        this.uppy.emit('thumbnail:request', file);\n      }\n    };\n    /**\n     * We cancel thumbnail requests when a file item component unmounts to avoid\n     * clogging up the queue when the user scrolls past many elements.\n     */\n    this.handleCancelThumbnail = file => {\n      if (!this.opts.waitForThumbnailsBeforeUpload) {\n        this.uppy.emit('thumbnail:cancel', file);\n      }\n    };\n    this.handleKeyDownInInline = event => {\n      // Trap focus on tab key press.\n      if (event.keyCode === TAB_KEY) trapFocus.forInline(event, this.getPluginState().activeOverlayType, this.el);\n    };\n    // ___Why do we listen to the 'paste' event on a document instead of onPaste={props.handlePaste} prop,\n    //    or this.el.addEventListener('paste')?\n    //    Because (at least) Chrome doesn't handle paste if focus is on some button, e.g. 'My Device'.\n    //    => Therefore, the best option is to listen to all 'paste' events, and only react to them when we are focused on our\n    //       particular Uppy instance.\n    // ___Why do we still need onPaste={props.handlePaste} for the DashboardUi?\n    //    Because if we click on the 'Drop files here' caption e.g., `document.activeElement` will be 'body'. Which means our\n    //    standard determination of whether we're pasting into our Uppy instance won't work.\n    //    => Therefore, we need a traditional onPaste={props.handlePaste} handler too.\n    this.handlePasteOnBody = event => {\n      const isFocusInOverlay = this.el.contains(document.activeElement);\n      if (isFocusInOverlay) {\n        this.handlePaste(event);\n      }\n    };\n    this.handleComplete = _ref => {\n      let {\n        failed\n      } = _ref;\n      if (this.opts.closeAfterFinish && !(failed != null && failed.length)) {\n        // All uploads are done\n        this.requestCloseModal();\n      }\n    };\n    this.handleCancelRestore = () => {\n      this.uppy.emit('restore-canceled');\n    };\n    Object.defineProperty(this, _generateLargeThumbnailIfSingleFile, {\n      writable: true,\n      value: () => {\n        if (this.opts.disableThumbnailGenerator) {\n          return;\n        }\n        const LARGE_THUMBNAIL = 600;\n        const files = this.uppy.getFiles();\n        if (files.length === 1) {\n          const thumbnailGenerator = this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);\n          thumbnailGenerator == null || thumbnailGenerator.setOptions({\n            thumbnailWidth: LARGE_THUMBNAIL\n          });\n          const fileForThumbnail = {\n            ...files[0],\n            preview: undefined\n          };\n          thumbnailGenerator == null || thumbnailGenerator.requestThumbnail(fileForThumbnail).then(() => {\n            thumbnailGenerator == null || thumbnailGenerator.setOptions({\n              thumbnailWidth: this.opts.thumbnailWidth\n            });\n          });\n        }\n      }\n    });\n    Object.defineProperty(this, _openFileEditorWhenFilesAdded, {\n      writable: true,\n      value: files => {\n        const firstFile = files[0];\n        const {\n          metaFields\n        } = this.getPluginState();\n        const isMetaEditorEnabled = metaFields && metaFields.length > 0;\n        const isImageEditorEnabled = this.canEditFile(firstFile);\n        if (isMetaEditorEnabled && this.opts.autoOpen === 'metaEditor') {\n          this.toggleFileCard(true, firstFile.id);\n        } else if (isImageEditorEnabled && this.opts.autoOpen === 'imageEditor') {\n          this.openFileEditor(firstFile);\n        }\n      }\n    });\n    this.initEvents = () => {\n      // Modal open button\n      if (this.opts.trigger && !this.opts.inline) {\n        const showModalTrigger = findAllDOMElements(this.opts.trigger);\n        if (showModalTrigger) {\n          showModalTrigger.forEach(trigger => trigger.addEventListener('click', this.openModal));\n        } else {\n          this.uppy.log('Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself', 'warning');\n        }\n      }\n      this.startListeningToResize();\n      document.addEventListener('paste', this.handlePasteOnBody);\n      this.uppy.on('plugin-added', _classPrivateFieldLooseBase(this, _addSupportedPluginIfNoTarget)[_addSupportedPluginIfNoTarget]);\n      this.uppy.on('plugin-remove', this.removeTarget);\n      this.uppy.on('file-added', this.hideAllPanels);\n      this.uppy.on('dashboard:modal-closed', this.hideAllPanels);\n      this.uppy.on('complete', this.handleComplete);\n      this.uppy.on('files-added', _classPrivateFieldLooseBase(this, _generateLargeThumbnailIfSingleFile)[_generateLargeThumbnailIfSingleFile]);\n      this.uppy.on('file-removed', _classPrivateFieldLooseBase(this, _generateLargeThumbnailIfSingleFile)[_generateLargeThumbnailIfSingleFile]);\n\n      // ___Why fire on capture?\n      //    Because this.ifFocusedOnUppyRecently needs to change before onUpdate() fires.\n      document.addEventListener('focus', this.recordIfFocusedOnUppyRecently, true);\n      document.addEventListener('click', this.recordIfFocusedOnUppyRecently, true);\n      if (this.opts.inline) {\n        this.el.addEventListener('keydown', this.handleKeyDownInInline);\n      }\n      if (this.opts.autoOpen) {\n        this.uppy.on('files-added', _classPrivateFieldLooseBase(this, _openFileEditorWhenFilesAdded)[_openFileEditorWhenFilesAdded]);\n      }\n    };\n    this.removeEvents = () => {\n      const showModalTrigger = findAllDOMElements(this.opts.trigger);\n      if (!this.opts.inline && showModalTrigger) {\n        showModalTrigger.forEach(trigger => trigger.removeEventListener('click', this.openModal));\n      }\n      this.stopListeningToResize();\n      document.removeEventListener('paste', this.handlePasteOnBody);\n      window.removeEventListener('popstate', this.handlePopState, false);\n      this.uppy.off('plugin-added', _classPrivateFieldLooseBase(this, _addSupportedPluginIfNoTarget)[_addSupportedPluginIfNoTarget]);\n      this.uppy.off('plugin-remove', this.removeTarget);\n      this.uppy.off('file-added', this.hideAllPanels);\n      this.uppy.off('dashboard:modal-closed', this.hideAllPanels);\n      this.uppy.off('complete', this.handleComplete);\n      this.uppy.off('files-added', _classPrivateFieldLooseBase(this, _generateLargeThumbnailIfSingleFile)[_generateLargeThumbnailIfSingleFile]);\n      this.uppy.off('file-removed', _classPrivateFieldLooseBase(this, _generateLargeThumbnailIfSingleFile)[_generateLargeThumbnailIfSingleFile]);\n      document.removeEventListener('focus', this.recordIfFocusedOnUppyRecently);\n      document.removeEventListener('click', this.recordIfFocusedOnUppyRecently);\n      if (this.opts.inline) {\n        this.el.removeEventListener('keydown', this.handleKeyDownInInline);\n      }\n      if (this.opts.autoOpen) {\n        this.uppy.off('files-added', _classPrivateFieldLooseBase(this, _openFileEditorWhenFilesAdded)[_openFileEditorWhenFilesAdded]);\n      }\n    };\n    this.superFocusOnEachUpdate = () => {\n      const isFocusInUppy = this.el.contains(document.activeElement);\n      // When focus is lost on the page (== focus is on body for most browsers, or focus is null for IE11)\n      const isFocusNowhere = document.activeElement === document.body || document.activeElement === null;\n      const isInformerHidden = this.uppy.getState().info.length === 0;\n      const isModal = !this.opts.inline;\n      if (\n      // If update is connected to showing the Informer - let the screen reader calmly read it.\n      isInformerHidden && (\n      // If we are in a modal - always superfocus without concern for other elements\n      // on the page (user is unlikely to want to interact with the rest of the page)\n      isModal ||\n      // If we are already inside of Uppy, or\n      isFocusInUppy ||\n      // If we are not focused on anything BUT we have already, at least once, focused on uppy\n      //   1. We focus when isFocusNowhere, because when the element we were focused\n      //      on disappears (e.g. an overlay), - focus gets lost. If user is typing\n      //      something somewhere else on the page, - focus won't be 'nowhere'.\n      //   2. We only focus when focus is nowhere AND this.ifFocusedOnUppyRecently,\n      //      to avoid focus jumps if we do something else on the page.\n      //   [Practical check] Without '&& this.ifFocusedOnUppyRecently', in Safari, in inline mode,\n      //                     when file is uploading, - navigate via tab to the checkbox,\n      //                     try to press space multiple times. Focus will jump to Uppy.\n      isFocusNowhere && this.ifFocusedOnUppyRecently)) {\n        this.superFocus(this.el, this.getPluginState().activeOverlayType);\n      } else {\n        this.superFocus.cancel();\n      }\n    };\n    this.afterUpdate = () => {\n      if (this.opts.disabled && !this.dashboardIsDisabled) {\n        this.disableInteractiveElements(true);\n        return;\n      }\n      if (!this.opts.disabled && this.dashboardIsDisabled) {\n        this.disableInteractiveElements(false);\n      }\n      this.superFocusOnEachUpdate();\n    };\n    this.saveFileCard = (meta, fileID) => {\n      this.uppy.setFileMeta(fileID, meta);\n      this.toggleFileCard(false, fileID);\n    };\n    Object.defineProperty(this, _attachRenderFunctionToTarget, {\n      writable: true,\n      value: target => {\n        const plugin = this.uppy.getPlugin(target.id);\n        return {\n          ...target,\n          icon: plugin.icon || this.opts.defaultPickerIcon,\n          render: plugin.render\n        };\n      }\n    });\n    Object.defineProperty(this, _isTargetSupported, {\n      writable: true,\n      value: target => {\n        const plugin = this.uppy.getPlugin(target.id);\n        // If the plugin does not provide a `supported` check, assume the plugin works everywhere.\n        if (typeof plugin.isSupported !== 'function') {\n          return true;\n        }\n        return plugin.isSupported();\n      }\n    });\n    Object.defineProperty(this, _getAcquirers, {\n      writable: true,\n      value: memoize(targets => {\n        return targets.filter(target => target.type === 'acquirer' && _classPrivateFieldLooseBase(this, _isTargetSupported)[_isTargetSupported](target)).map(_classPrivateFieldLooseBase(this, _attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]);\n      })\n    });\n    Object.defineProperty(this, _getProgressIndicators, {\n      writable: true,\n      value: memoize(targets => {\n        return targets.filter(target => target.type === 'progressindicator').map(_classPrivateFieldLooseBase(this, _attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]);\n      })\n    });\n    Object.defineProperty(this, _getEditors, {\n      writable: true,\n      value: memoize(targets => {\n        return targets.filter(target => target.type === 'editor').map(_classPrivateFieldLooseBase(this, _attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]);\n      })\n    });\n    this.render = state => {\n      const pluginState = this.getPluginState();\n      const {\n        files,\n        capabilities,\n        allowNewUpload\n      } = state;\n      const {\n        newFiles,\n        uploadStartedFiles,\n        completeFiles,\n        erroredFiles,\n        inProgressFiles,\n        inProgressNotPausedFiles,\n        processingFiles,\n        isUploadStarted,\n        isAllComplete,\n        isAllPaused\n      } = this.uppy.getObjectOfFilesPerState();\n      const acquirers = _classPrivateFieldLooseBase(this, _getAcquirers)[_getAcquirers](pluginState.targets);\n      const progressindicators = _classPrivateFieldLooseBase(this, _getProgressIndicators)[_getProgressIndicators](pluginState.targets);\n      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](pluginState.targets);\n      let theme;\n      if (this.opts.theme === 'auto') {\n        theme = capabilities.darkMode ? 'dark' : 'light';\n      } else {\n        theme = this.opts.theme;\n      }\n      if (['files', 'folders', 'both'].indexOf(this.opts.fileManagerSelectionType) < 0) {\n        this.opts.fileManagerSelectionType = 'files';\n        // eslint-disable-next-line no-console\n        console.warn(`Unsupported option for \"fileManagerSelectionType\". Using default of \"${this.opts.fileManagerSelectionType}\".`);\n      }\n      return DashboardUI({\n        state,\n        isHidden: pluginState.isHidden,\n        files,\n        newFiles,\n        uploadStartedFiles,\n        completeFiles,\n        erroredFiles,\n        inProgressFiles,\n        inProgressNotPausedFiles,\n        processingFiles,\n        isUploadStarted,\n        isAllComplete,\n        isAllPaused,\n        totalFileCount: Object.keys(files).length,\n        totalProgress: state.totalProgress,\n        allowNewUpload,\n        acquirers,\n        theme,\n        disabled: this.opts.disabled,\n        disableLocalFiles: this.opts.disableLocalFiles,\n        direction: this.opts.direction,\n        activePickerPanel: pluginState.activePickerPanel,\n        showFileEditor: pluginState.showFileEditor,\n        saveFileEditor: this.saveFileEditor,\n        closeFileEditor: this.closeFileEditor,\n        disableInteractiveElements: this.disableInteractiveElements,\n        animateOpenClose: this.opts.animateOpenClose,\n        isClosing: pluginState.isClosing,\n        progressindicators,\n        editors,\n        autoProceed: this.uppy.opts.autoProceed,\n        id: this.id,\n        closeModal: this.requestCloseModal,\n        handleClickOutside: this.handleClickOutside,\n        handleInputChange: this.handleInputChange,\n        handlePaste: this.handlePaste,\n        inline: this.opts.inline,\n        showPanel: this.showPanel,\n        hideAllPanels: this.hideAllPanels,\n        i18n: this.i18n,\n        i18nArray: this.i18nArray,\n        uppy: this.uppy,\n        note: this.opts.note,\n        recoveredState: state.recoveredState,\n        metaFields: pluginState.metaFields,\n        resumableUploads: capabilities.resumableUploads || false,\n        individualCancellation: capabilities.individualCancellation,\n        isMobileDevice: capabilities.isMobileDevice,\n        fileCardFor: pluginState.fileCardFor,\n        toggleFileCard: this.toggleFileCard,\n        toggleAddFilesPanel: this.toggleAddFilesPanel,\n        showAddFilesPanel: pluginState.showAddFilesPanel,\n        saveFileCard: this.saveFileCard,\n        openFileEditor: this.openFileEditor,\n        canEditFile: this.canEditFile,\n        width: this.opts.width,\n        height: this.opts.height,\n        showLinkToFileUploadResult: this.opts.showLinkToFileUploadResult,\n        fileManagerSelectionType: this.opts.fileManagerSelectionType,\n        proudlyDisplayPoweredByUppy: this.opts.proudlyDisplayPoweredByUppy,\n        hideCancelButton: this.opts.hideCancelButton,\n        hideRetryButton: this.opts.hideRetryButton,\n        hidePauseResumeButton: this.opts.hidePauseResumeButton,\n        showRemoveButtonAfterComplete: this.opts.showRemoveButtonAfterComplete,\n        containerWidth: pluginState.containerWidth,\n        containerHeight: pluginState.containerHeight,\n        areInsidesReadyToBeVisible: pluginState.areInsidesReadyToBeVisible,\n        parentElement: this.el,\n        allowedFileTypes: this.uppy.opts.restrictions.allowedFileTypes,\n        maxNumberOfFiles: this.uppy.opts.restrictions.maxNumberOfFiles,\n        requiredMetaFields: this.uppy.opts.restrictions.requiredMetaFields,\n        showSelectedFiles: this.opts.showSelectedFiles,\n        showNativePhotoCameraButton: this.opts.showNativePhotoCameraButton,\n        showNativeVideoCameraButton: this.opts.showNativeVideoCameraButton,\n        nativeCameraFacingMode: this.opts.nativeCameraFacingMode,\n        singleFileFullScreen: this.opts.singleFileFullScreen,\n        handleCancelRestore: this.handleCancelRestore,\n        handleRequestThumbnail: this.handleRequestThumbnail,\n        handleCancelThumbnail: this.handleCancelThumbnail,\n        // drag props\n        isDraggingOver: pluginState.isDraggingOver,\n        handleDragOver: this.handleDragOver,\n        handleDragLeave: this.handleDragLeave,\n        handleDrop: this.handleDrop\n      });\n    };\n    Object.defineProperty(this, _addSpecifiedPluginsFromOptions, {\n      writable: true,\n      value: () => {\n        const {\n          plugins\n        } = this.opts;\n        plugins.forEach(pluginID => {\n          const plugin = this.uppy.getPlugin(pluginID);\n          if (plugin) {\n            ;\n            plugin.mount(this, plugin);\n          } else {\n            this.uppy.log(`[Uppy] Dashboard could not find plugin '${pluginID}', make sure to uppy.use() the plugins you are specifying`, 'warning');\n          }\n        });\n      }\n    });\n    Object.defineProperty(this, _autoDiscoverPlugins, {\n      writable: true,\n      value: () => {\n        this.uppy.iteratePlugins(_classPrivateFieldLooseBase(this, _addSupportedPluginIfNoTarget)[_addSupportedPluginIfNoTarget]);\n      }\n    });\n    Object.defineProperty(this, _addSupportedPluginIfNoTarget, {\n      writable: true,\n      value: plugin => {\n        var _plugin$opts;\n        // Only these types belong on the Dashboard,\n        // we wouldn\u2019t want to try and mount Compressor or Tus, for example.\n        const typesAllowed = ['acquirer', 'editor'];\n        if (plugin && !((_plugin$opts = plugin.opts) != null && _plugin$opts.target) && typesAllowed.includes(plugin.type)) {\n          const pluginAlreadyAdded = this.getPluginState().targets.some(installedPlugin => plugin.id === installedPlugin.id);\n          if (!pluginAlreadyAdded) {\n            ;\n            plugin.mount(this, plugin);\n          }\n        }\n      }\n    });\n    this.install = () => {\n      // Set default state for Dashboard\n      this.setPluginState({\n        isHidden: true,\n        fileCardFor: null,\n        activeOverlayType: null,\n        showAddFilesPanel: false,\n        activePickerPanel: undefined,\n        showFileEditor: false,\n        metaFields: this.opts.metaFields,\n        targets: [],\n        // We'll make them visible once .containerWidth is determined\n        areInsidesReadyToBeVisible: false,\n        isDraggingOver: false\n      });\n      const {\n        inline,\n        closeAfterFinish\n      } = this.opts;\n      if (inline && closeAfterFinish) {\n        throw new Error('[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.');\n      }\n      const {\n        allowMultipleUploads,\n        allowMultipleUploadBatches\n      } = this.uppy.opts;\n      if ((allowMultipleUploads || allowMultipleUploadBatches) && closeAfterFinish) {\n        this.uppy.log('[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true', 'warning');\n      }\n      const {\n        target\n      } = this.opts;\n      if (target) {\n        this.mount(target, this);\n      }\n      if (!this.opts.disableStatusBar) {\n        this.uppy.use(StatusBar, {\n          id: _classPrivateFieldLooseBase(this, _getStatusBarId)[_getStatusBarId](),\n          target: this,\n          ..._classPrivateFieldLooseBase(this, _getStatusBarOpts)[_getStatusBarOpts]()\n        });\n      }\n      if (!this.opts.disableInformer) {\n        this.uppy.use(Informer, {\n          id: _classPrivateFieldLooseBase(this, _getInformerId)[_getInformerId](),\n          target: this,\n          ..._classPrivateFieldLooseBase(this, _getInformerOpts)[_getInformerOpts]()\n        });\n      }\n      if (!this.opts.disableThumbnailGenerator) {\n        this.uppy.use(ThumbnailGenerator, {\n          id: _classPrivateFieldLooseBase(this, _getThumbnailGeneratorId)[_getThumbnailGeneratorId](),\n          ..._classPrivateFieldLooseBase(this, _getThumbnailGeneratorOpts)[_getThumbnailGeneratorOpts]()\n        });\n      }\n\n      // Dark Mode / theme\n      this.darkModeMediaQuery = typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)') : null;\n      const isDarkModeOnFromTheStart = this.darkModeMediaQuery ? this.darkModeMediaQuery.matches : false;\n      this.uppy.log(`[Dashboard] Dark mode is ${isDarkModeOnFromTheStart ? 'on' : 'off'}`);\n      this.setDarkModeCapability(isDarkModeOnFromTheStart);\n      if (this.opts.theme === 'auto') {\n        var _this$darkModeMediaQu;\n        (_this$darkModeMediaQu = this.darkModeMediaQuery) == null || _this$darkModeMediaQu.addListener(this.handleSystemDarkModeChange);\n      }\n      _classPrivateFieldLooseBase(this, _addSpecifiedPluginsFromOptions)[_addSpecifiedPluginsFromOptions]();\n      _classPrivateFieldLooseBase(this, _autoDiscoverPlugins)[_autoDiscoverPlugins]();\n      this.initEvents();\n    };\n    this.uninstall = () => {\n      if (!this.opts.disableInformer) {\n        const informer = this.uppy.getPlugin(`${this.id}:Informer`);\n        // Checking if this plugin exists, in case it was removed by uppy-core\n        // before the Dashboard was.\n        if (informer) this.uppy.removePlugin(informer);\n      }\n      if (!this.opts.disableStatusBar) {\n        const statusBar = this.uppy.getPlugin(`${this.id}:StatusBar`);\n        if (statusBar) this.uppy.removePlugin(statusBar);\n      }\n      if (!this.opts.disableThumbnailGenerator) {\n        const thumbnail = this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);\n        if (thumbnail) this.uppy.removePlugin(thumbnail);\n      }\n      const {\n        plugins\n      } = this.opts;\n      plugins.forEach(pluginID => {\n        const plugin = this.uppy.getPlugin(pluginID);\n        if (plugin) plugin.unmount();\n      });\n      if (this.opts.theme === 'auto') {\n        var _this$darkModeMediaQu2;\n        (_this$darkModeMediaQu2 = this.darkModeMediaQuery) == null || _this$darkModeMediaQu2.removeListener(this.handleSystemDarkModeChange);\n      }\n      if (this.opts.disablePageScrollWhenModalOpen) {\n        document.body.classList.remove('uppy-Dashboard-isFixed');\n      }\n      this.unmount();\n      this.removeEvents();\n    };\n    this.id = this.opts.id || 'Dashboard';\n    this.title = 'Dashboard';\n    this.type = 'orchestrator';\n    this.defaultLocale = locale;\n\n    // Dynamic default options:\n    if (this.opts.doneButtonHandler === undefined) {\n      // `null` means \"do not display a Done button\", while `undefined` means\n      // \"I want the default behavior\". For this reason, we need to differentiate `null` and `undefined`.\n      this.opts.doneButtonHandler = () => {\n        this.uppy.clear();\n        this.requestCloseModal();\n      };\n    }\n    (_this$opts$onRequestC = (_this$opts = this.opts).onRequestCloseModal) != null ? _this$opts$onRequestC : _this$opts.onRequestCloseModal = () => this.closeModal();\n    this.i18nInit();\n  }\n  setOptions(opts) {\n    var _this$uppy$getPlugin, _this$uppy$getPlugin2;\n    super.setOptions(opts);\n    (_this$uppy$getPlugin = this.uppy.getPlugin(_classPrivateFieldLooseBase(this, _getStatusBarId)[_getStatusBarId]())) == null || _this$uppy$getPlugin.setOptions(_classPrivateFieldLooseBase(this, _getStatusBarOpts)[_getStatusBarOpts]());\n    (_this$uppy$getPlugin2 = this.uppy.getPlugin(_classPrivateFieldLooseBase(this, _getThumbnailGeneratorId)[_getThumbnailGeneratorId]())) == null || _this$uppy$getPlugin2.setOptions(_classPrivateFieldLooseBase(this, _getThumbnailGeneratorOpts)[_getThumbnailGeneratorOpts]());\n  }\n}\nfunction _getStatusBarOpts2() {\n  const {\n    hideUploadButton,\n    hideRetryButton,\n    hidePauseResumeButton,\n    hideCancelButton,\n    showProgressDetails,\n    hideProgressAfterFinish,\n    locale: l,\n    doneButtonHandler\n  } = this.opts;\n  return {\n    hideUploadButton,\n    hideRetryButton,\n    hidePauseResumeButton,\n    hideCancelButton,\n    showProgressDetails,\n    hideAfterFinish: hideProgressAfterFinish,\n    locale: l,\n    doneButtonHandler\n  };\n}\nfunction _getThumbnailGeneratorOpts2() {\n  const {\n    thumbnailWidth,\n    thumbnailHeight,\n    thumbnailType,\n    waitForThumbnailsBeforeUpload\n  } = this.opts;\n  return {\n    thumbnailWidth,\n    thumbnailHeight,\n    thumbnailType,\n    waitForThumbnailsBeforeUpload,\n    // If we don't block on thumbnails, we can lazily generate them\n    lazy: !waitForThumbnailsBeforeUpload\n  };\n}\nfunction _getInformerOpts2() {\n  return {\n    // currently no options\n  };\n}\nfunction _getStatusBarId2() {\n  return `${this.id}:StatusBar`;\n}\nfunction _getThumbnailGeneratorId2() {\n  return `${this.id}:ThumbnailGenerator`;\n}\nfunction _getInformerId2() {\n  return `${this.id}:Informer`;\n}\nDashboard.VERSION = packageJson.version;"],
  "mappings": "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",
  "names": ["require_classnames", "__commonJSMin", "exports", "module", "hasOwn", "classNames", "classes", "i", "arg", "appendClass", "parseValue", "key", "value", "newClass", "require_eventemitter3", "__commonJSMin", "exports", "module", "has", "prefix", "Events", "EE", "fn", "context", "once", "addListener", "emitter", "event", "listener", "evt", "clearEvent", "EventEmitter", "names", "events", "name", "handlers", "i", "l", "ee", "listeners", "a1", "a2", "a3", "a4", "a5", "len", "args", "length", "j", "emaFilter", "newValue", "previousSmoothedValue", "halfLife", "dt", "StatusBarStates_default", "import_classnames", "calculateProcessingProgress", "files", "values", "mode", "message", "progress", "preprocess", "postprocess", "value", "total", "progressValue", "import_classnames", "import_prettier_bytes", "secondsToTime", "rawSeconds", "hours", "minutes", "seconds", "prettyETA", "seconds", "time", "secondsToTime", "hoursStr", "minutesStr", "secondsStr", "DOT", "renderDot", "UploadBtn", "props", "newFiles", "isUploadStarted", "recoveredState", "i18n", "uploadState", "isSomeGhost", "startUpload", "uploadBtnClassNames", "classNames", "StatusBarStates_default", "uploadBtnText", "_", "RetryBtn", "uppy", "CancelBtn", "PauseResumeButton", "isAllPaused", "isAllComplete", "resumableUploads", "title", "togglePauseResume", "DoneBtn", "doneButtonHandler", "LoadingSpinner", "ProgressBarProcessing", "progress", "value", "mode", "message", "ProgressDetails", "numUploads", "complete", "totalUploadedSize", "totalSize", "totalETA", "ifShowFilesUploadedOfTotal", "totalUploadedSizeStr", "prettierBytes", "prettyETA", "FileUploadCount", "UploadNewlyAddedFiles", "ProgressBarUploading", "supportsUploadProgress", "totalProgress", "showProgressDetails", "showUploadNewlyAddedFiles", "renderProgressDetails", "ProgressBarComplete", "ProgressBarError", "error", "displayErrorAlert", "errorMessage", "STATE_ERROR", "STATE_WAITING", "STATE_PREPROCESSING", "STATE_UPLOADING", "STATE_POSTPROCESSING", "STATE_COMPLETE", "StatusBarStates_default", "StatusBarUI", "_ref", "newFiles", "allowNewUpload", "isUploadInProgress", "isAllPaused", "resumableUploads", "error", "hideUploadButton", "hidePauseResumeButton", "hideCancelButton", "hideRetryButton", "recoveredState", "uploadState", "totalProgress", "files", "supportsUploadProgress", "hideAfterFinish", "isSomeGhost", "doneButtonHandler", "isUploadStarted", "i18n", "startUpload", "uppy", "isAllComplete", "showProgressDetails", "numUploads", "complete", "totalSize", "totalETA", "totalUploadedSize", "getProgressValue", "progress", "calculateProcessingProgress", "getIsIndeterminate", "mode", "progressValue", "width", "showUploadBtn", "showCancelBtn", "showPauseResumeBtn", "showRetryBtn", "showDoneBtn", "progressClassNames", "classNames", "statusBarClassNames", "progressBarStateEl", "_", "ProgressBarProcessing", "ProgressBarComplete", "ProgressBarError", "ProgressBarUploading", "UploadBtn", "RetryBtn", "PauseResumeButton", "CancelBtn", "DoneBtn", "locale_default", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "packageJson", "speedFilterHalfLife", "ETAFilterHalfLife", "getUploadingState", "error", "isAllComplete", "recoveredState", "files", "StatusBarStates_default", "state", "fileIDs", "i", "progress", "defaultOptions", "_lastUpdateTime", "_previousUploadedBytes", "_previousSpeed", "_previousETA", "_computeSmoothETA", "_onUploadStart", "StatusBar", "UIPlugin_default", "uppy", "opts", "_computeSmoothETA2", "pv", "_ref", "locale_default", "capabilities", "allowNewUpload", "totalProgress", "newFiles", "startedFiles", "completeFiles", "isUploadStarted", "isAllPaused", "isUploadInProgress", "isSomeGhost", "newFilesOrRecovered", "resumableUploads", "supportsUploadProgress", "totalSize", "totalUploadedSize", "f", "file", "totalETA", "StatusBarUI", "element", "getTextDirection_default", "target", "totalBytes", "_classPrivateFieldLoo", "_classPrivateFieldLoo2", "remaining", "dt", "_classPrivateFieldLoo3", "uploadedBytesSinceLastTick", "_classPrivateFieldLoo4", "currentSpeed", "filteredSpeed", "emaFilter", "instantETA", "updatedPreviousETA", "filteredETA", "TRANSITION_MS", "FadeIn", "x", "b", "callback", "children", "_", "assign", "obj", "props", "getKey", "vnode", "fallback", "_vnode$key", "linkRef", "component", "name", "cache", "c", "getChildMapping", "children", "out", "i", "key", "mergeChildMappings", "prev", "next", "getValueForKey", "nextKeysPending", "pendingKeys", "prevKey", "childMapping", "nextKey", "pendingNextKey", "identity", "TransitionGroup", "x", "context", "H", "initialChildMapping", "nextProps", "nextChildMapping", "prevChildMapping", "prevState", "hasPrev", "hasNext", "keysToEnter", "keysToLeave", "idx", "currentChildMapping", "_ref", "_ref2", "childFactory", "transitionLeave", "transitionName", "transitionAppear", "transitionEnter", "transitionLeaveTimeout", "transitionEnterTimeout", "transitionAppearTimeout", "childrenToRender", "_ref3", "child", "ref", "J", "_", "TransitionGroup_default", "packageJson", "Informer", "UIPlugin_default", "uppy", "opts", "state", "_", "TransitionGroup_default", "info", "FadeIn", "target", "DATA_URL_PATTERN", "dataURItoBlob", "dataURI", "opts", "toFile", "_ref", "_opts$mimeType", "dataURIData", "mimeType", "data", "binary", "bytes", "i", "dataURItoBlob_default", "isObjectURL", "url", "isPreviewSupported", "fileType", "e", "t", "s", "i", "n", "r", "a", "h", "f", "l", "o", "u", "d", "c", "_c", "p", "g", "m", "y", "b", "w", "k", "v", "O", "S", "A", "U", "x", "C", "B", "V", "I", "L", "T", "z", "P", "F", "j", "E", "M", "_", "D", "X", "N", "$", "R", "W", "K", "H", "Y", "G", "J", "q", "Q", "Z", "ee", "te", "se", "ie", "ne", "re", "ae", "he", "le", "ae", "de", "ae", "ce", "e", "t", "H", "s", "pe", "ge", "me", "ye", "be", "c", "we", "a", "r", "i", "ke", "Oe", "b", "A", "n", "locale_default", "packageJson", "canvasToBlob", "canvas", "type", "quality", "err", "resolve", "blob", "dataURItoBlob_default", "rotateImage", "image", "translate", "w", "h", "context", "protect", "ratio", "maxSquare", "maxSize", "maxW", "maxH", "defaultOptions", "ThumbnailGenerator", "UIPlugin_default", "uppy", "opts", "file", "isPreviewSupported", "index", "isObjectURL", "fileIDs", "fileID", "emitPreprocessCompleteForAll", "locale_default", "targetWidth", "targetHeight", "originalUrl", "onload", "reject", "event", "orientationPromise", "ye", "_ref", "orientation", "dimensions", "rotatedImage", "resizedImage", "img", "width", "height", "deg", "aspect", "steps", "sW", "sH", "x", "preview", "current", "findAllDOMElements", "element", "elements", "isDOMElement", "findAllDOMElements_default", "toArray_default", "getFilesAndDirectoriesFromDirectory", "directoryReader", "oldEntries", "logDropError", "_ref", "onSuccess", "entries", "newEntries", "error", "getAsFileSystemHandleFromEntry", "entry", "logDropError", "resolve", "reject", "directoryReader", "getFilesAndDirectoriesFromDirectory", "dirEntries", "file", "createPromiseToAddFileOrParseDirectory", "relativePath", "lastResortFile", "getNextRelativePath", "handle", "e", "getFilesFromDataTransfer", "dataTransfer", "fileSystemHandles", "item", "_fileSystemHandle", "fileSystemHandle", "getAsEntry", "err", "fallbackApi", "dataTransfer", "files", "toArray_default", "getDroppedFiles", "dataTransfer", "options", "_options$logDropError", "logDropError", "accumulator", "file", "getFilesFromDataTransfer", "fallbackApi", "import_classnames", "remoteFileObjToLocal", "file", "getFileNameAndExtension", "GoogleIcon", "_", "DefaultForm", "_ref", "pluginName", "i18n", "onAuth", "isGoogleDrive", "onSubmit", "q", "e", "defaultRenderForm", "_ref2", "AuthView", "_ref3", "loading", "pluginIcon", "handleAuth", "renderForm", "import_classnames", "User", "_ref", "i18n", "logout", "username", "_", "k", "Breadcrumbs", "props", "openFolder", "title", "breadcrumbsIcon", "breadcrumbs", "i18n", "_", "folder", "index", "_folder$data$name", "k", "Header", "props", "_", "classNames", "Breadcrumbs", "User", "_extends", "n", "r", "STYLE_INNER", "STYLE_CONTENT", "VirtualList", "x", "props", "height", "_ref", "data", "rowHeight", "renderRow", "overscanCount", "offset", "start", "visibleRowCount", "end", "selection", "styleInner", "styleContent", "_", "VirtualList_default", "import_classnames", "FileIcon", "_", "FolderIcon", "VideoIcon", "ItemIcon", "_ref", "itemIconString", "alt", "GridItem", "_ref", "_file$data$name", "_file$data$name2", "file", "toggleCheckbox", "className", "isDisabled", "restrictionError", "showTitles", "children", "i18n", "_", "ItemIcon", "GridItem_default", "ListItem", "_ref", "_file$data$name", "_file$data$name2", "_file$data$name3", "file", "openFolder", "className", "isDisabled", "restrictionError", "toggleCheckbox", "showTitles", "i18n", "_", "ItemIcon", "Item", "props", "viewType", "toggleCheckbox", "showTitles", "i18n", "openFolder", "file", "utmSource", "restrictionError", "isDisabled", "ourProps", "classNames", "_", "GridItem_default", "ListItem", "Browser", "props", "displayedPartialTree", "viewType", "toggleCheckbox", "handleScroll", "showTitles", "i18n", "isLoading", "openFolder", "noResultsLabel", "virtualList", "utmSource", "isShiftKeyPressed", "setIsShiftKeyPressed", "d", "y", "handleKeyUp", "e", "handleKeyDown", "_", "renderItem", "item", "Item", "event", "_document$getSelectio", "VirtualList_default", "Browser_default", "afterOpenFolder", "oldPartialTree", "discoveredItems", "clickedFolder", "currentPagePath", "validateSingleFile", "discoveredFolders", "i", "discoveredFiles", "isParentFolderChecked", "folders", "folder", "files", "file", "restrictionError", "updatedClickedFolder", "afterOpenFolder_default", "afterScrollFolder", "oldPartialTree", "currentFolderId", "items", "nextPagePath", "validateSingleFile", "currentFolder", "i", "newFolders", "newFiles", "scrolledFolder", "partialTreeWithUpdatedScrolledFolder", "folder", "isParentFolderChecked", "folders", "files", "file", "restrictionError", "afterScrollFolder_default", "shallowClone", "partialTree", "item", "shallowClone_default", "percolateDown", "tree", "id", "shouldMarkAsChecked", "item", "percolateUp", "folder", "validChildren", "areAllChildrenChecked", "areAllChildrenUnchecked", "afterToggleCheckbox", "oldTree", "clickedRange", "shallowClone_default", "newlyCheckedItems", "clickedItem", "afterToggleCheckbox_default", "import_index", "TimeoutError", "message", "AbortError", "getDOMException", "errorMessage", "getAbortedReason", "signal", "reason", "pTimeout", "promise", "options", "milliseconds", "fallback", "customTimers", "timer", "abortHandler", "cancelablePromise", "resolve", "reject", "timeoutError", "error", "lowerBound", "array", "value", "comparator", "first", "count", "step", "it", "PriorityQueue", "#queue", "run", "options", "element", "index", "lowerBound", "a", "b", "id", "priority", "item", "PQueue", "EventEmitter", "#carryoverConcurrencyCount", "#isIntervalIgnored", "#intervalCount", "#intervalCap", "#interval", "#intervalEnd", "#intervalId", "#timeoutId", "#queue", "#queueClass", "#pending", "#concurrency", "#isPaused", "#throwOnTimeout", "#idAssigner", "options", "PriorityQueue", "#doesIntervalAllowAnother", "#doesConcurrentAllowAnother", "#next", "#tryToStartAnother", "#onResumeInterval", "#onInterval", "#initializeIntervalIfNeeded", "#isIntervalPaused", "now", "delay", "canInitializeInterval", "job", "#processQueue", "newConcurrency", "#throwOnAbort", "signal", "_resolve", "reject", "id", "priority", "function_", "resolve", "operation", "pTimeout", "result", "error", "TimeoutError", "functions", "#onEvent", "limit", "event", "filter", "listener", "recursivelyFetch", "queue", "poorTree", "poorFolder", "apiList", "validateSingleFile", "items", "currentPath", "response", "newFolders", "i", "newFiles", "folders", "folder", "files", "file", "restrictionError", "afterFill", "partialTree", "reportProgress", "PQueue", "shallowClone_default", "item", "nOfFilesChecked", "afterFill_default", "PartialTreeUtils_default", "afterOpenFolder_default", "afterScrollFolder_default", "afterToggleCheckbox_default", "afterFill_default", "shouldHandleScroll", "event", "scrollHeight", "scrollTop", "offsetHeight", "shouldHandleScroll_default", "handleError", "uppy", "error", "handleError_default", "getClickedRange", "clickedId", "displayedPartialTree", "isShiftKeyPressed", "lastCheckbox", "lastCheckboxIndex", "item", "newCheckboxIndex", "getClickedRange_default", "urlAlphabet", "nanoid", "size", "id", "i", "urlAlphabet", "SearchInput", "_ref", "searchString", "setSearchString", "submitSearchString", "wrapperClassName", "inputClassName", "inputLabel", "clearSearchLabel", "showButton", "buttonLabel", "buttonCSSClassName", "onInput", "e", "submit", "q", "ev", "form", "d", "formEl", "nanoid", "y", "_", "SearchInput_default", "import_classnames", "getNumberOfSelectedFiles", "partialTree", "item", "i", "getNumberOfSelectedFiles_default", "FooterActions", "_ref", "cancelSelection", "donePicking", "i18n", "partialTree", "validateAggregateRestrictions", "aggregateRestrictionError", "T", "nOfSelectedFiles", "getNumberOfSelectedFiles_default", "_", "classNames", "getTagFile", "file", "plugin", "provider", "_file$author", "_file$author2", "getTagFile_default", "addFiles", "companionFiles", "plugin", "provider", "tagFiles", "f", "getTagFile_default", "filesToAdd", "filesAlreadyAdded", "tagFile", "getSafeFileId", "addFiles_default", "getPath", "partialTree", "id", "cache", "sId", "file", "f", "meAndParentPath", "getCheckedFilesWithPaths", "item", "absFolders", "firstCheckedFolderIndex", "i", "relFolders", "absDirPath", "relDirPath", "getCheckedFilesWithPaths_default", "getBreadcrumbs", "partialTree", "currentFolderId", "folder", "f", "breadcrumbs", "currentParentId", "getBreadcrumbs_default", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "packageJson", "defaultPickerIcon", "_", "getDefaultState", "rootFolderId", "_abortController", "_withAbort", "ProviderView", "plugin", "opts", "_withAbort2", "file", "companionFile", "remoteFileObjToLocal", "partialTree", "currentFolderId", "searchString", "inThisFolder", "item", "_item$data$name", "uppyFiles", "defaultOptions", "loading", "newPartialTree", "folderId", "clickedFolder", "folder", "signal", "currentPagePath", "currentItems", "username", "nextPagePath", "items", "PartialTreeUtils_default", "handleError_default", "res", "message", "authFormData", "event", "currentFolder", "i", "shouldHandleScroll_default", "enrichedTree", "path", "n", "companionFiles", "getCheckedFilesWithPaths_default", "addFiles_default", "ourItem", "isShiftKeyPressed", "clickedRange", "getClickedRange_default", "state", "viewOptions", "didFirstRender", "i18n", "authenticated", "pluginIcon", "AuthView", "breadcrumbs", "getBreadcrumbs_default", "classNames", "Header", "SearchInput_default", "s", "Browser_default", "FooterActions", "op", "_classPrivateFieldLoo", "abortController", "cancelRequest", "import_classnames", "packageJson", "defaultState", "defaultOptions", "SearchProviderView", "plugin", "opts", "file", "companionFile", "remoteFileObjToLocal", "partialTree", "item", "searchString", "uppyFiles", "loading", "newPartialTree", "response", "error", "handleError_default", "event", "root", "i", "shouldHandleScroll_default", "newRoot", "oldItems", "companionFiles", "getCheckedFilesWithPaths_default", "addFiles_default", "ourItem", "isShiftKeyPressed", "clickedRange", "getClickedRange_default", "PartialTreeUtils_default", "state", "viewOptions", "isInputMode", "i18n", "_", "SearchInput_default", "classNames", "Browser_default", "FooterActions", "urlAlphabet", "nanoid", "size", "id", "i", "urlAlphabet", "safeIsNaN", "value", "isEqual", "first", "second", "areInputsEqual", "newInputs", "lastInputs", "i", "memoizeOne", "resultFn", "cache", "memoized", "newArgs", "_i", "lastResult", "FOCUSABLE_ELEMENTS_default", "getActiveOverlayEl", "dashboardEl", "activeOverlayType", "overlayEl", "focusOnFirstNode", "event", "nodes", "node", "focusOnLastNode", "isFocusInOverlay", "activeOverlayEl", "trapFocus", "activeOverlayType", "dashboardEl", "getActiveOverlayEl", "focusableNodes", "toArray_default", "FOCUSABLE_ELEMENTS_default", "focusedItemIndex", "forInline", "event", "activeOverlayType", "dashboardEl", "trapFocus", "import_debounce", "createSuperFocus", "lastFocusWasOnSuperFocusableEl", "debounce", "dashboardEl", "activeOverlayType", "overlayEl", "getActiveOverlayEl", "isFocusInOverlay", "superFocusableEl", "firstEl", "FOCUSABLE_ELEMENTS_default", "import_classnames", "isDragDropSupported", "div", "import_classnames", "shallowEqualObjects", "objA", "objB", "aKeys", "Object", "keys", "bKeys", "len", "length", "i", "key", "prototype", "hasOwnProperty", "call", "iconImage", "_", "iconAudio", "iconVideo", "iconPDF", "iconArchive", "iconFile", "iconText", "getIconByMime", "fileType", "defaultChoice", "fileTypeGeneral", "fileTypeSpecific", "FilePreview", "props", "file", "_", "color", "icon", "getIconByMime", "metaFieldIdToName", "metaFieldId", "metaFields", "f", "MetaErrorMessage", "props", "file", "toggleFileCard", "i18n", "missingRequiredMetaFields", "metaFieldsString", "missingMetaField", "_", "FilePreviewAndLink", "props", "file", "i18n", "toggleFileCard", "metaFields", "showLinkToFileUploadResult", "previewBackgroundColor", "getIconByMime", "_", "FilePreview", "MetaErrorMessage", "onPauseResumeCancelRetry", "props", "progressIndicatorTitle", "ProgressIndicatorButton", "_", "ProgressCircleContainer", "_ref", "children", "ProgressCircle", "_ref2", "progress", "circleLength", "FileProgress", "import_prettier_bytes", "separator", "truncateString", "string", "maxLength", "charsToShow", "frontChars", "backChars", "renderFileName", "props", "author", "name", "getMaxNameLength", "_", "truncateString", "renderAuthor", "_props$file$remote", "providerName", "dot", "renderFileSize", "prettierBytes", "ReSelectButton", "ErrorButton", "_ref", "file", "onClick", "FileInfo", "i18n", "toggleFileCard", "metaFields", "toggleAddFilesPanel", "isSingleFile", "containerHeight", "containerWidth", "MetaErrorMessage", "copyToClipboard", "textToCopy", "fallbackString", "resolve", "textArea", "magicCopyFailed", "EditButton", "_ref", "file", "uploadInProgressOrComplete", "metaFields", "canEditFile", "i18n", "onClick", "_", "RemoveButton", "_ref2", "CopyLinkButton", "_ref3", "uppy", "copyLinkToClipboard", "event", "copyToClipboard", "Buttons", "props", "showLinkToFileUploadResult", "showRemoveButton", "toggleFileCard", "openFileEditor", "FileItem", "x", "file", "nextProps", "shallowEqualObjects", "isProcessing", "isUploaded", "uploadInProgressOrComplete", "uploadInProgress", "error", "isGhost", "showRemoveButton", "dashboardItemClass", "classNames", "_", "FilePreviewAndLink", "FileProgress", "FileInfo", "Buttons", "chunks", "list", "size", "chunked", "currentChunk", "item", "FileList", "_ref", "id", "i18n", "uppy", "files", "resumableUploads", "hideRetryButton", "hidePauseResumeButton", "hideCancelButton", "showLinkToFileUploadResult", "showRemoveButtonAfterComplete", "metaFields", "isSingleFile", "toggleFileCard", "handleRequestThumbnail", "handleCancelThumbnail", "recoveredState", "individualCancellation", "itemsPerRow", "openFileEditor", "canEditFile", "toggleAddFilesPanel", "containerWidth", "containerHeight", "rowHeight", "rows", "T", "sortByGhostComesFirst", "file1", "file2", "fileIds", "renderRow", "row", "_", "fileID", "FileItem", "VirtualList_default", "AddFiles", "x", "_this$fileInput", "_this$folderInput", "_this$mobileVideoFile", "_this$mobilePhotoFile", "event", "isFolder", "refCallback", "_this$props$allowedFi", "_", "type", "nativeCameraFacingMode", "accept", "text", "onClickFn", "numberOfAcquirers", "browseFiles", "browseFolders", "lowerFMSelectionType", "camelFMSelectionType", "acquirer", "_this$props$activePic", "acquirers", "acquirersWithoutLastTwo", "lastTwoAcquirers", "k", "disableLocalFiles", "showNativePhotoCameraButton", "showNativeVideoCameraButton", "list", "myDeviceKey", "listWithoutLastTwo", "lastTwo", "_ref", "key", "elements", "_ref2", "i18nArray", "uppyBranding", "linkText", "ref", "AddFiles_default", "import_classnames", "AddFilesPanel", "props", "_", "classNames", "AddFiles_default", "AddFilesPanel_default", "import_classnames", "ignoreEvent", "ev", "tagName", "ignoreEvent_default", "PickerPanelContent", "_ref", "activePickerPanel", "className", "hideAllPanels", "i18n", "state", "uppy", "ref", "A", "_", "classNames", "ignoreEvent_default", "PickerPanelContent_default", "import_classnames", "EditorPanel", "props", "file", "handleCancel", "_", "classNames", "target", "EditorPanel_default", "uploadStates", "getUploadingState", "isAllErrored", "isAllComplete", "isAllPaused", "files", "state", "fileIDs", "i", "progress", "UploadStatus", "_ref", "i18n", "inProgressNotPausedFiles", "newFiles", "processingFiles", "PanelTopBar", "props", "hideCancelButton", "maxNumberOfFiles", "toggleAddFilesPanel", "uppy", "allowNewUpload", "_", "PickerPanelTopBar_default", "import_classnames", "RenderMetaFields", "props", "computedMetaFields", "requiredMetaFields", "updateMeta", "form", "formState", "fieldCSSClasses", "field", "id", "required", "_", "newVal", "ev", "FileCard", "props", "_getMetaFields", "files", "fileCardFor", "toggleFileCard", "saveFileCard", "metaFields", "requiredMetaFields", "openFileEditor", "i18n", "i18nArray", "className", "canEditFile", "getMetaFields", "file", "computedMetaFields", "showEditButton", "storedMetaData", "field", "_file$meta$field$id", "formState", "setFormState", "d", "handleSave", "q", "ev", "updateMeta", "newVal", "name", "handleCancel", "form", "formEl", "nanoid", "y", "_", "classNames", "ignoreEvent_default", "getIconByMime", "FilePreview", "event", "RenderMetaFields", "import_classnames", "transitionName", "duration", "Slide", "_ref", "children", "cachedChildren", "setCachedChildren", "d", "className", "setClassName", "enterTimeoutRef", "A", "leaveTimeoutRef", "animationFrameRef", "handleEnterTransition", "handleLeaveTransition", "y", "child", "H", "J", "classNames", "Slide_default", "_extends", "n", "r", "WIDTH_XL", "WIDTH_LG", "WIDTH_MD", "HEIGHT_MD", "Dashboard", "props", "isNoFiles", "isSingleFile", "isSizeMD", "isSizeHeightMD", "dashboardClassName", "classNames", "itemsPerRow", "showFileList", "numberOfFilesForRecovery", "numberOfGhosts", "fileID", "renderRestoredText", "_", "isDragDropSupported", "PickerPanelTopBar_default", "FileList", "AddFiles_default", "Slide_default", "AddFilesPanel_default", "FileCard", "PickerPanelContent_default", "EditorPanel_default", "target", "locale_default", "_classPrivateFieldLooseBase", "e", "t", "id", "_classPrivateFieldLooseKey", "packageJson", "memoize", "memoizeOne", "TAB_KEY", "ESC_KEY", "createPromise", "o", "resolve", "reject", "defaultOptions", "defaultPickerIcon", "_disabledNodes", "_generateLargeThumbnailIfSingleFile", "_openFileEditorWhenFilesAdded", "_attachRenderFunctionToTarget", "_isTargetSupported", "_getAcquirers", "_getProgressIndicators", "_getEditors", "_addSpecifiedPluginsFromOptions", "_autoDiscoverPlugins", "_addSupportedPluginIfNoTarget", "_getStatusBarOpts", "_getThumbnailGeneratorOpts", "_getInformerOpts", "_getStatusBarId", "_getThumbnailGeneratorId", "_getInformerId", "Dashboard", "UIPlugin_default", "uppy", "_opts", "_opts$autoOpen", "_this$opts", "_this$opts$onRequestC", "autoOpen", "_getInformerId2", "_getThumbnailGeneratorId2", "_getStatusBarId2", "_getInformerOpts2", "_getThumbnailGeneratorOpts2", "_getStatusBarOpts2", "nanoid", "createSuperFocus", "plugin", "newTargets", "target", "callerPluginId", "callerPluginName", "callerPluginType", "_state$activePickerPa", "state", "update", "targets", "activePickerPanel", "file", "editors", "editor", "metaFields", "promise", "handler", "opts", "_opts$manualClose", "manualClose", "isHidden", "isClosing", "_history$state", "isDarkModeOn", "capabilities", "event", "isDarkModeOnNow", "show", "fileID", "files", "descriptors", "err", "entries", "uppyDashboardInnerEl", "width", "height", "pluginState", "isModalAndClosed", "disable", "_classPrivateFieldLoo", "NODES_TO_DISABLE", "nodesToDisable", "toArray_default", "node", "_history$state2", "_event$state", "trapFocus", "canSomePluginHandleRootDrop", "somePluginCanHandleRootDrop", "doesEventHaveFiles", "types", "type", "hasFiles", "executedDropErrorOnce", "logDropError", "error", "getDroppedFiles", "forInline", "_ref", "failed", "LARGE_THUMBNAIL", "thumbnailGenerator", "fileForThumbnail", "firstFile", "isMetaEditorEnabled", "isImageEditorEnabled", "showModalTrigger", "findAllDOMElements_default", "trigger", "isFocusInUppy", "isFocusNowhere", "isInformerHidden", "isModal", "meta", "allowNewUpload", "newFiles", "uploadStartedFiles", "completeFiles", "erroredFiles", "inProgressFiles", "inProgressNotPausedFiles", "processingFiles", "isUploadStarted", "isAllComplete", "isAllPaused", "acquirers", "progressindicators", "theme", "plugins", "pluginID", "_plugin$opts", "typesAllowed", "installedPlugin", "inline", "closeAfterFinish", "allowMultipleUploads", "allowMultipleUploadBatches", "StatusBar", "Informer", "ThumbnailGenerator", "isDarkModeOnFromTheStart", "_this$darkModeMediaQu", "informer", "statusBar", "thumbnail", "_this$darkModeMediaQu2", "locale_default", "_this$uppy$getPlugin", "_this$uppy$getPlugin2", "hideUploadButton", "hideRetryButton", "hidePauseResumeButton", "hideCancelButton", "showProgressDetails", "hideProgressAfterFinish", "doneButtonHandler", "thumbnailWidth", "thumbnailHeight", "thumbnailType", "waitForThumbnailsBeforeUpload"]
}
